{"version":3,"sources":["webpack:///./src/editor/themes/base.less?e272","editor/themes/base.less","editor/plugins/MarkDownShortcuts/utils/index.js","editor/plugins/MarkDownShortcuts/onSpace.js","editor/plugins/MarkDownShortcuts/onDash.js","editor/plugins/MarkDownShortcuts/onBacktick.js","editor/plugins/MarkDownShortcuts/onTab.js","editor/plugins/MarkDownShortcuts/commands.js","editor/plugins/MarkDownShortcuts/utils/flow.js","editor/plugins/MarkDownShortcuts/index.js","editor/plugins/KeyboardShortcuts/index.js","editor/plugins/OnKeyDown/utils.js","editor/plugins/OnKeyDown/services/blockQuote.js","editor/plugins/OnKeyDown/services/heading.js","editor/plugins/OnKeyDown/onEnter.js","editor/plugins/OnKeyDown/onBackspace.js","editor/plugins/Paste/MarkDownPaste.js","editor/plugins/HOC/link.js","editor/plugins/HOC/onPaste.js","editor/plugins/HOC/index.js","editor/plugins/HOC/components/Icon.js","editor/plugins/HOC/components/Button.js","editor/plugins/HOC/components/Menu.js","editor/plugins/HOC/HoverMenu.js","editor/plugins/Image/data-uri-to-blob.js","editor/plugins/Image/image-to-data-uri.js","editor/plugins/Image/load-image-file.js","editor/plugins/Image/index.js","editor/plugins/Embed/UrlInput.js","editor/plugins/Embed/EmbedComponent.js","editor/theme.js","editor/components/Hr.js","editor/components/Image.js","editor/components/Link.js","editor/components/TodoItem.js","editor/components/ListItem.js","editor/components/TodoList.js","editor/components/Heading.js","editor/components/Paragraph.js","editor/plugins/AnyLateRender/renderBlock.js","editor/plugins/AnyLateRender/renderMark.js","editor/plugins/AnyLateRender/renderInline.js","editor/plugins/AnyLateRender/schema.js","editor/plugins/Toolbar/components/List.js","editor/plugins/Toolbar/SideIcon.js","editor/plugins/Draggable/Context.js","editor/plugins/Draggable/Container.js","editor/plugins/Draggable/Card.js","editor/plugins/Draggable/CardHOC.js","editor/plugins.js","editor/plugins/Draggable/index.js","editor/plugins/KeyboardShortcuts/utils.js","editor/plugins/OnKeyDown/index.js","editor/plugins/OnKeyDown/onDash.js","editor/plugins/Embed/index.js","editor/plugins/AnyLateRender/index.js","editor/index.js","serviceWorker.js","index.js"],"names":["content","module","i","options","locals","exports","push","inlineShortcuts","mark","shortcut","reg","wrap","type","getType","chars","onSpace","event","editor","next","value","selection","startBlock","isExpanded","text","slice","start","offset","trim","match","preventDefault","insertListItem","moveFocusToStartOfNode","delete","setBlocks","withoutNormalizing","getTexts","forEach","firstText","key","result","exec","index","length","end","label","uri","removeTextByKey","splitBlock","data","src","alt","moveForward","moveStartTo","moveEndTo","wrapInline","href","moveToEnd","moveAnchorTo","addMark","removeMark","onDash","ev","replace","insertBlock","focus","onBacktick","onTab","sibling","document","getPreviousSibling","parent","getParent","removeNodeByKey","lastChild","nodes","last","includes","insertItem","Block","create","object","insertNodeByKey","size","forceSubType","forceSwitch","subType","find","item","test","getSubType","isCurrentBlockListItem","wrapType","checked","getClosestBlock","setNodeByKey","node","ListItem","wrapBlock","handlerShortCut","insertMathBlock","moveToStartOfNode","flow","conditionActions","condition","action","MarkdownShortcuts","isDash","isHotkey","isBacktick","isSpace","isTab","setParagraph","setHeading1","setHeading2","setHeading3","setHeading4","setHeading5","setHeading6","setOrderedList","setBulletedList","setTodoList","setBlockQuote","insertHr","commands","onKeyDown","e","ifFlow","toggleMark","whenTrueOrNext","noop","chain","conditions","reduceRight","acc","isModKey","window","navigator","platform","metaKey","ctrlKey","onEnterInblockQuote","endsWith","moveFocusBackward","unwrapBlock","insertText","onEnterInHeading","onEnter","endOffset","isVoid","moveToStartOfPreviousBlock","startParent","getClosest","grandParent","onBackspace","parentType","markdownSerializer","MarkdownSerializer","wrapLink","unwrapLink","unwrapInline","ifHasLinks","inlines","some","inline","onPaste","isCollapsed","transfer","getEventTransfer","isUrl","command","Editor","children","hocs","readOnly","Fragment","map","hoc","Icon","React","forwardRef","ref","icon","props","className","cx","css","Button","active","activeMarks","onClickLink","prompt","onMouseDown","Menu","HoverMenu","visible","useRef","root","getElementById","body","menu","current","fragment","isBlurred","removeAttribute","rect","getSelection","getRangeAt","getBoundingClientRect","style","opacity","top","pageYOffset","offsetHeight","left","pageXOffset","offsetWidth","width","ReactDOM","createPortal","mime","split","dataUriToBlob","bytes","atob","buffer","ArrayBuffer","array","Uint8Array","charCodeAt","Blob","blob","webkitSlice","srcToDataUri","url","callback","canvas","createElement","img","getContext","setTimeout","Error","onload","ctx","height","drawImage","dataUri","toDataURL","ononerror","setAttribute","loadImageFile","isDataUri","file","imageToDataUri","err","DropOrPasteImages","insertImage","extensions","applyTransform","matchExt","accepted","ext","asyncApplyChange","change","Promise","resolve","then","onChange","onInsert","range","getEventRange","files","select","onInsertFiles","html","firstChild","DOMParser","parseFromString","nodeName","toLowerCase","extname","c","onInsertHtml","isImage","onInsertText","onDrop","insertImageFile","onImageUploadStart","onShowToast","onImageUploadStop","uploadImage","KeyUtils","placeholderSrc","URL","createObjectURL","loading","withoutSaving","catch","finally","VideoUrlInput","useState","defaultValue","val","setVal","useCallback","target","onClick","EmbedComponent","createRef","stopPropagation","renderView","isFocused","get","wrapperStyle","position","outline","maskStyle","display","cursor","zIndex","id","frameBorder","title","renderInput","marginTop","boxSizing","background","lineHeight","fontSize","color","isSelected","this","attributes","Component","componentClassName","Blockquote","OL","ToDoList","BulletedList","OrderedList","ToDoItem","ToDoItemContent","ToDoItemCheckbox","Paragraph","ParagraphPlaceHolder","Hr","H1","H2","H3","H4","H5","H6","DragContainer","DragHandler","Link","Code","theme","base","dark","Image","state","hasError","handleKeyDown","moveToRangeOfNode","moveToStartOfNextBlock","handleChange","toObject","caption","showCaption","contentEditable","margin","padding","border","marginBottom","maxWidth","maxHeight","textAlign","minHeight","Caption","minWidth","placeholder","disabled","styled","input","textSecondary","embed","undefined","rel","CheckListItem","setState","suppressContentEditableWarning","TodoItem","TodoList","Heading","depth","data-error","Heading1","Heading2","Heading3","Heading4","Heading5","Heading6","placeholderVisible","classnames","renderBlock","renderMark","renderInline","schema","blocks","heading1","heading2","heading3","heading4","heading5","heading6","image","link","normalize","code","child","min","paragraph","List","items","hiddenMenu","block","clickHandler","shortCut","iconItems","WrapperBlock","wrapper","useEffect","DemoWrapper2","setVisible","triggerRef","iconItem","placement","destroyTooltipOnHide","onVisibleChange","v","trigger","overlay","Context","createContext","reducer","hoverKey","payload","dragKey","Container","useReducer","dispatch","Provider","backend","HTML5Backend","Card","nodeKey","moveCard","parentKey","hoverIndex","findIndex","moveNodeByKey","useDrag","collect","monitor","isDragging","dropEffect","begin","dropResult","drag","preview","hover","borderTopColor","borderBottomColor","borderExtra","th","throttle","CardHOC","useDrop","accept","drop","renderEditor","Consumer","Draggable","Array","isArray","plugins","HOC","Math","Table","Wrapper","SideIcon","MarkDownShortcuts","onEnterHandler","onBackspaceHandler","OnKeyDown","deserialize","insertFragment","initialValue","Value","fromJSON","initialValueAsJson","AnySlate","light","currentTheme","setTheme","Boolean","location","hostname","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fc2f335b.chunk.js","sourcesContent":["var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./base.less\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".any-theme-dark {\\n  --theme-color-primary: #FFF;\\n  --theme-color-primary-lighten: #EEE;\\n  --theme-color-helper: #CCC;\\n  --theme-color-helper-lighten: #f8f8f8;\\n  --theme-color-warn: #f77700;\\n  --theme-color-info: #f8f8f8;\\n  --theme-color-danger: #ff4242;\\n  --theme-color-success: #1a2;\\n  --theme-color-title: #eee;\\n  --theme-color-title-lighten: #eeeeee80;\\n  --theme-color-text-primary: #fff;\\n  --theme-color-text-lighten: #ffffff80;\\n  --theme-color-text-disabled: #BFBFBF;\\n  --theme-color-light: #666;\\n  --theme-color-white: #333;\\n  background: var(--theme-color-white, #fff);\\n}\\n:root {\\n  --theme-color-primary: #2275FF;\\n  --theme-color-primary-lighten: #2275ff80;\\n  --theme-color-helper: #6C6C6C;\\n  --theme-color-helper-lighten: #6C6C6C86;\\n  --theme-color-warn: #f77700;\\n  --theme-color-info: #6C6C6C40;\\n  --theme-color-danger: #ff4242;\\n  --theme-color-success: #1a2;\\n  --theme-color-title: #333;\\n  --theme-color-title-lighten: #33333380;\\n  --theme-color-text-primary: #666;\\n  --theme-color-text-lighten: #66666680;\\n  --theme-color-text-disabled: #BFBFBF;\\n  --theme-color-light: #f5f5f5;\\n  --theme-color-white: #fff;\\n}\\nbody,\\n#root,\\n#app {\\n  position: relative;\\n  background: var(--theme-color-light, #f5f5f5);\\n  font-size: 14px;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", \\\"Roboto\\\", \\\"Oxygen\\\", \\\"Ubuntu\\\", \\\"Cantarell\\\", \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\nbody .any-theme-base,\\n#root .any-theme-base,\\n#app .any-theme-base {\\n  padding-left: 0;\\n  margin: 2rem;\\n  font-size: 16px;\\n  text-align: left;\\n  overflow: visible;\\n  background: var(--theme-color-white, #fff);\\n  position: relative;\\n}\\nbody .any-theme-base blockquote p,\\n#root .any-theme-base blockquote p,\\n#app .any-theme-base blockquote p {\\n  font-weight: 600;\\n  margin-left: 0;\\n}\\nbody .any-theme-base h1,\\n#root .any-theme-base h1,\\n#app .any-theme-base h1,\\nbody .any-theme-base h2,\\n#root .any-theme-base h2,\\n#app .any-theme-base h2,\\nbody .any-theme-base h3,\\n#root .any-theme-base h3,\\n#app .any-theme-base h3,\\nbody .any-theme-base h4,\\n#root .any-theme-base h4,\\n#app .any-theme-base h4,\\nbody .any-theme-base h5,\\n#root .any-theme-base h5,\\n#app .any-theme-base h5,\\nbody .any-theme-base h6,\\n#root .any-theme-base h6,\\n#app .any-theme-base h6 {\\n  margin: 0;\\n  padding: 0;\\n  color: var(--theme-color-title, #333);\\n}\\nbody .any-theme-base ol,\\n#root .any-theme-base ol,\\n#app .any-theme-base ol,\\nbody .any-theme-base p,\\n#root .any-theme-base p,\\n#app .any-theme-base p,\\nbody .any-theme-base ul,\\n#root .any-theme-base ul,\\n#app .any-theme-base ul {\\n  line-height: 14.4px;\\n  word-spacing: 0.05rem;\\n  color: var(--theme-color-text-primary, #666);\\n  padding: 0 12px;\\n  margin-bottom: 8px;\\n  margin-block-start: 0px;\\n  margin-block-end: 0px;\\n  margin-inline-start: 0px;\\n  margin-inline-end: 0px;\\n}\\nbody .any-theme-base ol li,\\n#root .any-theme-base ol li,\\n#app .any-theme-base ol li,\\nbody .any-theme-base p li,\\n#root .any-theme-base p li,\\n#app .any-theme-base p li,\\nbody .any-theme-base ul li,\\n#root .any-theme-base ul li,\\n#app .any-theme-base ul li {\\n  padding: 0 2px;\\n}\\nbody .any-theme-base .any-code,\\n#root .any-theme-base .any-code,\\n#app .any-theme-base .any-code,\\nbody .any-theme-base .any-code pre,\\n#root .any-theme-base .any-code pre,\\n#app .any-theme-base .any-code pre {\\n  background-color: var(--theme-color-light, #f5f5f5);\\n  font-family: source-code-pro, Roboto Mono, Monaco, courier, Consolas, \\\"Courier New\\\", monospace;\\n  border-radius: 2px;\\n  color: var(--theme-color-danger, #ff4242);\\n  font-size: 16px;\\n  margin: 0 2px;\\n  padding: 0 8px;\\n  white-space: pre-wrap;\\n}\\nbody .any-theme-base iframe,\\n#root .any-theme-base iframe,\\n#app .any-theme-base iframe {\\n  margin: 16px;\\n}\\nbody .any-theme-base em,\\n#root .any-theme-base em,\\n#app .any-theme-base em {\\n  color: var(--theme-color-title, #333);\\n}\\nbody .any-theme-base .any-bulleted-list li + li,\\n#root .any-theme-base .any-bulleted-list li + li,\\n#app .any-theme-base .any-bulleted-list li + li,\\nbody .any-theme-base .any-ordered-list li + li,\\n#root .any-theme-base .any-ordered-list li + li,\\n#app .any-theme-base .any-ordered-list li + li {\\n  margin-top: 8px;\\n}\\nbody .any-theme-base .any-bulleted-list .any-li,\\n#root .any-theme-base .any-bulleted-list .any-li,\\n#app .any-theme-base .any-bulleted-list .any-li,\\nbody .any-theme-base .any-ordered-list .any-li,\\n#root .any-theme-base .any-ordered-list .any-li,\\n#app .any-theme-base .any-ordered-list .any-li {\\n  line-height: 20px;\\n  padding-left: 4px;\\n}\\nbody .any-theme-base .any-bulleted-list .any-li .any-bulleted-list,\\n#root .any-theme-base .any-bulleted-list .any-li .any-bulleted-list,\\n#app .any-theme-base .any-bulleted-list .any-li .any-bulleted-list,\\nbody .any-theme-base .any-ordered-list .any-li .any-bulleted-list,\\n#root .any-theme-base .any-ordered-list .any-li .any-bulleted-list,\\n#app .any-theme-base .any-ordered-list .any-li .any-bulleted-list {\\n  padding-left: 16px;\\n}\\nbody .any-theme-base .any-todo-list,\\n#root .any-theme-base .any-todo-list,\\n#app .any-theme-base .any-todo-list {\\n  list-style: none;\\n}\\nbody .any-theme-base .any-todo-list li + li,\\n#root .any-theme-base .any-todo-list li + li,\\n#app .any-theme-base .any-todo-list li + li {\\n  margin-top: 8px;\\n}\\nbody .any-theme-base .any-todo-list .any-todo-checkbox,\\n#root .any-theme-base .any-todo-list .any-todo-checkbox,\\n#app .any-theme-base .any-todo-list .any-todo-checkbox {\\n  margin: 0 12px 0 8px;\\n  padding: 0;\\n  line-height: 20px;\\n  vertical-align: middle;\\n  width: 12px;\\n}\\nbody .any-theme-base .any-todo-list .any-todo-content,\\n#root .any-theme-base .any-todo-list .any-todo-content,\\n#app .any-theme-base .any-todo-list .any-todo-content {\\n  margin-right: 0;\\n  padding: 0;\\n  line-height: 20px;\\n  vertical-align: middle;\\n}\\nbody .any-theme-base .any-todo-list .any-todo-item,\\n#root .any-theme-base .any-todo-list .any-todo-item,\\n#app .any-theme-base .any-todo-list .any-todo-item {\\n  line-height: 20px;\\n  margin-left: -24px;\\n  padding-left: 0;\\n}\\nbody .any-theme-base .any-p-with-placeholder,\\n#root .any-theme-base .any-p-with-placeholder,\\n#app .any-theme-base .any-p-with-placeholder,\\nbody .any-theme-base .any-p,\\n#root .any-theme-base .any-p,\\n#app .any-theme-base .any-p {\\n  padding: 0 ;\\n  line-height: 24px;\\n  font-size: 16px;\\n}\\nbody .any-theme-base .any-p,\\n#root .any-theme-base .any-p,\\n#app .any-theme-base .any-p {\\n  color: var(--theme-color-text-primary, #666);\\n}\\nbody .any-theme-base .any-p-with-placeholder,\\n#root .any-theme-base .any-p-with-placeholder,\\n#app .any-theme-base .any-p-with-placeholder {\\n  color: var(--theme-color-title-lighten, #33333380);\\n}\\nbody .any-theme-base .any-h1,\\n#root .any-theme-base .any-h1,\\n#app .any-theme-base .any-h1 {\\n  font-size: 48px;\\n  line-height: 60px;\\n}\\nbody .any-theme-base .any-h2,\\n#root .any-theme-base .any-h2,\\n#app .any-theme-base .any-h2 {\\n  font-size: 36px;\\n  line-height: 45px;\\n}\\nbody .any-theme-base .any-h3,\\n#root .any-theme-base .any-h3,\\n#app .any-theme-base .any-h3 {\\n  font-size: 24px;\\n  line-height: 30px;\\n}\\nbody .any-theme-base .any-h4,\\n#root .any-theme-base .any-h4,\\n#app .any-theme-base .any-h4 {\\n  font-size: 16px;\\n  line-height: 20px;\\n}\\nbody .any-theme-base .any-h5,\\n#root .any-theme-base .any-h5,\\n#app .any-theme-base .any-h5 {\\n  font-size: 18px;\\n  line-height: 17.5px;\\n}\\nbody .any-theme-base .any-h6,\\n#root .any-theme-base .any-h6,\\n#app .any-theme-base .any-h6 {\\n  font-size: 16px;\\n  line-height: 18px;\\n}\\nbody .any-theme-base .any-h1,\\n#root .any-theme-base .any-h1,\\n#app .any-theme-base .any-h1,\\nbody .any-theme-base .any-h2,\\n#root .any-theme-base .any-h2,\\n#app .any-theme-base .any-h2,\\nbody .any-theme-base .any-h3,\\n#root .any-theme-base .any-h3,\\n#app .any-theme-base .any-h3,\\nbody .any-theme-base .any-h4,\\n#root .any-theme-base .any-h4,\\n#app .any-theme-base .any-h4,\\nbody .any-theme-base .any-h5,\\n#root .any-theme-base .any-h5,\\n#app .any-theme-base .any-h5,\\nbody .any-theme-base .any-h6,\\n#root .any-theme-base .any-h6,\\n#app .any-theme-base .any-h6 {\\n  font-weight: 600;\\n  height: auto;\\n  margin: 0;\\n  margin-block-start: 0;\\n  margin-block-end: 0;\\n  margin-inline-start: 0;\\n  margin-inline-end: 0;\\n}\\nbody .any-theme-base .any-drag-container,\\n#root .any-theme-base .any-drag-container,\\n#app .any-theme-base .any-drag-container {\\n  position: relative;\\n  transition: auto;\\n  padding: 0.5rem 1rem 0.5rem 1.2rem;\\n  background: transparent;\\n  opacity: 1;\\n  border: 2px solid transparent;\\n}\\nbody .any-theme-base .any-drag-container .any-drag-handler,\\n#root .any-theme-base .any-drag-container .any-drag-handler,\\n#app .any-theme-base .any-drag-container .any-drag-handler {\\n  display: none;\\n  position: absolute;\\n  font-size: 20px;\\n  color: var(--theme-color-text-primary, #666);\\n  width: 24px;\\n  height: 24px;\\n  left: -4px;\\n  top: 6px;\\n  width: 16px;\\n  cursor: move;\\n}\\nbody .any-theme-base .any-drag-container:hover .any-drag-handler,\\n#root .any-theme-base .any-drag-container:hover .any-drag-handler,\\n#app .any-theme-base .any-drag-container:hover .any-drag-handler {\\n  display: block;\\n}\\nbody .any-theme-base .any-link,\\n#root .any-theme-base .any-link,\\n#app .any-theme-base .any-link {\\n  color: var(--theme-color-primary, #2275FF);\\n  font-weight: 600;\\n}\\nbody .any-theme-base .any-blockquote,\\n#root .any-theme-base .any-blockquote,\\n#app .any-theme-base .any-blockquote {\\n  border-left: 4px solid var(--theme-color-primary, #2275FF);\\n  color: var(--theme-color-title-lighten, #33333380);\\n  margin: 0;\\n  padding: 8px 12px;\\n  background-color: var(--theme-color-light, #f5f5f5);\\n  font-style: italic;\\n  font-size: 16px;\\n  border-radius: 2px;\\n}\\nbody .any-theme-base .any-blockquote-info,\\n#root .any-theme-base .any-blockquote-info,\\n#app .any-theme-base .any-blockquote-info {\\n  border-left: 4px solid var(--theme-color-primary, #2275FF);\\n}\\nbody .any-theme-base .any-blockquote-warning,\\n#root .any-theme-base .any-blockquote-warning,\\n#app .any-theme-base .any-blockquote-warning {\\n  border-left: 4px solid var(--theme-color-warn, #f77700);\\n}\\nbody .any-theme-base .any-blockquote-danger,\\n#root .any-theme-base .any-blockquote-danger,\\n#app .any-theme-base .any-blockquote-danger {\\n  border-left: 4px solid var(--theme-color-danger, #ff4242);\\n}\\nbody .any-theme-base .any-blockquote-success,\\n#root .any-theme-base .any-blockquote-success,\\n#app .any-theme-base .any-blockquote-success {\\n  border-left: 4px solid var(--theme-color-success, #1a2);\\n}\\n\", \"\"]);\n\n","export const inlineShortcuts = [\n\t{ mark: 'bold', shortcut: '**', reg: /\\*\\*\\S+\\*\\*/ },\n\t{ mark: 'bold', shortcut: '__', reg: /__\\S+__/ },\n\t{ mark: 'italic', shortcut: '*', reg: /\\*\\S+\\*/ },\n\t{ mark: 'italic', shortcut: '_', reg: /_\\S+_/ },\n\t{ mark: 'code', shortcut: '`', reg: /`\\S+`/ },\n\t{ mark: 'inserted', shortcut: '++', reg: /\\+\\+\\S+\\+\\+/ },\n\t{ mark: 'deleted', shortcut: '~~', reg: /~~\\S+~~/ },\n\t{ wrap: 'image', type: 'block', reg: /!\\[\\S*]\\(\\S+\\)/ },\n\t{ wrap: 'link', type: 'inline', reg: /\\[\\S+\\]\\(\\S+\\)/ }\n];\n\nexport const getType = (chars) => {\n\tswitch (chars) {\n\t\tcase '*':\n\t\tcase '+':\n\t\tcase '1.':\n\t\tcase '- [ ]':\n\t\tcase '- [x]':\n\t\t\treturn 'list-item';\n\t\tcase '>':\n\t\t\treturn 'block-quote';\n\t\tcase '#':\n\t\t\treturn 'heading1';\n\t\tcase '##':\n\t\t\treturn 'heading2';\n\t\tcase '###':\n\t\t\treturn 'heading3';\n\t\tcase '####':\n\t\t\treturn 'heading4';\n\t\tcase '#####':\n\t\t\treturn 'heading5';\n\t\tcase '######':\n\t\t\treturn 'heading6';\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n\nexport const addMark = (startBlock, editor) => {\n\tfor (const key of inlineShortcuts) {\n\t\tlet { mark, shortcut, reg } = key;\n\t\tlet inlineTags = [];\n\t\tlet result = null;\n\n\t\twhile ((result = reg.exec(startBlock.text)) !== null) {\n\t\t\tconsole.log(inlineTags);\n\t\t\tinlineTags = [ result.index, result.index + result[0].length ];\n\t\t}\n\n\t\tconst firstText = startBlock.getFirstText();\n\t\tif (inlineTags.length > 1) {\n\t\t\tconst [ start, end ] = inlineTags;\n\t\t\treturn editor\n\t\t\t\t.removeTextByKey(firstText.key, end - shortcut.length, shortcut.length)\n\t\t\t\t.removeTextByKey(firstText.key, start, shortcut.length)\n\t\t\t\t.moveAnchorTo(start, end)\n\t\t\t\t.addMark(mark)\n\t\t\t\t.moveToEnd()\n\t\t\t\t.removeMark(mark);\n\t\t}\n\t}\n\treturn false;\n};\n\nexport const isModKey = (event) => {\n\tconst inIOS = typeof window !== 'undefined' && /Mac|iPad|iPod|iPhone/.test(window.navigator.platform);\n\treturn inIOS ? event.metaKey : event.ctrlKey;\n};\n","import { getType, inlineShortcuts } from './utils';\n\nexport default function onSpace(event, editor, next) {\n\tconst { value } = editor;\n\tconst { selection, startBlock } = value;\n\n\t//当选区非空，直接放弃操作\n\tif (selection.isExpanded) {\n\t\treturn next();\n\t}\n\n\tconst chars = startBlock.text.slice(0, selection.start.offset).trim(); //光标位置的偏移量, 去除 两侧的空格\n\tconst type = getType(chars); //计算类型\n\t//判断类型是否符合处理类型的markdown组件\n\tif (type) {\n\t\t//如果类型匹配为heading则址\n\t\tconsole.log(chars, type);\n\n\t\tif (type.match(/heading/) || type.match('paragraph')) {\n\t\t\t// 防止空格\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tif (startBlock.type.match(/heading/) && !type.match(/heading/)) {\n\t\t\treturn next();\n\t\t}\n\t\tif (type === 'list-item') {\n\t\t\treturn editor.insertListItem(); //不传入参数，则由正则判断，传入字符串，表示类型\t 'ordered' ｜ 'undo'｜'finished'｜ 'bulleted'\n\t\t}\n\t\treturn editor.moveFocusToStartOfNode(startBlock).delete().setBlocks(type);\n\t}\n\n\teditor.withoutNormalizing((editor) => {\n\t\tconst list = startBlock.getTexts();\n\t\tlist.forEach((firstText) => {\n\t\t\tfor (const key of inlineShortcuts) {\n\t\t\t\tlet { mark, shortcut, reg, type, wrap } = key;\n\t\t\t\tconst text = firstText.text;\n\t\t\t\tlet inlineTags = [];\n\t\t\t\tlet result = reg.exec(text);\n\t\t\t\tif (result) {\n\t\t\t\t\tinlineTags = [ result.index, result.index + result[0].length ];\n\t\t\t\t\tconst [ start, end ] = inlineTags;\n\t\t\t\t\tif (type === 'block' && wrap === 'image') {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tconst [ , label, uri ] = /\\[(\\S*)\\]\\((\\S+)\\)/.exec(result[0]);\n\t\t\t\t\t\teditor\n\t\t\t\t\t\t\t.removeTextByKey(firstText.key, start, result[0].length)\n\t\t\t\t\t\t\t.splitBlock()\n\t\t\t\t\t\t\t.setBlocks({\n\t\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\t\tdata: { src: uri, alt: label }\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.moveForward(1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (type === 'inline' && wrap === 'link') {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tconst [ , label, uri ] = /\\[(\\S+)\\]\\((\\S+)\\)/.exec(result[0]);\n\t\t\t\t\t\teditor\n\t\t\t\t\t\t\t.removeTextByKey(firstText.key, end - uri.length - 3, uri.length + 3)\n\t\t\t\t\t\t\t.removeTextByKey(firstText.key, start, 1)\n\t\t\t\t\t\t\t.moveStartTo(firstText.key, start)\n\t\t\t\t\t\t\t.moveEndTo(firstText.key, start + label.length)\n\t\t\t\t\t\t\t.wrapInline({\n\t\t\t\t\t\t\t\ttype: 'link',\n\t\t\t\t\t\t\t\tdata: { href: uri }\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.moveToEnd();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\teditor\n\t\t\t\t\t\t.removeTextByKey(firstText.key, end - shortcut.length, shortcut.length)\n\t\t\t\t\t\t.removeTextByKey(firstText.key, start, shortcut.length)\n\t\t\t\t\t\t.moveAnchorTo(start, end - shortcut.length)\n\t\t\t\t\t\t.addMark(mark)\n\t\t\t\t\t\t.moveToEnd()\n\t\t\t\t\t\t.removeMark(mark);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\treturn next();\n}\n","export default function onDash(ev, editor, next) {\n\tconst { value } = editor;\n\tconst { startBlock, selection } = value;\n\tif (selection.isExpanded) return next();\n\n\tif (startBlock.type.match(/heading/)) return next();\n\t// if (editor.isSelectionInTable()) return next();\n\n\tconst chars = startBlock.text.slice(0, selection.start.offset).replace(/\\s*/g, '');\n\n\tif (chars === '--') {\n\t\tev.preventDefault();\n\t\teditor\n\t\t\t.moveFocusToStartOfNode(startBlock)\n\t\t\t.delete()\n\t\t\t.setBlocks('horizontal-rule')\n\t\t\t.insertBlock('paragraph')\n\t\t\t.focus();\n\t\treturn true;\n\t}\n\n\treturn next();\n}\n","export default function onBacktick(ev, editor, next) {\n\tconst { value } = editor;\n\tconst { startBlock, selection } = value;\n\tif (selection.isExpanded) return next();\n\tif (startBlock.type.match(/heading/)) return next();\n\n\t// const chars = startBlock.text.slice(0, selection.start.offset).replace(/\\s*/g, '');\n\n\t// if (chars === '``') {\n\t// \tev.preventDefault();\n\t// \treturn editor.moveFocusToStartOfNode(startBlock).delete().setBlocks({ type: 'code' });\n\t// }\n\n\treturn next();\n}\n","import { Block } from 'slate';\nexport default function onTab(event, editor, next) {\n\tconst { startBlock } = editor.value;\n\n\tif (startBlock.type !== 'list-item') {\n\t\treturn next();\n\t}\n\tevent.preventDefault();\n\tconst sibling = editor.value.document.getPreviousSibling(startBlock.key);\n\tconsole.log('sibling', sibling);\n\tconst parent = editor.value.document.getParent(startBlock.key);\n\tconsole.log('TCL: onTab -> parent', parent);\n\n\teditor.removeNodeByKey(startBlock.key);\n\n\tif (!sibling) {\n\t\treturn next();\n\t}\n\tconst lastChild = sibling.nodes.last();\n\tconsole.log('lastChild', lastChild);\n\n\tif ([ 'ordered-list', 'bulleted-list', 'todo-list' ].includes(lastChild.type)) {\n\t\tconst insertItem = Block.create({\n\t\t\ttype: 'list-item',\n\t\t\tobject: 'block',\n\t\t\tdata: {},\n\t\t\tnodes: [ { object: 'text', text: ' ' } ]\n\t\t});\n\t\teditor.insertNodeByKey(lastChild.key, lastChild.nodes.size, insertItem).moveForward(1);\n\t} else {\n\t\tconst insertItem = Block.create({\n\t\t\ttype: parent.type,\n\t\t\tobject: 'block',\n\t\t\tnodes: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'list-item',\n\t\t\t\t\tobject: 'block',\n\t\t\t\t\tdata: {},\n\t\t\t\t\tnodes: [ { object: 'text', text: ' ' } ]\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\teditor.insertNodeByKey(sibling.key, sibling.nodes.size, insertItem).moveForward(1);\n\t}\n}\n","import { Block } from 'slate';\nconst getSubType = (startBlock) => {\n\tconst regs = [\n\t\t{ reg: /^\\s*\\d\\./, type: 'ordered' },\n\t\t{ reg: /^\\s*-\\s*\\[ {1}\\]/, type: 'undo' },\n\t\t{ reg: /^\\s*-\\s*\\[x{1}\\]/, type: 'finished' },\n\t\t{ reg: /^\\* +/, type: 'bulleted' }\n\t];\n\tconst subType = regs.find((item) => item.reg.test(startBlock.text + ' '));\n\treturn subType && subType.type;\n};\nexport default {\n\tinsertListItem: (editor, forceSubType, forceSwitch) => {\n\t\tconst { startBlock } = editor.value;\n\t\tlet subType = forceSubType || getSubType(startBlock);\n\t\tif (!subType) {\n\t\t\tconsole.warn('this subType is not included!');\n\t\t\treturn editor;\n\t\t}\n\t\tconst isCurrentBlockListItem = startBlock.type === 'list-item';\n\t\tconst wrapType =\n\t\t\tsubType === 'ordered' ? 'ordered-list' : subType === 'bulleted' ? 'bulleted-list' : 'todo-list';\n\t\tconst data = wrapType === 'todo-list' ? { checked: subType === 'finished' ? true : false } : {};\n\t\tif (isCurrentBlockListItem) {\n\t\t\tif (forceSwitch) {\n\t\t\t\tconst parent = editor.value.document.getClosestBlock(editor.value.startBlock.key, (i) => {\n\t\t\t\t\treturn i.type === 'bulleted-list' || i.type === 'ordered-list' || i.type === 'todo-list';\n\t\t\t\t});\n\t\t\t\teditor.withoutNormalizing((editor) => {\n\t\t\t\t\teditor.setNodeByKey(parent.key, { type: wrapType });\n\t\t\t\t\tparent.nodes.forEach((node) => {\n\t\t\t\t\t\tconsole.log('in forEach', node.key);\n\t\t\t\t\t\teditor.setNodeByKey(node.key, { type: 'list-item', data });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn editor;\n\t\t\t}\n\n\t\t\tconst ListItem = Block.create({\n\t\t\t\ttype: 'list-item',\n\t\t\t\tobject: 'block',\n\t\t\t\tnodes: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: wrapType,\n\t\t\t\t\t\tobject: 'block',\n\t\t\t\t\t\tnodes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tobject: 'block',\n\t\t\t\t\t\t\t\ttype: 'list-item',\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\tnodes: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tobject: 'text',\n\t\t\t\t\t\t\t\t\t\ttext: ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\n\t\t\teditor.removeNodeByKey(startBlock.key);\n\t\t\teditor.insertBlock(ListItem);\n\t\t} else {\n\t\t\tconst wrapType = subType === 'ordered' ? 'ordered-list' : 'bulleted-list';\n\t\t\teditor.wrapBlock(wrapType);\n\t\t\teditor.moveFocusToStartOfNode(startBlock).delete().setBlocks({ type: 'list-item', data });\n\t\t}\n\t\treturn editor;\n\t},\n\thandlerShortCut: (editor, type) => {\n\t\tconst { startBlock } = editor.value;\n\t\tif (type === 'hr') {\n\t\t\treturn editor.focus().insertBlock('paragraph').setBlocks('horizontal-rule');\n\t\t}\n\t\tif (type === 'math') {\n\t\t\treturn editor.focus().insertMathBlock();\n\t\t}\n\t\tif ([ 'ordered', 'undo', 'finished', 'bulleted' ].includes(type)) {\n\t\t\treturn editor.focus().moveToStartOfNode(startBlock).insertListItem(type, true);\n\t\t}\n\t\teditor.focus().moveToEnd().setBlocks(type);\n\t\treturn editor;\n\t}\n};\n","const flow = (...conditionActions) => (...props) => {\n\tfor (const [ condition, action ] of conditionActions) {\n\t\tif (condition(...props)) return action(...props);\n\t}\n};\n\nexport default flow;\n","import isHotkey from 'is-hotkey';\nimport onSpace from './onSpace';\nimport onDash from './onDash';\nimport onBacktick from './onBacktick';\nimport onTab from './onTab';\nimport commands from './commands';\nimport ifFlow from './utils/flow';\n// import { isModKey } from './utils/index';\nconst MarkdownShortcuts = (options = {}) => {\n\tconst isDash = isHotkey('-');\n\tconst isBacktick = isHotkey('`');\n\tconst isSpace = isHotkey(' ');\n\tconst isTab = isHotkey('tab');\n\tconst setParagraph = isHotkey('mod+p');\n\tconst setHeading1 = isHotkey('mod+1');\n\tconst setHeading2 = isHotkey('mod+2');\n\tconst setHeading3 = isHotkey('mod+3');\n\tconst setHeading4 = isHotkey('mod+4');\n\tconst setHeading5 = isHotkey('mod+5');\n\tconst setHeading6 = isHotkey('mod+6');\n\tconst setOrderedList = isHotkey('mod+shift+l');\n\t// const insertCode = isHotkey('mod+shift+c');\n\tconst setBulletedList = isHotkey('mod+l');\n\tconst setTodoList = isHotkey('mod+o');\n\tconst setBlockQuote = isHotkey('mod+m');\n\tconst insertHr = isHotkey('mod+h');\n\treturn {\n\t\tcommands,\n\t\tonKeyDown(e, editor, next) {\n\t\t\tconst { value } = editor;\n\t\t\tconst { startBlock } = value;\n\t\t\tif (!startBlock) return next();\n\t\t\tif (startBlock.type.match(/code/)) return next();\n\t\t\t// if (!isModKey(e)) return next();\n\t\t\treturn ifFlow(\n\t\t\t\t[ isDash, options.onDash || onDash ],\n\t\t\t\t[ isBacktick, options.onBacktick || onBacktick ],\n\t\t\t\t[ isSpace, options.onSpace || onSpace ],\n\t\t\t\t[ isTab, options.onTab || onTab ],\n\t\t\t\t// [ insertCode, () => editor.handlerShortCut('code') && e.preventDefault() ],\n\t\t\t\t[ setParagraph, () => editor.handlerShortCut('paragraph') && e.preventDefault() ],\n\t\t\t\t[ setHeading1, () => editor.handlerShortCut('heading1') && e.preventDefault() ],\n\t\t\t\t[ setHeading2, () => editor.handlerShortCut('heading2') && e.preventDefault() ],\n\t\t\t\t[ setHeading3, () => editor.handlerShortCut('heading3') && e.preventDefault() ],\n\t\t\t\t[ setHeading4, () => editor.handlerShortCut('heading4') && e.preventDefault() ],\n\t\t\t\t[ setHeading5, () => editor.handlerShortCut('heading5') && e.preventDefault() ],\n\t\t\t\t[ setHeading6, () => editor.handlerShortCut('heading6') && e.preventDefault() ],\n\t\t\t\t[ insertHr, () => editor.handlerShortCut('hr') && e.preventDefault() ],\n\t\t\t\t[ setOrderedList, () => editor.handlerShortCut('ordered') && e.preventDefault() ],\n\t\t\t\t[ setBulletedList, () => editor.handlerShortCut('bulleted') && e.preventDefault() ],\n\t\t\t\t[ setTodoList, () => editor.handlerShortCut('undo') && e.preventDefault() ],\n\t\t\t\t[ setBlockQuote, () => editor.handlerShortCut('block-quote') && e.preventDefault() ],\n\t\t\t\t[ () => true, () => next() ]\n\t\t\t)(e, editor, next);\n\t\t}\n\t};\n};\n\nexport default MarkdownShortcuts;\n","import { isModKey } from './utils';\n\nconst toggleMark = (editor, type, next) => {\n\teditor.removeMark('code').toggleMark(type);\n};\n\nexport default () => ({\n\tonKeyDown(e, editor, next) {\n\t\tif (!isModKey(e)) return next();\n\t\tswitch (e.key) {\n\t\t\tcase 'b':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn toggleMark(editor, 'bold', next);\n\t\t\tcase 'i':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn toggleMark(editor, 'italic', next);\n\t\t\tcase 'u':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn toggleMark(editor, 'underlined', next);\n\t\t\tcase 'd':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn toggleMark(editor, 'deleted', next);\n\t\t\tcase 'k':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn editor.wrapLink('');\n\t\t\tdefault:\n\t\t\t\treturn next();\n\t\t}\n\t}\n});\n","export const whenTrueOrNext = (action) => (next) => () => {\n\treturn action() || next();\n};\nexport const noop = () => {};\nexport const chain = (...conditions) => conditions.reduceRight((acc, condition) => condition(acc), noop);\n\nexport const isModKey = (event) => {\n\tconst inIOS = typeof window !== 'undefined' && /Mac|iPad|iPod|iPhone/.test(window.navigator.platform);\n\treturn inIOS ? event.metaKey : event.ctrlKey;\n};\n","export const onEnterInblockQuote = (startBlock, { editor, event }) => {\n  if (startBlock.type !== \"block-quote\") {\n    return false;\n  }\n  if (startBlock.text.endsWith(\"\\n\")) {\n    editor\n      .moveFocusBackward(1)\n      .delete()\n      .unwrapBlock(\"block-quote\")\n      .insertBlock(\"paragraph\");\n    return true;\n  } else if (startBlock.text === \"\") {\n    editor.unwrapBlock(\"block-quote\").setBlocks(\"paragraph\");\n  } else {\n    console.log(\"what?\");\n    event.preventDefault();\n    editor.insertText(\"\\n\");\n    return true;\n  }\n};\n\nexport const insertBlockQuote = (startBlock, { editor, event }) => {\n  event.preventDefault();\n  const { text, key } = startBlock.getFirstText();\n  editor\n    .setBlocks({\n      type: \"block-quote\"\n    })\n    .setTextByPath(editor.value.document.getPath(key), text.slice(2));\n  // 或者\teditor.moveFocusToStartOfNode(startBlock).delete();\n  return true;\n};\n","export const onEnterInHeading = (startBlock, { editor, event }) => {\n  if (startBlock.type.match(/^heading/)) {\n    event.preventDefault();\n    editor.splitBlock().setBlocks(\"paragraph\");\n    return true;\n  }\n  return false;\n};\n\nexport const insertHeading = (startBlock, { event, editor }, token) => {\n  event.preventDefault();\n  const { text } = token;\n  const { key } = startBlock.getFirstText();\n  editor\n    .setBlocks(\"heading\")\n    .setNodeByKey(startBlock.key, { data: { depth: token.depth } })\n    .setTextByPath(editor.value.document.getPath(key), text);\n  return true;\n};\n","import { Block } from 'slate';\nimport { whenTrueOrNext, chain } from './utils';\nimport { onEnterInblockQuote } from './services/blockQuote';\nimport { onEnterInHeading } from './services/heading';\n\nexport default function onEnter(event, editor, next) {\n\tconst { value } = editor;\n\tconst { startBlock, selection } = value;\n\tif (selection.isExpanded) return next();\n\tif (!startBlock) return next();\n\n\tconst endOffset = selection.end.offset;\n\n\tif (startBlock.type === 'image') {\n\t\tevent.preventDefault();\n\t\treturn editor.splitBlock(10).setBlocks({\n\t\t\ttype: 'paragraph',\n\t\t\ttext: '',\n\t\t\tisVoid: false\n\t\t});\n\t}\n\n\tif (startBlock.type.match(/^heading/)) {\n\t\tevent.preventDefault();\n\t\tif (endOffset > 0) {\n\t\t\treturn editor.splitBlock().setBlocks('paragraph');\n\t\t} else {\n\t\t\treturn editor.splitBlock().moveToStartOfPreviousBlock().setBlocks('paragraph');\n\t\t}\n\t}\n\tif (startBlock.type === 'list-item' && startBlock.text.replace(' ', '').length === 0) {\n\t\t//如果为空则unwrapBlock,此时需要查询它最亲近的父辈分是否 有 list类型，如果有则直接unwrap父辈\n\t\tconst startParent = editor.value.document.getClosest(startBlock.key, (i) => {\n\t\t\treturn [ 'bulleted-list', 'ordered-list', 'todo-list' ].includes(i.type);\n\t\t});\n\n\t\tconst insertItem = Block.create({\n\t\t\ttype: 'list-item',\n\t\t\tobject: 'block',\n\t\t\tnodes: [ { object: 'text', text: '' } ]\n\t\t});\n\n\t\tconst grandParent = editor.value.document.getClosest(startParent.key, (i) => {\n\t\t\tconsole.log('i==>', i);\n\t\t\treturn [ 'bulleted-list', 'ordered-list', 'todo-list' ].includes(i.type);\n\t\t});\n\n\t\tif (grandParent) {\n\t\t\teditor.removeNodeByKey(startBlock.key); //\tconsole.log('has grandpa', grandParent);\n\t\t\teditor.insertNodeByKey(grandParent.key, grandParent.nodes.size, insertItem).moveForward(1);\n\t\t} else {\n\t\t\teditor.setBlocks('paragraph').unwrapBlock(startParent.type);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tconst flow = chain(\n\t\twhenTrueOrNext(() => onEnterInblockQuote(startBlock, { editor, event })), // 在blockQuote中回车\n\t\twhenTrueOrNext(() => onEnterInHeading(startBlock, { editor, event })) // 在 heading中回车\n\t);\n\n\tif (flow()) {\n\t\treturn;\n\t}\n\t//清除样式\n\t[ 'bold', 'italic', 'deleted', 'underlined', 'code', 'inserted' ].forEach((mark) => {\n\t\teditor.removeMark(mark);\n\t});\n\treturn next();\n}\n","export default function onBackspace(event, editor, next) {\n  const { value } = editor;\n  const { selection } = value;\n\n  if (selection.isExpanded || selection.start.offset !== 0) {\n    return next();\n  }\n\n  const { startBlock } = value;\n  if (startBlock.type === \"paragraph\") {\n    return next();\n  }\n\n  // if (value.isCollapsed && value.startBlock.type === 'check-list-item' && value.selection.startOffset === 0) {\n  // \teditor.setBlocks('paragraph');\n  // \treturn;\n  // }\n\n  event.preventDefault();\n  editor.setBlocks(\"paragraph\");\n  if (startBlock.type === \"list-item\") {\n    const { type: parentType } = value.document.getParent(startBlock.key);\n    editor.unwrapBlock(parentType);\n  }\n}\n","import { getEventTransfer } from \"slate-react\";\nimport MarkdownSerializer from \"slate-md-serializer\";\nconst markdownSerializer = new MarkdownSerializer();\n\nexport default function MarkdownPaste() {\n  return {\n    onPaste(e, editor, next) {\n      const transfer = getEventTransfer(e);\n      const { text } = transfer;\n      if (transfer.type !== \"text\" && transfer.type !== \"html\") return next();\n\n      const fragment = markdownSerializer.deserialize(text || \"\");\n      if (!fragment) return;\n\n      return editor.insertFragment(fragment.document);\n    }\n  };\n}\n","export function wrapLink(editor, href) {\n\teditor.wrapInline({\n\t\ttype: 'link',\n\t\tdata: { href }\n\t});\n\n\teditor.moveToEnd();\n}\n\nexport function unwrapLink(editor) {\n\teditor.unwrapInline('link');\n}\n\nexport const ifHasLinks = (editor) => {\n\tconst { value } = editor;\n\treturn value.inlines.some((inline) => inline.type === 'link');\n};\n","import { getEventTransfer } from 'slate-react';\nimport isUrl from 'is-url';\nimport { wrapLink, unwrapLink, ifHasLinks } from './link';\nexport default function onPaste(event, editor, next) {\n\tif (editor.value.selection.isCollapsed) return next();\n\n\tconst transfer = getEventTransfer(event);\n\tconst { type, text } = transfer;\n\tif (type !== 'text' && type !== 'html') return next();\n\tif (!isUrl(text)) return next();\n\n\tif (ifHasLinks(editor)) {\n\t\teditor.command(unwrapLink);\n\t}\n\n\teditor.command(wrapLink, text);\n}\n","import React from 'react';\n\nimport onPaste from './onPaste';\nconst Editor = ({ children, editor, hocs, readOnly }) => {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{children}\n\t\t\t{hocs &&\n\t\t\t\thocs.length &&\n\t\t\t\thocs.map((hoc) => {\n\t\t\t\t\treturn !readOnly && hoc(editor);\n\t\t\t\t})}\n\t\t</React.Fragment>\n\t);\n};\n\n//要求options.HOC = [(editor,readOnly)=>HighOrderComponent] ,HighOrderComponent为一个接受editor为参数的方法，输出为React.component\nexport default (options = {}) => {\n\tif (Array.isArray(options.plugins)) {\n\t\treturn {\n\t\t\trenderEditor: (props, editor, next) => {\n\t\t\t\tconst children = next();\n\t\t\t\treturn (\n\t\t\t\t\t<Editor editor={editor} readOnly={props.readOnly} hocs={options.plugins}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Editor>\n\t\t\t\t);\n\t\t\t},\n\t\t\tonPaste\n\t\t};\n\t} else\n\t\treturn {\n\t\t\trenderEditor: (props, editor, next) => {\n\t\t\t\tconst children = next();\n\t\t\t\treturn <React.Fragment>{children}</React.Fragment>;\n\t\t\t},\n\t\t\tonPaste\n\t\t};\n};\n","import React from 'react';\nimport { cx, css } from 'emotion';\n\nconst Icon = React.forwardRef(({ icon, ...props }, ref) => {\n\treturn (\n\t\t<span\n\t\t\t{...props}\n\t\t\tref={ref}\n\t\t\tclassName={cx(\n\t\t\t\t'iconfont',\n\t\t\t\ticon,\n\t\t\t\tcss`\n\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tvertical-align: text-bottom;\n\t\t\t\t`\n\t\t\t)}\n\t\t/>\n\t);\n});\nexport default Icon;\n","import React from 'react';\nimport { cx, css } from 'emotion';\nimport Icon from './Icon';\nimport { wrapLink, unwrapLink, ifHasLinks } from '../link';\n\nconst Button = React.forwardRef(({ editor, type, className, icon }, ref) => {\n\tconst { value } = editor;\n\tconst active = value.activeMarks.some((mark) => mark.type === type);\n\n\tconst onClickLink = (event, editor) => {\n\t\tevent.preventDefault();\n\n\t\tconst { value } = editor;\n\t\tconst hasLinks = ifHasLinks(editor);\n\n\t\tif (hasLinks) {\n\t\t\teditor.command(unwrapLink);\n\t\t} else if (value.selection.isExpanded) {\n\t\t\tconst href = window.prompt('请输入URL地址');\n\n\t\t\tif (href == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.command(wrapLink, href);\n\t\t} else {\n\t\t\tconst href = window.prompt('请输入URL地址');\n\n\t\t\tif (href == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst text = window.prompt('请输入URL对应的文本');\n\n\t\t\tif (text == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.insertText(text).moveFocusBackward(text.length).command(wrapLink, href);\n\t\t}\n\t};\n\treturn (\n\t\t<span\n\t\t\tref={ref}\n\t\t\tclassName={cx(\n\t\t\t\tclassName,\n\t\t\t\tcss`\n\t\t\t\t\tpadding: 2px 5px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tbackground: ${active ? '#eee' : 'transparent'};\n\t\t\t\t\tcolor: ${active ? '#333' : '#eee'};\n\t\t\t\t`\n\t\t\t)}\n\t\t\tonMouseDown={(event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'clean':\n\t\t\t\t\t\treturn [ 'bold', 'italic', 'deleted', 'underlined', 'code', 'inserted' ].forEach((mark) => {\n\t\t\t\t\t\t\teditor.removeMark(mark);\n\t\t\t\t\t\t});\n\t\t\t\t\tcase 'link':\n\t\t\t\t\t\tonClickLink(event, editor);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'unlink':\n\t\t\t\t\t\tonClickLink(event, editor);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\teditor.toggleMark(type);\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<Icon icon={icon} />\n\t\t</span>\n\t);\n});\n\nexport default Button;\n","import React from 'react';\nimport { cx, css } from 'emotion';\nconst Menu = React.forwardRef(({ className, ...props }, ref) => (\n\t<div\n\t\t{...props}\n\t\tref={ref}\n\t\tclassName={cx(\n\t\t\tclassName,\n\t\t\tcss`\n\t\t\t\t& > * {\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t}\n\t\t\t\t& > * + * {\n\t\t\t\t\tmargin-left: 15px;\n\t\t\t\t}\n\t\t\t`\n\t\t)}\n\t/>\n));\n\nexport default Menu;\n","import React, { useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { css } from 'emotion';\nimport Button from './components/Button';\nimport Menu from './components/Menu';\nimport { ifHasLinks } from './link';\n\nconst HoverMenu = ({ editor, visible }) => {\n\tconst ref = useRef(null);\n\tconst root =\n\t\twindow.document.getElementById('root') || window.document.getElementById('app') || window.document.body;\n\tconst menu = ref.current;\n\tif (menu) {\n\t\tconst { value } = editor;\n\t\tconst { fragment, selection } = value;\n\t\tif (selection.isBlurred || selection.isCollapsed || fragment.text === '') {\n\t\t\tmenu.removeAttribute('style');\n\t\t} else {\n\t\t\tconst native = window.getSelection();\n\t\t\tconst range = native.getRangeAt(0);\n\t\t\tconst rect = range.getBoundingClientRect();\n\t\t\tmenu.style.opacity = 1;\n\t\t\tmenu.style.top = `${rect.top + window.pageYOffset - menu.offsetHeight}px`;\n\t\t\tmenu.style.left = `${rect.left + window.pageXOffset - menu.offsetWidth / 2 + rect.width / 2}px`;\n\t\t}\n\t}\n\treturn ReactDOM.createPortal(\n\t\t<Menu\n\t\t\tref={ref}\n\t\t\tclassName={css`\n\t\t\t\tpadding: 8px 7px 6px;\n\t\t\t\tposition: absolute;\n\t\t\t\tz-index: 1;\n\t\t\t\ttop: -10000px;\n\t\t\t\tleft: -10000px;\n\t\t\t\tmargin-top: -6px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\topacity: 0;\n\t\t\t\tbackground-color: #222;\n\t\t\t\tcolor: #fff;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\ttransition: opacity 0.75s;\n\t\t\t`}\n\t\t>\n\t\t\t<Button editor={editor} type=\"bold\" icon=\"icon-editor-bold\" />\n\t\t\t<Button editor={editor} type=\"italic\" icon=\"icon-editor-italic\" />\n\t\t\t<Button editor={editor} type=\"deleted\" icon=\"icon-editor-strikethrough\" />\n\t\t\t<Button editor={editor} type=\"underlined\" icon=\"icon-editor-underline\" />\n\t\t\t<Button editor={editor} type=\"code\" icon=\"icon-code\" />\n\t\t\t<span className={css`margin-left: 15px;`}> | </span>\n\t\t\t{ifHasLinks(editor) ? (\n\t\t\t\t<Button editor={editor} type=\"unlink\" icon=\"icon-editor-unlink\" />\n\t\t\t) : (\n\t\t\t\t<Button editor={editor} type=\"link\" icon=\"icon-editor-link\" />\n\t\t\t)}\n\t\t\t<Button editor={editor} type=\"clean\" icon=\"icon-editor-clean\" />\n\t\t</Menu>,\n\t\troot\n\t);\n};\n\nexport default HoverMenu;\n","function dataUriToBlob(uri) {\n\tconst data = uri.split(',')[1];\n\tconst bytes = atob(data);\n\tconst buffer = new window.ArrayBuffer(bytes.length);\n\tlet array = new window.Uint8Array(buffer);\n\n\tfor (let i = 0; i < bytes.length; i++) {\n\t\tarray[i] = bytes.charCodeAt(i);\n\t}\n\n\tif (!hasArrayBufferView()) {\n\t\tarray = buffer;\n\t}\n\n\tconst blob = new Blob([ array ], { type: mime(uri) });\n\n\tblob.slice = blob.slice || blob.webkitSlice;\n\n\treturn blob;\n}\n\nfunction mime(uri) {\n\treturn uri.split('')[0].slice(5);\n}\n\nfunction hasArrayBufferView() {\n\treturn new Blob([ new window.Uint8Array(100) ]).size === 100;\n}\n\nexport default dataUriToBlob;\n","function srcToDataUri(url, callback) {\n\tconst canvas = window.document.createElement('canvas');\n\tconst img = window.document.createElement('img');\n\n\tif (!canvas.getContext) {\n\t\treturn setTimeout(callback, 0, new Error('Canvas is not supported.'));\n\t}\n\n\timg.onload = () => {\n\t\tconst ctx = canvas.getContext('2d');\n\t\tcanvas.width = img.width;\n\t\tcanvas.height = img.height;\n\t\tctx.drawImage(img, 0, 0);\n\t\tconst dataUri = canvas.toDataURL('image/png');\n\t\tcallback(null, dataUri);\n\t};\n\n\timg.ononerror = () => {\n\t\tcallback(new Error('Failed to load image.'));\n\t};\n\n\timg.setAttribute('crossOrigin', 'anonymous');\n\timg.src = url;\n}\n\nexport default srcToDataUri;\n","import isDataUri from 'is-data-uri';\nimport dataUriToBlob from './data-uri-to-blob';\nimport imageToDataUri from './image-to-data-uri';\n\nfunction loadImageFile(url, callback) {\n\tif (isDataUri(url)) {\n\t\tconst file = dataUriToBlob(url);\n\t\tsetTimeout(() => {\n\t\t\tcallback(null, file);\n\t\t});\n\t} else {\n\t\timageToDataUri(url, (err, uri) => {\n\t\t\tconst file = dataUriToBlob(uri);\n\t\t\tcallback(err, file);\n\t\t});\n\t}\n}\n\nexport default loadImageFile;\n","// copied from https://github.com/ianstormtaylor/slate-plugins ,for some reasons ，it updated 1years ago, i may need to diy it ,so copied .\nimport isImage from 'is-image';\nimport isUrl from 'is-url';\n// import logger from 'slate-dev-logger';\nimport { Block, KeyUtils } from 'slate';\nimport { extname } from 'path';\nimport { getEventTransfer, getEventRange } from 'slate-react';\nimport loadImageFile from './load-image-file';\n\n/**\n * Insert images on drop or paste.\n *\n * @param {Object} options\n * @property {Function} insertImage\n * @property {Array} extensions (optional)\n * @return {Object} plugin\n */\n\nfunction DropOrPasteImages(options = {}) {\n\tlet { insertImage, extensions } = options;\n\n\tif (options.applyTransform) {\n\t\tconsole.warn(\n\t\t\t'0.6.0',\n\t\t\t'The `applyTransform` argument to `slate-drop-or-paste-images` has been renamed to `insertImage` instead.'\n\t\t);\n\t\tinsertImage = options.applyTransform;\n\t}\n\n\tif (!insertImage) {\n\t\tthrow new Error('You must supply an `insertImage` function.');\n\t}\n\n\t/**\n   * Check file extension against user-defined options.\n   *\n   * @param {Type} string\n   * @return {Boolean}\n   */\n\n\tfunction matchExt(type) {\n\t\tlet accepted = false;\n\n\t\tfor (const ext of extensions) {\n\t\t\tif (type.includes(ext)) accepted = true;\n\t\t}\n\n\t\treturn accepted;\n\t}\n\n\t/**\n   * Apply the change for a given file and update the editor with the result.\n   *\n   * @param {Change} change\n   * @param {Blob} file\n   * @return {Promise}\n   */\n\n\tfunction asyncApplyChange(change, file) {\n\t\tconst { editor } = change;\n\n\t\treturn Promise.resolve(insertImage(change, file)).then(() => {\n\t\t\teditor.onChange(change);\n\t\t});\n\t}\n\n\t/**\n   * On drop or paste.\n   *\n   * @param {Event} event\n   * @param {Change} change\n   * @param {Function} next\n   * @return {State}\n   */\n\n\tfunction onInsert(event, change, next) {\n\t\tconst { editor } = change;\n\t\tconst transfer = getEventTransfer(event);\n\t\tconsole.log('TCL: onInsert -> transfer', transfer);\n\t\tconst range = getEventRange(event, editor);\n\n\t\tswitch (transfer.type) {\n\t\t\tcase 'files':\n\t\t\t\treturn onInsertFiles(event, change, next, transfer, range);\n\t\t\tcase 'html':\n\t\t\t\treturn onInsertHtml(event, change, next, transfer, range);\n\t\t\tcase 'text':\n\t\t\t\treturn onInsertText(event, change, next, transfer, range);\n\t\t\tcase 'fragment':\n\t\t\t\tconsole.log('fragment');\n\t\t\t\tif (transfer.text && !transfer.text.match(/\\.svg$/)) return next();\n\t\t\t\telse return;\n\t\t\tdefault:\n\t\t\t\treturn next();\n\t\t}\n\t}\n\n\t/**\n   * On drop or paste files.\n   *\n   * @param {Event} event\n   * @param {Change} change\n   * @param {Function} next\n   * @param {Object} transfer\n   * @param {Range} range\n   * @return {Boolean}\n   */\n\n\tfunction onInsertFiles(event, change, next, transfer, range) {\n\t\tconst { files } = transfer;\n\n\t\tfor (const file of files) {\n\t\t\tif (extensions) {\n\t\t\t\tconst type = file.type;\n\t\t\t\tconst [ , ext ] = type.split('/');\n\t\t\t\tif (!matchExt(ext)) continue;\n\t\t\t}\n\n\t\t\tif (range) {\n\t\t\t\tchange.select(range);\n\t\t\t}\n\n\t\t\tasyncApplyChange(change, file);\n\t\t}\n\t}\n\n\t/**\n   * On drop or paste html.\n   *\n   * @param {Event} event\n   * @param {Change} change\n   * @param {Function} next\n   * @param {Object} transfer\n   * @param {Range} range\n   * @return {Boolean}\n   */\n\n\tfunction onInsertHtml(event, change, next, transfer, range) {\n\t\tconst { editor } = change;\n\t\tconst { html } = transfer;\n\t\tconst parser = new DOMParser();\n\t\tconst doc = parser.parseFromString(html, 'text/html');\n\t\tconst body = doc.body;\n\t\tconst firstChild = body.firstChild;\n\t\tif (firstChild.nodeName.toLowerCase() !== 'img') return next();\n\n\t\tconst src = firstChild.src;\n\n\t\tif (extensions) {\n\t\t\tconst ext = extname(src).slice(1);\n\t\t\tif (!matchExt(ext)) return next();\n\t\t}\n\n\t\tloadImageFile(src, (err, file) => {\n\t\t\tif (err) return;\n\n\t\t\teditor.change((c) => {\n\t\t\t\tif (range) {\n\t\t\t\t\tc.select(range);\n\t\t\t\t}\n\n\t\t\t\tasyncApplyChange(c, file);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n   * On drop or paste text.\n   *\n   * @param {Event} event\n   * @param {Change} change\n   * @param {Function} next\n   * @param {Object} transfer\n   * @param {Range} range\n   * @return {Boolean}\n   */\n\n\tfunction onInsertText(event, change, next, transfer, range) {\n\t\tconst { editor } = change;\n\t\tconst { text } = transfer;\n\t\tif (!isUrl(text)) return next();\n\t\tif (!isImage(text)) return next();\n\n\t\tloadImageFile(text, (err, file) => {\n\t\t\tif (err) return;\n\t\t\tconsole.log('loadImageFile');\n\t\t\teditor.change((c) => {\n\t\t\t\tif (range) {\n\t\t\t\t\tc.select(range);\n\t\t\t\t}\n\n\t\t\t\tasyncApplyChange(c, editor, file);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n   * Return the plugin.\n   *\n   * @type {Object}\n   */\n\n\treturn {\n\t\tonDrop: onInsert,\n\t\tonPaste: onInsert,\n\t\tcommands: {\n\t\t\tinsertImageFile: (editor, file) => {\n\t\t\t\tconst { onImageUploadStart, onShowToast, onImageUploadStop } = editor.props;\n\t\t\t\tconst { uploadImage } = options;\n\t\t\t\tif (!uploadImage) {\n\t\t\t\t\tconsole.error('uploadImage callback must be defined to handle image uploads.');\n\t\t\t\t}\n\n\t\t\t\tif (onImageUploadStart) onImageUploadStart();\n\n\t\t\t\tlet key = KeyUtils.create();\n\n\t\t\t\tconst alt = '';\n\t\t\t\t// load the file as a data URL\n\t\t\t\tconst placeholderSrc = URL.createObjectURL(file);\n\n\t\t\t\tconst node = Block.create({\n\t\t\t\t\tkey,\n\t\t\t\t\ttype: 'image',\n\t\t\t\t\tisVoid: true,\n\t\t\t\t\tdata: { src: placeholderSrc, alt, loading: true }\n\t\t\t\t});\n\n\t\t\t\teditor.insertBlock(node).insertBlock('paragraph').onChange(editor);\n\n\t\t\t\t// withoutSaving prevents this op from being added to the history, so you can't\n\t\t\t\t// undo back to showing the upload placeholder. 'onChange' addition is a hack\n\t\t\t\t// to get around a bug in slate-drop-or-paste-images\n\t\t\t\teditor.withoutSaving((editor) => {\n\t\t\t\t\t// now we have a placeholder, start the image upload. This could be very fast\n\t\t\t\t\t// or take multiple seconds. The user may further edit the content during this time.\n\t\t\t\t\tuploadImage &&\n\t\t\t\t\t\tuploadImage(file)\n\t\t\t\t\t\t\t.then((src) => {\n\t\t\t\t\t\t\t\tif (!src) {\n\t\t\t\t\t\t\t\t\tthrow new Error('No image url returned from uploadImage callback');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// replace the placeholder with the final image if we can. The user may have\n\t\t\t\t\t\t\t\t// removed it during upload so we need to take that into account.\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\teditor.setNodeByKey(key, {\n\t\t\t\t\t\t\t\t\t\tdata: { src, alt, loading: false }\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t\tconsole.warn('Image placeholder could not be found', err);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\t// if there was an error during upload, remove the placeholder image\n\t\t\t\t\t\t\t\teditor.removeNodeByKey(key);\n\t\t\t\t\t\t\t\tif (onShowToast) {\n\t\t\t\t\t\t\t\t\tonShowToast('Sorry, an error occurred uploading the image');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\t\t\tif (onImageUploadStop) onImageUploadStop();\n\t\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * Export.\n *\n * @type {Function}\n */\n\nexport default DropOrPasteImages;\n","import React from 'react';\n\nexport default function VideoUrlInput(props) {\n\tconst [ val, setVal ] = React.useState(props.defaultValue);\n\n\tconst onChange = React.useCallback(\n\t\t(e) => {\n\t\t\tsetVal(e.target.value);\n\t\t\tprops.onChange(e.target.value);\n\t\t},\n\t\t[ props ]\n\t);\n\n\treturn <input value={val} onChange={onChange} onClick={props.onClick} style={props.style} />;\n}\n","import React from 'react';\nimport UrlInput from './UrlInput';\nexport default class EmbedComponent extends React.Component {\n\tref = React.createRef();\n\tonChange = (url) => {\n\t\tconst { node, editor } = this.props;\n\t\teditor.setNodeByKey(node.key, { data: { url } });\n\t};\n\n\tonClick = (e) => {\n\t\te.stopPropagation();\n\t};\n\n\trender() {\n\t\tconst { isSelected } = this.props;\n\n\t\treturn (\n\t\t\t<div {...this.props.attributes} ref={this.ref}>\n\t\t\t\t{this.renderView()}\n\t\t\t\t{isSelected ? this.renderInput() : null}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderView = () => {\n\t\tconst { node, isFocused } = this.props;\n\t\tconst url = node.data.get('url');\n\n\t\tconst wrapperStyle = {\n\t\t\tposition: 'relative',\n\t\t\toutline: isFocused ? '2px solid blue' : 'none'\n\t\t};\n\n\t\tconst maskStyle = {\n\t\t\tdisplay: isFocused ? 'none' : 'block',\n\t\t\tposition: 'absolute',\n\t\t\ttop: '0',\n\t\t\tleft: '0',\n\t\t\theight: '100%',\n\t\t\twidth: '100%',\n\t\t\tcursor: 'cell',\n\t\t\tzIndex: 1\n\t\t};\n\n\t\tconst iframeStyle = {\n\t\t\tdisplay: 'block'\n\t\t};\n\n\t\treturn (\n\t\t\t<div style={wrapperStyle}>\n\t\t\t\t<div style={maskStyle} />\n\t\t\t\t<iframe\n\t\t\t\t\tid=\"ytplayer\"\n\t\t\t\t\ttype=\"text/html\"\n\t\t\t\t\twidth=\"640\"\n\t\t\t\t\theight=\"476\"\n\t\t\t\t\tsrc={url}\n\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\tstyle={iframeStyle}\n\t\t\t\t\ttitle=\"website\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderInput = () => {\n\t\tconst { node } = this.props;\n\t\tconst url = node.data.get('url');\n\t\tconst style = {\n\t\t\tmarginTop: '5px',\n\t\t\tboxSizing: 'border-box',\n\t\t\twidth: '100%',\n\t\t\tbackground: '#eee',\n\t\t\tlineHeight: '2rem',\n\t\t\tfontSize: '1.5rem',\n\t\t\toutline: 'none',\n\t\t\tcolor: '#333'\n\t\t};\n\n\t\treturn <UrlInput defaultValue={url} onChange={this.onChange} onClick={this.onClick} style={style} />;\n\t};\n}\n","export const componentClassName = {\n\tBlockquote: 'any-blockquote',\n\tOL: 'any-todo-list',\n\tToDoList: 'any-todo-list',\n\tBulletedList: 'any-bulleted-list',\n\tOrderedList: 'any-ordered-list',\n\tToDoItem: 'any-todo-item',\n\tToDoItemContent: 'any-todo-content',\n\tToDoItemCheckbox: 'any-todo-checkbox',\n\tListItem: 'any-li',\n\tParagraph: 'any-p',\n\tParagraphPlaceHolder: 'any-p-with-placeholder',\n\tHr: 'any-hr',\n\tH1: 'any-h1',\n\tH2: 'any-h2',\n\tH3: 'any-h3',\n\tH4: 'any-h4',\n\tH5: 'any-h5',\n\tH6: 'any-h6',\n\tDragContainer: 'any-drag-container',\n\tDragHandler: 'any-drag-handler',\n\tLink: 'any-link',\n\tCode: 'any-code'\n};\n\nexport const theme = {\n\tbase: 'any-theme-base',\n\tdark: 'any-theme-dark'\n};\n","import React from 'react';\nimport { cx, css } from 'emotion';\nimport { componentClassName } from '../theme';\n// 因为组件内部不存在文本，需要在schema中增加 hr为 isVoid为true，以防止该节点在backspace时无法删除。\nconst Hr = React.forwardRef((props, ref) => {\n\tconst { isSelected = false, ...attributes } = props;\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\t{...attributes}\n\t\t\tclassName={cx(\n\t\t\t\tcss`\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 2px;\n\t\t\t\t\tmargin: 1rem 0;\n\t\t\t\t\tbackground: #eee;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tborder-style: solid;\n\t\t\t\t\tborder-width: 1px;\n\t\t\t\t`,\n\t\t\t\tcomponentClassName.Hr,\n\t\t\t\tcss`\n\t\t\t\t\tborder-color: ${isSelected ? 'var(--theme-color, #42b983)' : 'transparent'};\n\t\t\t\t`\n\t\t\t)}\n\t\t/>\n\t);\n});\n\nexport default Hr;\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nclass Image extends React.Component {\n\tstate = {\n\t\thasError: false\n\t};\n\n\thandleKeyDown = (e) => {\n\t\tif (e.key === 'Enter' || e.key === 'ArrowDown') {\n\t\t\te.preventDefault();\n\t\t\tconst { editor, node } = this.props;\n\t\t\treturn editor.moveToRangeOfNode(node).moveToStartOfNextBlock().focus();\n\t\t}\n\t};\n\n\thandleChange = (e) => {\n\t\te.stopPropagation();\n\t\tconst alt = e.target.value;\n\t\tconst { editor, node } = this.props;\n\t\tconst data = node.data.toObject();\n\t\teditor.setNodeByKey(node.key, { data: { ...data, alt } });\n\t};\n\n\trender() {\n\t\tconst { node, isSelected, readOnly, editor } = this.props;\n\t\t// const isLoading = node.data.get('loading');\n\t\tconst caption = node.data.get('alt') || '';\n\t\tconst src = node.data.get('src');\n\t\tconst showCaption = !readOnly || caption;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmargin: '1rem 0 ',\n\t\t\t\t\t\tpadding: '1rem',\n\t\t\t\t\t\tborder: isSelected ? '2px solid var(--theme-color, #42b983)' : '2px solid transparent'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: '1rem',\n\t\t\t\t\t\t\tmarginBottom: '1rem',\n\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\tmaxHeight: '200px'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\talt={caption}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\teditor.moveToRangeOfNode(node);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<div style={{ textAlign: 'center', minHeight: '19px' }} contentEditable={false}>\n\t\t\t\t\t\t{showCaption &&\n\t\t\t\t\t\tisSelected && (\n\t\t\t\t\t\t\t<Caption\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\tminWidth: '414px',\n\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\tborder: '0',\n\t\t\t\t\t\t\t\t\tfontSize: '0.8rem',\n\t\t\t\t\t\t\t\t\tcolor: '#333'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tplaceholder=\"可以在这里添加图片题注\"\n\t\t\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t// onClick={this.handleClick}\n\t\t\t\t\t\t\t\tdefaultValue={caption}\n\t\t\t\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\t\t\t\tdisabled={readOnly}\n\t\t\t\t\t\t\t\t// autoFocus={isSelected}\n\t\t\t\t\t\t\t\t// async\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst Caption = styled.input`\n\tborder: 0;\n\tdisplay: block;\n\tfont-size: 13px;\n\tfont-style: italic;\n\tcolor: ${(props) => props.theme.textSecondary};\n\tpadding: 2px 0;\n\tline-height: 16px;\n\ttext-align: center;\n\twidth: auto;\n\n\toutline: none !important;\n\tbackground: #000;\n\tresize: none;\n\t&::placeholder {\n\t\tcolor: ${(props) => props.theme.placeholder};\n\t}\n`;\n\nexport default Image;\n","import * as React from \"react\";\nimport { componentClassName } from \"../theme\";\n\nexport default function Link(props) {\n  const { attributes, node, children, editor, readOnly } = props;\n  const embed = node.data.get(\"embed\");\n  const Component = node.data.get(\"component\");\n  const href = node.data.get(\"href\");\n\n  if (embed && Component) {\n    return <Component {...props} />;\n  }\n\n  return (\n    <a\n      {...attributes}\n      className={componentClassName.Link}\n      href={readOnly ? href : undefined}\n      onClick={\n        readOnly\n          ? e => {\n              if (editor.props.onClickLink) {\n                e.preventDefault();\n                editor.props.onClickLink(href);\n              } else {\n                console.warn(\"please implement onCliclLink prop\");\n              }\n            }\n          : undefined\n      }\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\nimport { cx, css } from 'emotion';\nimport { componentClassName } from '../theme';\n\nclass CheckListItem extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tchecked: (this.props.node && this.props.node.data && this.props.node.data.get('checked')) || false\n\t\t};\n\t}\n\tonChange = (event) => {\n\t\tconst checked = event.target.checked;\n\t\tconst { editor, node } = this.props;\n\t\teditor.setNodeByKey(node.key, { data: { checked } });\n\t\tevent.stopPropagation();\n\t\tthis.setState({\n\t\t\tchecked: !this.state.checked\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { attributes, children, readOnly } = this.props;\n\t\tconst { checked } = this.state;\n\t\treturn (\n\t\t\t<li {...attributes} className={componentClassName.ToDoItem}>\n\t\t\t\t<span contentEditable={false}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tclassName={cx(componentClassName.ToDoItemCheckbox)}\n\t\t\t\t\t\t// style={{ margin: '2px 18px 0 -10px', fontSize: '18px', height: '18px' }}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tcontentEditable={!readOnly}\n\t\t\t\t\tsuppressContentEditableWarning\n\t\t\t\t\tclassName={cx(\n\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\topacity: ${checked ? 0.666 : 1};\n\t\t\t\t\t\t\ttext-decoration: ${checked ? 'line-through' : 'none'};\n\t\t\t\t\t\t\t&:focus {\n\t\t\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`,\n\t\t\t\t\t\tcomponentClassName.ToDoItemContent\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nexport default CheckListItem;\n","import React from 'react';\nimport TodoItem from './TodoItem';\n// import { cx, css } from 'emotion';\nimport { componentClassName } from '../theme';\nconst ListItem = React.forwardRef(({ children, node, attributes, ...props }, ref) => {\n\tconst checked = node.data.get('checked');\n\tif (checked !== undefined) {\n\t\treturn (\n\t\t\t<TodoItem ref={ref} node={node} attributes={attributes} {...props}>\n\t\t\t\t{children}\n\t\t\t</TodoItem>\n\t\t);\n\t}\n\treturn (\n\t\t<li ref={ref} {...attributes} className={componentClassName.ListItem}>\n\t\t\t{children}\n\t\t</li>\n\t);\n});\nexport default ListItem;\n","import React from 'react';\nimport { componentClassName } from '../theme';\nconst TodoList = React.forwardRef((props, ref) => {\n\treturn (\n\t\t<ul ref={ref} className={componentClassName.ToDoList}>\n\t\t\t{props.children}\n\t\t</ul>\n\t);\n});\n\nexport default TodoList;\n","import React from 'react';\nimport { componentClassName } from '../theme';\n\nconst Heading = React.forwardRef((props, ref) => {\n\tconst { children, depth = 3, ...attributes } = props;\n\n\tswitch (depth) {\n\t\tcase 1:\n\t\t\treturn (\n\t\t\t\t<h1 ref={ref} {...attributes} className={componentClassName.H1}>\n\t\t\t\t\t{children}\n\t\t\t\t</h1>\n\t\t\t);\n\t\tcase 2:\n\t\t\treturn (\n\t\t\t\t<h2 ref={ref} {...attributes} className={componentClassName.H2}>\n\t\t\t\t\t{children}\n\t\t\t\t</h2>\n\t\t\t);\n\t\tcase 3:\n\t\t\treturn (\n\t\t\t\t<h3 ref={ref} {...attributes} className={componentClassName.H3}>\n\t\t\t\t\t{children}\n\t\t\t\t</h3>\n\t\t\t);\n\t\tcase 4:\n\t\t\treturn (\n\t\t\t\t<h4 ref={ref} {...attributes} className={componentClassName.H4}>\n\t\t\t\t\t{children}\n\t\t\t\t</h4>\n\t\t\t);\n\t\tcase 5:\n\t\t\treturn (\n\t\t\t\t<h5 ref={ref} {...attributes} className={componentClassName.H5}>\n\t\t\t\t\t{children}\n\t\t\t\t</h5>\n\t\t\t);\n\t\tcase 6:\n\t\t\treturn (\n\t\t\t\t<h6 ref={ref} {...attributes} className={componentClassName.H6}>\n\t\t\t\t\t{children}\n\t\t\t\t</h6>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<p ref={ref} {...attributes} data-error=\"there is no such heading \">\n\t\t\t\t\t{children}\n\t\t\t\t</p>\n\t\t\t);\n\t}\n});\n\nexport default Heading;\n\nexport const Heading1 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={1} />;\n});\n\nexport const Heading2 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={2} />;\n});\nexport const Heading3 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={3} />;\n});\nexport const Heading4 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={4} />;\n});\nexport const Heading5 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={5} />;\n});\nexport const Heading6 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={6} />;\n});\n","import React from 'react';\nimport classnames from 'classnames';\nimport { componentClassName } from '../theme';\nconst Paragraph = React.forwardRef(({ children, placeholderVisible, ...attributes }, ref) => {\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\t{...attributes}\n\t\t\tclassName={classnames(\n\t\t\t\tplaceholderVisible ? componentClassName.ParagraphPlaceHolder : componentClassName.Paragraph\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n});\nexport default Paragraph;\n","import React from 'react';\nimport Hr from '../../components/Hr';\nimport Image from '../../components/Image';\nimport Link from '../../components/Link';\nimport ListItem from '../../components/ListItem';\nimport TodoList from '../../components/TodoList';\nimport { Heading1, Heading2, Heading3, Heading4, Heading5, Heading6 } from '../../components/Heading';\nimport Paragraph from '../../components/Paragraph';\nimport { componentClassName } from '../../theme';\n\nexport default function renderBlock(props, editor, next) {\n\tconst { attributes } = props;\n\n\tconst hidden = props.node.data.get('hidden');\n\tif (hidden) attributes.style = { display: 'none' };\n\n\tswitch (props.node.type) {\n\t\tcase 'paragraph':\n\t\t\tconst { isFocused } = props;\n\t\t\tconst { isExpanded } = editor.value.selection;\n\t\t\t// 通过添加一个placeholderVisible的状态，控制是否增加一个css样式（当文本没有内容[slate中是不存在的，通过attr的相关属性模拟]来显示placeholder）\n\t\t\treturn (\n\t\t\t\t<Paragraph {...attributes} placeholderVisible={isFocused && !isExpanded}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</Paragraph>\n\t\t\t);\n\t\tcase 'block-quote':\n\t\t\treturn (\n\t\t\t\t<blockquote className={componentClassName.Blockquote} {...attributes}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</blockquote>\n\t\t\t);\n\t\tcase 'bulleted-list':\n\t\t\treturn (\n\t\t\t\t<ul className={componentClassName.BulletedList} {...attributes}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</ul>\n\t\t\t);\n\t\tcase 'ordered-list':\n\t\t\treturn (\n\t\t\t\t<ol className={componentClassName.OrderedList} {...attributes}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</ol>\n\t\t\t);\n\t\tcase 'todo-list':\n\t\t\treturn <TodoList {...attributes}>{props.children}</TodoList>;\n\t\tcase 'list-item':\n\t\t\treturn <ListItem {...props} />;\n\t\tcase 'horizontal-rule':\n\t\t\treturn <Hr {...attributes} isSelected={props.isSelected} />;\n\t\tcase 'image':\n\t\t\treturn <Image {...attributes} isSelected={props.isSelected} {...props} />;\n\t\tcase 'link':\n\t\t\treturn <Link {...props} />;\n\t\tcase 'heading1':\n\t\t\treturn <Heading1 {...attributes}>{props.children}</Heading1>;\n\t\tcase 'heading2':\n\t\t\treturn <Heading2 {...attributes}>{props.children}</Heading2>;\n\t\tcase 'heading3':\n\t\t\treturn <Heading3 {...attributes}>{props.children}</Heading3>;\n\t\tcase 'heading4':\n\t\t\treturn <Heading4 {...attributes}>{props.children}</Heading4>;\n\t\tcase 'heading5':\n\t\t\treturn <Heading5 {...attributes}>{props.children}</Heading5>;\n\t\tcase 'heading6':\n\t\t\treturn <Heading6 {...attributes}>{props.children}</Heading6>;\n\t\tdefault:\n\t\t\treturn next();\n\t}\n}\n","import React from 'react';\nimport { componentClassName } from '../../theme';\n\nexport default function renderMark(props, editor, next) {\n\tswitch (props.mark.type) {\n\t\tcase 'bold':\n\t\t\treturn <strong>{props.children}</strong>;\n\t\tcase 'code':\n\t\t\treturn <code className={componentClassName.Code}>{props.children}</code>;\n\t\tcase 'italic':\n\t\t\treturn <em>{props.children}</em>;\n\t\tcase 'underlined':\n\t\t\treturn <u>{props.children}</u>;\n\t\tcase 'deleted':\n\t\t\treturn <del>{props.children}</del>;\n\t\tcase 'inserted':\n\t\t\treturn <mark>{props.children}</mark>;\n\t\tdefault:\n\t\t\treturn next();\n\t}\n}\n","import React from 'react';\nimport { componentClassName } from '../../theme';\n\nexport default function renderInline(props, editor, next) {\n\tconst { attributes, children, node } = props;\n\n\tswitch (node.type) {\n\t\tcase 'link': {\n\t\t\tconst { data } = node;\n\t\t\tconst href = data.get('href');\n\t\t\treturn (\n\t\t\t\t<a className={componentClassName.Link} {...attributes} href={href}>\n\t\t\t\t\t{children}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\t\tdefault: {\n\t\t\treturn next();\n\t\t}\n\t}\n}\n","import { Block } from 'slate';\nconst schema = {\n\tblocks: {\n\t\theading1: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading2: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading3: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading4: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading5: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading6: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\n\t\t'horizontal-rule': {\n\t\t\tisVoid: true\n\t\t},\n\t\timage: {\n\t\t\tisVoid: true\n\t\t},\n\t\tlink: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\t'block-toolbar': {\n\t\t\tisVoid: true\n\t\t},\n\t\t'bulleted-list': {\n\t\t\tnormalize(editor, { code, node, child }) {\n\t\t\t\tconsole.log('bulleted-list', 0);\n\t\t\t\tif (code === 'child_type_invalid') {\n\t\t\t\t\tconsole.log('bulleted-list child_type_invalid');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'ordered-list': {\n\t\t\tnormalize(editor, { code, node, child }) {\n\t\t\t\tconsole.log('ordered-list', 123);\n\t\t\t\tif (code === 'child_type_invalid') {\n\t\t\t\t\tconsole.log('ordered-list child_type_invalid');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'todo-list': {\n\t\t\tnormalize(editor, { code, node, child }) {\n\t\t\t\tconsole.log('todo-list', 456);\n\t\t\t\tif (code) {\n\t\t\t\t\tconsole.log('error', code);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'list-item': {\n\t\t\tparent: [ { type: 'bulleted-list' }, { type: 'ordered-list' }, { type: 'todo-list' } ],\n\t\t\tnodes: [\n\t\t\t\t{\n\t\t\t\t\tmatch: [\n\t\t\t\t\t\t{ object: 'text' },\n\t\t\t\t\t\t{ type: 'image' },\n\t\t\t\t\t\t{ type: 'list-item' },\n\t\t\t\t\t\t{ type: 'paragraph' },\n\t\t\t\t\t\t{ type: 'bulleted-list' },\n\t\t\t\t\t\t{ type: 'ordered-list' },\n\t\t\t\t\t\t{ type: 'todo-list' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\tdocument: {\n\t\tnodes: [\n\t\t\t{\n\t\t\t\tmatch: [\n\t\t\t\t\t{ type: 'paragraph' },\n\t\t\t\t\t{ type: 'heading1' },\n\t\t\t\t\t{ type: 'heading2' },\n\t\t\t\t\t{ type: 'heading3' },\n\t\t\t\t\t{ type: 'heading4' },\n\t\t\t\t\t{ type: 'heading5' },\n\t\t\t\t\t{ type: 'heading6' },\n\t\t\t\t\t{ type: 'block-quote' },\n\t\t\t\t\t{ type: 'horizontal-rule' },\n\t\t\t\t\t{ type: 'image' },\n\t\t\t\t\t{ type: 'bulleted-list' },\n\t\t\t\t\t{ type: 'ordered-list' },\n\t\t\t\t\t{ type: 'todo-list' },\n\t\t\t\t\t{ type: 'block-toolbar' },\n\t\t\t\t\t{ type: 'table' },\n\t\t\t\t\t{ type: 'link' },\n\t\t\t\t\t{ type: 'math' },\n\t\t\t\t\t{ type: 'code' }\n\t\t\t\t],\n\t\t\t\tmin: 1\n\t\t\t}\n\t\t],\n\t\tlast: [\n\t\t\t{ type: 'paragraph' },\n\t\t\t{ type: 'list-item' },\n\t\t\t{ type: 'heading1' },\n\t\t\t{ type: 'heading1' },\n\t\t\t{ type: 'heading2' },\n\t\t\t{ type: 'heading3' },\n\t\t\t{ type: 'heading4' },\n\t\t\t{ type: 'heading5' },\n\t\t\t{ type: 'heading6' }\n\t\t],\n\t\tnormalize(editor, { code, node, child }) {\n\t\t\tconsole.log('TCL: normalize -> code', code, child);\n\t\t\tif (code === 'last_child_type_invalid') {\n\t\t\t\tconst paragraph = Block.create('paragraph');\n\t\t\t\teditor.insertNodeByKey(node.key, node.nodes.size, paragraph);\n\t\t\t\tif (editor.value.startBlock.text === '') {\n\t\t\t\t\tif ([ 'bulleted-list', 'ordered-list', 'todo-list' ].includes(child.type))\n\t\t\t\t\t\teditor.delete().removeNodeByKey(child.key);\n\t\t\t\t}\n\t\t\t\treturn editor;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport default schema;\n","import React from 'react';\nimport { cx } from 'emotion';\nimport './list.css';\nconst List = (props) => {\n\tconst { items, editor, node, hiddenMenu } = props;\n\tconst clickHandler = (item) => {\n\t\tconsole.log('clickHandler', editor, node);\n\t\thiddenMenu();\n\t\tif (item.block === 'math') {\n\t\t\treturn editor.focus().insertMathBlock();\n\t\t}\n\t\tif ([ 'ordered', 'undo', 'finished', 'bulleted' ].includes(item.block)) {\n\t\t\tconsole.log(item.block);\n\t\t\treturn editor.focus().moveToStartOfNode(node).insertListItem(item.block, true);\n\t\t}\n\n\t\teditor.focus().moveToEnd().setBlocks(item.block);\n\t};\n\treturn (\n\t\t<ul className=\"a-menu-list\">\n\t\t\t{items.map((item, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={index} className=\"a-menu-item\" onClick={() => clickHandler(item)}>\n\t\t\t\t\t\t<span className=\"a-menu-item-text\">\n\t\t\t\t\t\t\t<span className={cx('a-menu-item-icon', 'iconfont', item.icon)} /> {item.text}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"short-cut\">{item.shortCut}</span>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n\nexport default List;\n","import React, { useEffect, useRef, useState } from 'react';\nimport Tooltip from 'rc-tooltip';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport List from './components/List';\nimport { cx } from 'emotion';\nconst iconItems = [\n\t{ text: '一级标题', icon: 'icon-formatheader1', block: 'heading1', shortCut: '⌘+1' },\n\t{ text: '二级标题', icon: 'icon-formatheader2', block: 'heading2', shortCut: '⌘+2' },\n\t{ text: '三级标题', icon: 'icon-formatheader3', block: 'heading3', shortCut: '⌘+3' },\n\t{ text: '四级标题', icon: 'icon-formatheader4', block: 'heading4', shortCut: '⌘+4' },\n\t{ text: '五级标题', icon: 'icon-formatheader5', block: 'heading5', shortCut: '⌘+5' },\n\t{ text: '六级标题', icon: 'icon-formatheader6', block: 'heading6', shortCut: '⌘+6' },\n\t{ text: '段落', icon: 'icon-paragraph', block: 'paragraph', shortCut: '⌘+p' },\n\t{ text: '引用段落', icon: 'icon-double-quotes-l', block: 'block-quote', shortCut: '⌘+>' },\n\t{ text: '有序列表', icon: 'icon-editor-list-numbers', block: 'ordered', shortCut: '⌘+shift+l' },\n\t{ text: '无序列表', icon: 'icon-editor-list-bulleted', block: 'bulleted', shortCut: '⌘+l' },\n\t{ text: '任务列表', icon: 'icon--Todo-List', block: 'undo', shortCut: '⌘+shift+o' },\n\t{ text: '公式', icon: 'icon-formula', block: 'math', shortCut: '' }\n];\nconst WrapperBlock = ({ visible, wrapper, children }) => {\n\tuseEffect(() => {\n\t\tconsole.log('init');\n\t\treturn () => {\n\t\t\tconsole.log('clean');\n\t\t};\n\t}, []);\n\treturn (\n\t\t<div style={{ position: 'relative' }}>\n\t\t\t{visible && wrapper}\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nconst DemoWrapper2 = ({ editor, node }) => {\n\tconst [ visible, setVisible ] = useState(false);\n\tconst triggerRef = useRef(null);\n\tconst handleClick = (e) => {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t};\n\tlet iconItem = iconItems.find((i) => i.block === node.type);\n\tif (!iconItem) {\n\t\tswitch (node.type) {\n\t\t\tcase 'todo-list':\n\t\t\t\ticonItem = { icon: 'icon--Todo-List' };\n\t\t\t\tbreak;\n\t\t\tcase 'ordered-list':\n\t\t\t\ticonItem = { icon: 'icon-editor-list-numbers' };\n\t\t\t\tbreak;\n\t\t\tcase 'bulleted-list':\n\t\t\t\ticonItem = { icon: 'icon-editor-list-bulleted' };\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t}\n\treturn (\n\t\t<div\n\t\t\tcontentEditable={false}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '-50px',\n\t\t\t\ttop: '-5px',\n\t\t\t\tfontSize: '16px',\n\t\t\t\tpadding: '4px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t}}\n\t\t\tonClick={handleClick}\n\t\t\tref={triggerRef}\n\t\t>\n\t\t\t<Tooltip\n\t\t\t\tvisible={visible}\n\t\t\t\t// animation=\"zoom\"\n\t\t\t\tplacement=\"rightTop\"\n\t\t\t\tdestroyTooltipOnHide={true}\n\t\t\t\tonVisibleChange={(v) => setVisible(v)}\n\t\t\t\ttrigger=\"click\"\n\t\t\t\toverlay={<List editor={editor} node={node} hiddenMenu={() => setVisible(false)} items={iconItems} />}\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\tclassName={cx('iconfont', (iconItem && iconItem.icon) || '')}\n\t\t\t\t\tstyle={{ fontSize: '1.2rem', color: '#666' }}\n\t\t\t\t/>\n\t\t\t</Tooltip>\n\t\t</div>\n\t);\n};\n\n/**\n * options需要传入一个Wrapper的组件，wrapper组件会被自动 inject 一个 {editor}的props以支持后续自定义操作\n * 例子见demoWrapper\n */\nexport default (options = {}) => {\n\tconst { Wrapper = DemoWrapper2 } = options;\n\treturn {\n\t\trenderBlock: (props, editor, next) => {\n\t\t\tconst children = next();\n\t\t\tconst { node, isSelected } = props; // isFocused,\n\t\t\tconst { isExpanded } = editor.value.selection; //选区未展开\n\t\t\tconst { document } = editor.value;\n\t\t\tconst { type } = node;\n\t\t\tif (type !== 'list-item' && document.nodes.includes(node))\n\t\t\t\treturn (\n\t\t\t\t\t<WrapperBlock visible={isSelected && !isExpanded} wrapper={<Wrapper node={node} editor={editor} />}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</WrapperBlock>\n\t\t\t\t);\n\t\t\treturn <React.Fragment>{children}</React.Fragment>;\n\t\t}\n\t};\n};\n","import React from 'react';\nexport const Context = React.createContext({});\nexport default Context;\n","import React, { useEffect, useReducer } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport Context from './Context';\nconst reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'setHover':\n\t\t\tconsole.log('setHover fired');\n\t\t\treturn { ...state, hoverKey: action.payload };\n\t\tcase 'setDragKey':\n\t\t\treturn { ...state, dragKey: action.payload };\n\t\tcase 'clean':\n\t\t\treturn { hoverKey: null, dragKey: null };\n\t\tdefault:\n\t\t\tconsole.warn('NONE REDUCER HITTED!');\n\t\t\treturn { ...state };\n\t}\n};\nconst Container = (props) => {\n\tconst [ state, dispatch ] = useReducer(reducer, { hoverKey: null, dragKey: null });\n\tuseEffect(() => {\n\t\tconsole.log('init container');\n\t\treturn () => {\n\t\t\tconsole.log('clean container');\n\t\t};\n\t}, []);\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Context.Provider value={{ state, dispatch }}>\n\t\t\t\t<DndProvider backend={HTML5Backend}>{props.children}</DndProvider>\n\t\t\t</Context.Provider>\n\t\t</div>\n\t);\n};\n\nexport default Container;\n","import React, { useCallback } from 'react';\nimport { useDrag } from 'react-dnd';\nimport { componentClassName } from '../../theme';\nimport { cx } from 'emotion';\n\nconst Card = ({ id, children, dispatch, index, nodeKey, editor, state }) => {\n\tconst { hoverKey, dragKey } = state;\n\tconst moveCard = useCallback(\n\t\t(dragKey, hoverKey) => {\n\t\t\tconst parentKey = editor.value.document.key;\n\t\t\tif (dragKey === hoverKey) return;\n\t\t\tconst hoverIndex = editor.value.document.nodes.findIndex((i) => i.key === hoverKey + ''); //hoverKey > dragKey ? hoverKey - 1 : hoverKey\n\t\t\treturn editor.moveNodeByKey(dragKey, parentKey, hoverIndex);\n\t\t},\n\t\t[ editor ]\n\t);\n\tconst [ { isDragging }, drag, preview ] = useDrag({\n\t\titem: { type: 'card', id, index, nodeKey },\n\t\tcollect: (monitor) => ({\n\t\t\tisDragging: monitor.isDragging()\n\t\t}),\n\t\toptions: {\n\t\t\tdropEffect: 'move'\n\t\t},\n\t\tbegin: (item) => {\n\t\t\tdispatch({\n\t\t\t\ttype: 'setDragKey',\n\t\t\t\tpayload: nodeKey\n\t\t\t});\n\t\t},\n\t\tend: (dropResult, monitor) => {\n\t\t\tif (dropResult) {\n\t\t\t\tconst { nodeKey: dragKey } = dropResult;\n\t\t\t\tmoveCard(dragKey, hoverKey);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: 'clean'\n\t\t\t\t\t});\n\t\t\t\t}, 55);\n\t\t\t}\n\t\t}\n\t});\n\tconst opacity = isDragging ? 0 : 1;\n\tconst borderExtra = (drag, hover) => {\n\t\tif (hover !== nodeKey) {\n\t\t\treturn {};\n\t\t}\n\t\tconst dragIndex = editor.value.document.nodes.findIndex((i) => i.key === drag + '');\n\t\tconst hoverIndex = editor.value.document.nodes.findIndex((i) => i.key === hover + '');\n\t\tif (dragIndex > hoverIndex) {\n\t\t\treturn { borderTopColor: 'green' };\n\t\t} else {\n\t\t\treturn { borderBottomColor: 'green' };\n\t\t}\n\t};\n\treturn (\n\t\t<div\n\t\t\tref={preview}\n\t\t\tstyle={{\n\t\t\t\topacity,\n\t\t\t\tborder: hoverKey === nodeKey ? '2px solid var(--theme-color,#eee)' : '2px solid transparent',\n\t\t\t\t...borderExtra(dragKey, hoverKey)\n\t\t\t}}\n\t\t\tclassName={componentClassName.DragContainer}\n\t\t>\n\t\t\t<span\n\t\t\t\tref={drag}\n\t\t\t\tclassName={cx('iconfont', 'icon-drag', componentClassName.DragHandler)}\n\t\t\t\tcontentEditable={false}\n\t\t\t/>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\nexport default Card;\n","import React from 'react';\nimport { useDrop } from 'react-dnd';\nimport Card from './Card';\nimport throttle from 'lodash/throttle';\nimport { cx, css } from 'emotion';\n// import Context from './Context';\nconst th = throttle((item, monitor, node, dispatch) => {\n\tconsole.log('before setHover', item, monitor, node.key);\n\tconst { nodeKey } = item;\n\tif (nodeKey !== node.key) {\n\t\tdispatch({\n\t\t\ttype: 'setHover',\n\t\t\tpayload: node.key\n\t\t});\n\t}\n}, 50);\n\nconst CardHOC = ({ node, editor, state, dispatch, children, ...props }) => {\n\tconst [ , drop ] = useDrop({\n\t\taccept: 'card',\n\t\thover: (item, monitor) => {\n\t\t\tth(item, monitor, node, dispatch);\n\t\t},\n\t\tdrop: (dropResult, monitor) => {\n\t\t\tconsole.log('drop!!!!!! enddrop', dropResult);\n\t\t}\n\t});\n\treturn (\n\t\t<Card\n\t\t\t{...props}\n\t\t\tkey={node.key}\n\t\t\tindex={node.key}\n\t\t\tnodeKey={node.key}\n\t\t\teditor={editor}\n\t\t\tid={node.key}\n\t\t\tstate={state}\n\t\t\tdispatch={dispatch}\n\t\t>\n\t\t\t<figure\n\t\t\t\tclassName={cx(css`\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t`)}\n\t\t\t\tref={drop}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</figure>\n\t\t</Card>\n\t);\n};\n\nexport default CardHOC;\n","import Code from '@zhujianshi/slate-code-base';\nimport Math from '@zhujianshi/slate-code-math';\nimport Table from '@zhujianshi/slate-table';\nimport '@zhujianshi/slate-code-base/lib/index.css';\nimport '@zhujianshi/slate-code-math/lib/index.css';\nimport '@zhujianshi/slate-table/lib/index.css';\nimport MarkDownShortcuts from './plugins/MarkDownShortcuts';\nimport KeyboardShortcuts from './plugins/KeyboardShortcuts';\nimport OnKeyDown from './plugins/OnKeyDown';\nimport MarkDownPaste from './plugins/Paste/MarkDownPaste';\nimport HOC from './plugins/HOC/index';\nimport HoverMenu from './plugins/HOC/HoverMenu';\nimport Image from './plugins/Image';\nimport Embed from './plugins/Embed';\nimport AnyLateRender from './plugins/AnyLateRender';\nimport SideIcon from './plugins/Toolbar/SideIcon';\nimport Draggable from './plugins/Draggable';\n\nexport default [\n\tDraggable(),\n\tHOC({ plugins: [ HoverMenu ] }),\n\tMath(),\n\tCode(),\n\tTable(),\n\tSideIcon(),\n\tMarkDownShortcuts(),\n\tKeyboardShortcuts(),\n\tOnKeyDown(),\n\tMarkDownPaste(),\n\tImage({\n\t\textensions: [ 'png', 'jpeg', 'jpg' ],\n\t\tinsertImage: (editor, src) => {\n\t\t\teditor.insertImageFile(src);\n\t\t}\n\t}),\n\tEmbed(),\n\tAnyLateRender()\n];\n","import React from 'react';\nimport Container from './Container';\nimport CardHOC from './CardHOC';\nimport Context from './Context';\nconst DraggablePlugin = (options = {}) => {\n\treturn {\n\t\trenderEditor: (props, editor, next) => {\n\t\t\treturn (\n\t\t\t\t<Container {...props} editor={editor}>\n\t\t\t\t\t{next()}\n\t\t\t\t</Container>\n\t\t\t);\n\t\t},\n\t\trenderBlock: (props, editor, next) => {\n\t\t\tconst { node } = props;\n\t\t\tconst { document } = editor.value;\n\t\t\tconst children = next();\n\t\t\tif (document.nodes.includes(node)) {\n\t\t\t\treturn (\n\t\t\t\t\t<Context.Consumer>\n\t\t\t\t\t\t{({ state, dispatch }) => (\n\t\t\t\t\t\t\t<CardHOC\n\t\t\t\t\t\t\t\tkey={'hoc-' + props.node.key}\n\t\t\t\t\t\t\t\tnode={props.node}\n\t\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\teditor={editor}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</CardHOC>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Context.Consumer>\n\t\t\t\t);\n\t\t\t} else return <React.Fragment>{children}</React.Fragment>;\n\t\t}\n\t};\n};\n\nexport default DraggablePlugin;\n","export const whenTrueOrNext = action => next => () => {\n  return action() || next();\n};\nexport const noop = () => {};\nexport const chain = (...conditions) =>\n  conditions.reduceRight((acc, condition) => condition(acc), noop);\n\nexport const isModKey = event => {\n  const inIOS =\n    typeof window !== \"undefined\" &&\n    /Mac|iPad|iPod|iPhone/.test(window.navigator.platform);\n  return inIOS ? event.metaKey : event.ctrlKey;\n};\n","import { isModKey } from './utils';\nimport onEnterHandler from './onEnter';\nimport onBackspaceHandler from './onBackspace';\nimport onDash from './onDash';\n\nexport default function KeyboardBehavior(options = {}) {\n\tconst onEnter = options.onEnter || onEnterHandler;\n\tconst onBackspace = options.onBackspace || onBackspaceHandler;\n\n\treturn {\n\t\tonKeyDown(e, editor, next) {\n\t\t\t// 当文本被全选或者清空时 ， 去除任何mark样式并设置为段落\n\t\t\tif (editor.value.document.text.length === 0) {\n\t\t\t\t[ 'bold', 'italic', 'deleted', 'underlined', 'code', 'inserted' ].forEach((mark) => {\n\t\t\t\t\teditor.removeMark(mark);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (isModKey(e)) return next();\n\t\t\tswitch (e.key) {\n\t\t\t\tcase 'Enter':\n\t\t\t\t\treturn onEnter(e, editor, next);\n\t\t\t\tcase 'Backspace':\n\t\t\t\t\treturn onBackspace(e, editor, next);\n\t\t\t\tcase '-':\n\t\t\t\t\treturn onDash(e, editor, next);\n\t\t\t\tdefault:\n\t\t\t\t\treturn next();\n\t\t\t}\n\t\t}\n\t};\n}\n","export default function onDash(e, editor, next) {\n  const { value } = editor;\n  const { startBlock, selection } = value;\n  if (selection.isExpanded) return next();\n\n  if (startBlock.type.match(/heading/)) return next();\n  // if (editor.isSelectionInTable()) return next();\n\n  const chars = startBlock.text\n    .slice(0, selection.start.offset)\n    .replace(/\\s*/g, \"\");\n\n  if (chars === \"--\") {\n    e.preventDefault();\n    return editor\n      .moveFocusToStartOfNode(startBlock)\n      .delete()\n      .setBlocks(\n        {\n          type: \"horizontal-rule\",\n          isVoid: true\n        },\n        { normalize: false }\n      )\n      .insertBlock(\"paragraph\")\n      .focus();\n  }\n\n  return next();\n}\n","import React from 'react';\nimport EmbedComponent from './EmbedComponent';\n\nexport default (options) => {\n\treturn {\n\t\tschema: {\n\t\t\tblocks: {\n\t\t\t\tembed: {\n\t\t\t\t\tisVoid: true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trenderBlock: (props, editor, next) => {\n\t\t\tif (props.node.type === 'embed') return <EmbedComponent {...props} editor={editor} />;\n\t\t\treturn next();\n\t\t},\n\t\tonKeyDown: (event, editor, next) => {\n\t\t\tconst { value: { startBlock } } = editor;\n\t\t\tif (startBlock && startBlock.type === 'embed' && event.key === 'Enter') {\n\t\t\t\treturn editor.insertBlock('paragraph');\n\t\t\t}\n\t\t\treturn next();\n\t\t}\n\t};\n};\n","import renderBlock from './renderBlock';\nimport renderMark from './renderMark';\nimport renderInline from './renderInline';\nimport schema from './schema';\nexport default function AnyLateRender() {\n\treturn {\n\t\trenderBlock,\n\t\trenderMark,\n\t\trenderInline,\n\t\tschema\n\t};\n}\n","import { Editor } from 'slate-react';\nimport { Value } from 'slate';\n\nimport React, { useState } from 'react';\nimport initialValueAsJson from './value.json';\nimport plugins from './plugins';\nimport './themes/base.less';\nimport { theme } from './theme.js';\nimport { cx } from 'emotion';\n\nconst initialValue = Value.fromJSON(initialValueAsJson);\nconst AnySlate = (props) => {\n\tconst [ currentTheme, setTheme ] = useState(theme.light);\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetTheme(theme.dark);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tdark\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetTheme(theme.light);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tlight\n\t\t\t</button>\n\t\t\t<Editor\n\t\t\t\tclassName={cx(theme.base, currentTheme)}\n\t\t\t\tplugins={plugins}\n\t\t\t\tplaceholder=\"Write the code , change the world...\"\n\t\t\t\tdefaultValue={initialValue}\n\t\t\t/>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default AnySlate;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport AnySlate from './editor/index';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<AnySlate />, document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}