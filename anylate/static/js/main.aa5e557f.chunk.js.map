{"version":3,"sources":["webpack:///./src/editor/themes/base.less?e272","editor/themes/base.less","editor/plugins/MarkDownShortcuts/utils/index.js","editor/plugins/MarkDownShortcuts/onSpace.js","editor/plugins/MarkDownShortcuts/onDash.js","editor/plugins/MarkDownShortcuts/onBacktick.js","editor/plugins/MarkDownShortcuts/onTab.js","editor/plugins/MarkDownShortcuts/commands.js","editor/plugins/MarkDownShortcuts/utils/flow.js","editor/plugins/MarkDownShortcuts/index.js","editor/plugins/KeyboardShortcuts/index.js","editor/plugins/OnKeyDown/utils.js","editor/plugins/OnKeyDown/services/blockQuote.js","editor/plugins/OnKeyDown/services/heading.js","editor/plugins/OnKeyDown/onEnter.js","editor/plugins/OnKeyDown/onBackspace.js","editor/plugins/Paste/MarkDownPaste.js","editor/plugins/Paste/HtmlPaste.js","editor/plugins/HOC/link.js","editor/plugins/HOC/onPaste.js","editor/plugins/HOC/index.js","editor/plugins/HOC/components/Icon.js","editor/plugins/HOC/components/Button.js","editor/plugins/HOC/HoverMenu.js","editor/plugins/Image/data-uri-to-blob.js","editor/plugins/Image/image-to-data-uri.js","editor/plugins/Image/load-image-file.js","editor/plugins/Image/index.js","editor/plugins/Embed/UrlInput.js","editor/plugins/Embed/EmbedComponent.js","editor/theme.js","editor/components/Hr.js","editor/components/Image.js","editor/components/Link.js","editor/components/TodoItem.js","editor/components/ListItem.js","editor/components/TodoList.js","editor/components/Heading.js","editor/components/Paragraph.js","editor/plugins/AnyLateRender/renderBlock.js","editor/plugins/AnyLateRender/renderMark.js","editor/plugins/AnyLateRender/renderInline.js","editor/plugins/AnyLateRender/schema.js","editor/plugins/Toolbar/components/List.js","editor/plugins/Toolbar/SideIcon.js","editor/plugins/Draggable/Context.js","editor/plugins/Draggable/Container.js","editor/plugins/Draggable/Card.js","editor/plugins/Draggable/CardHOC.js","editor/plugins.js","editor/plugins/Draggable/index.js","editor/plugins/KeyboardShortcuts/utils.js","editor/plugins/OnKeyDown/index.js","editor/plugins/OnKeyDown/onEscape.js","editor/plugins/OnKeyDown/onDash.js","editor/plugins/Embed/index.js","editor/plugins/AnyLateRender/index.js","editor/index.js","serviceWorker.js","index.js"],"names":["content","module","i","options","locals","exports","push","inlineShortcuts","mark","shortcut","reg","wrap","type","getType","chars","ifCodeBlockMatch","str","onSpace","event","editor","next","value","selection","startBlock","isExpanded","text","slice","start","offset","trim","match","preventDefault","insertListItem","moveFocusToStartOfNode","delete","setBlocks","withoutNormalizing","getTexts","forEach","firstText","key","result","exec","index","length","end","label","uri","removeTextByKey","splitBlock","data","src","alt","moveForward","moveStartTo","moveEndTo","wrapInline","href","moveToEnd","moveAnchorTo","addMark","removeMark","onDash","ev","replace","insertBlock","focus","onBacktick","onTab","sibling","document","getPreviousSibling","parent","getParent","removeNodeByKey","lastChild","nodes","last","includes","insertItem","Block","create","object","insertNodeByKey","size","forceSubType","forceSwitch","subType","find","item","test","getSubType","isCurrentBlockListItem","wrapType","checked","getClosestBlock","setNodeByKey","node","ListItem","wrapBlock","handlerShortCut","insertMathBlock","moveToStartOfNode","flow","conditionActions","condition","action","MarkdownShortcuts","isDash","isHotkey","isBacktick","isSpace","isShiftSpace","isTab","setParagraph","setHeading1","setHeading2","setHeading3","setHeading4","setHeading5","setHeading6","setOrderedList","setBulletedList","setTodoList","setBlockQuote","insertHr","saveToJson","commands","onKeyDown","e","ifFlow","toggleMark","whenTrueOrNext","noop","chain","conditions","reduceRight","acc","isModKey","window","navigator","platform","metaKey","ctrlKey","onEnterInblockQuote","endsWith","moveFocusBackward","unwrapBlock","insertText","onEnterInHeading","onEnter","endOffset","isVoid","moveToStartOfPreviousBlock","startParent","getClosest","grandParent","onBackspace","parentType","markdownSerializer","MarkdownSerializer","BLOCK_TAGS","p","li","ul","ol","blockquote","pre","h1","h2","h3","h4","h5","h6","MARK_TAGS","strong","em","u","s","del","code","RULES","deserialize","el","block","tagName","toLowerCase","childNodes","getAttribute","serializer","Html","rules","wrapLink","unwrapLink","unwrapInline","ifHasLinks","inlines","some","inline","onPaste","isCollapsed","transfer","getEventTransfer","isUrl","command","Editor","children","hocs","readOnly","Fragment","map","hoc","Icon","React","forwardRef","ref","icon","props","className","cx","css","Button","active","activeMarks","onClickLink","prompt","onMouseDown","HoverMenu","visible","useRef","root","getElementById","body","menu","current","fragment","isBlurred","removeAttribute","rect","getSelection","getRangeAt","getBoundingClientRect","style","opacity","top","pageYOffset","offsetHeight","left","pageXOffset","offsetWidth","width","ReactDOM","createPortal","placement","trigger","overlay","overlayClassName","mime","split","dataUriToBlob","bytes","atob","buffer","ArrayBuffer","array","Uint8Array","charCodeAt","Blob","blob","webkitSlice","srcToDataUri","url","callback","canvas","createElement","img","getContext","setTimeout","Error","onload","ctx","height","drawImage","dataUri","toDataURL","ononerror","setAttribute","loadImageFile","isDataUri","file","imageToDataUri","err","DropOrPasteImages","insertImage","extensions","applyTransform","matchExt","accepted","ext","asyncApplyChange","change","Promise","resolve","then","onChange","onInsert","range","getEventRange","files","select","onInsertFiles","html","firstChild","DOMParser","parseFromString","nodeName","extname","c","onInsertHtml","isImage","onInsertText","onDrop","insertImageFile","onImageUploadStart","onShowToast","onImageUploadStop","uploadImage","KeyUtils","placeholderSrc","URL","createObjectURL","loading","withoutSaving","catch","finally","VideoUrlInput","useState","defaultValue","val","setVal","useCallback","target","onClick","EmbedComponent","createRef","stopPropagation","renderView","isFocused","get","wrapperStyle","position","outline","maskStyle","display","cursor","zIndex","id","frameBorder","title","renderInput","marginTop","boxSizing","background","lineHeight","fontSize","color","isSelected","this","attributes","Component","componentClassName","Blockquote","OL","ToDoList","BulletedList","OrderedList","ToDoItem","ToDoItemContent","ToDoItemCheckbox","Paragraph","ParagraphPlaceHolder","Hr","H1","H2","H3","H4","H5","H6","DragContainer","DragHandler","Link","Code","theme","base","dark","Image","state","handleKeyDown","moveToRangeOfNode","moveToStartOfNextBlock","handleChange","toObject","caption","showCaption","contentEditable","border","placeholder","disabled","embed","undefined","rel","CheckListItem","setState","suppressContentEditableWarning","TodoItem","TodoList","Heading","depth","data-error","Heading1","Heading2","Heading3","Heading4","Heading5","Heading6","placeholderVisible","renderBlock","renderMark","renderInline","schema","blocks","heading1","heading2","heading3","heading4","heading5","heading6","image","link","normalize","child","min","paragraph","List","items","hiddenMenu","clickHandler","shortCut","iconItems","WrapperBlock","wrapper","useEffect","DemoWrapper2","setVisible","triggerRef","listItemMark","iconItem","padding","destroyTooltipOnHide","onVisibleChange","v","filter","Context","createContext","reducer","hoverKey","payload","dragKey","Container","useReducer","dispatch","Provider","DndProvider","backend","HTML5Backend","Card","nodeKey","moveCard","parentKey","hoverIndex","findIndex","moveNodeByKey","useDrag","collect","monitor","isDragging","dropEffect","begin","dropResult","drag","preview","hover","borderTopColor","borderBottomColor","borderExtra","th","throttle","CardHOC","useDrop","accept","drop","renderEditor","Consumer","Draggable","Array","isArray","plugins","HOC","MathCode","Table","Wrapper","SideIcon","MarkDownShortcuts","onEnterHandler","onBackspaceHandler","moveToEndOfNode","onEscape","OnKeyDown","insertFragment","initialValue","Value","fromJSON","initialValueAsJson","AnySlate","light","currentTheme","setTheme","Boolean","location","hostname","render","serviceWorker","ready","registration","unregister"],"mappings":"ipMAAA,IAAIA,EAAU,EAAQ,KAEC,kBAAZA,IACTA,EAAU,CAAC,CAACC,EAAOC,EAAIF,EAAS,MAGlC,IAAIG,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAEP,EAAQ,IAAR,CAAwFH,EAASG,GAE1GH,EAAQI,SACVH,EAAOI,QAAUL,EAAQI,S,qBCdjBH,EAAOI,QAAU,EAAQ,IAAR,EAAgE,IAEnFC,KAAK,CAACL,EAAOC,EAAI,ysWAA6nW,M,+KCFzoWK,EAAkB,CAC9B,CAAEC,KAAM,OAAQC,SAAU,KAAMC,IAAK,eACrC,CAAEF,KAAM,OAAQC,SAAU,KAAMC,IAAK,WACrC,CAAEF,KAAM,SAAUC,SAAU,IAAKC,IAAK,WACtC,CAAEF,KAAM,SAAUC,SAAU,IAAKC,IAAK,SACtC,CAAEF,KAAM,OAAQC,SAAU,IAAKC,IAAK,SACpC,CAAEF,KAAM,WAAYC,SAAU,KAAMC,IAAK,eACzC,CAAEF,KAAM,UAAWC,SAAU,KAAMC,IAAK,WACxC,CAAEC,KAAM,QAASC,KAAM,QAASF,IAAK,kBACrC,CAAEC,KAAM,OAAQC,KAAM,SAAUF,IAAK,mBAGzBG,EAAU,SAACC,GACvB,OAAQA,GACP,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,QACL,IAAK,QACJ,MAAO,YACR,IAAK,IACJ,MAAO,cACR,IAAK,IACJ,MAAO,WACR,IAAK,KACJ,MAAO,WACR,IAAK,MACJ,MAAO,WACR,IAAK,OACJ,MAAO,WACR,IAAK,QACJ,MAAO,WACR,IAAK,SACJ,MAAO,WACR,QACC,OAAO,OClCJC,EAAmB,SAACC,GACzB,MAAe,QAARA,GAEO,SAASC,EAAQC,EAAOC,EAAQC,GAAO,IAC7CC,EAAUF,EAAVE,MACAC,EAA0BD,EAA1BC,UAAWC,EAAeF,EAAfE,WAGnB,GAAID,EAAUE,WACb,OAAOJ,IAGR,IAAMN,EAAQS,EAAWE,KAAKC,MAAM,EAAGJ,EAAUK,MAAMC,QAAQC,OACzDjB,EAAOC,EAAQC,GAErB,GAAIF,EAAM,CAGT,IAAIA,EAAKkB,MAAM,YAAclB,EAAKkB,MAAM,gBACf,cAApBP,EAAWX,MAEdM,EAAMa,iBAEHR,EAAWX,KAAKkB,MAAM,aAAelB,EAAKkB,MAAM,YACnD,OAAOV,IAGT,GAAa,cAATR,EACH,OAAOO,EAAOa,iBAEf,GAAwB,cAApBT,EAAWX,KAAsB,OAAOO,EAAOc,uBAAuBV,GAAYW,SAASC,UAAUvB,GA2D1G,OAxDAO,EAAOiB,oBAAmB,SAACjB,GACbI,EAAWc,WACnBC,SAAQ,SAACC,GAAe,IAAD,uBAC3B,YAAkBhC,EAAlB,+CAAmC,CAAC,IAAzBiC,EAAwB,QAC5BhC,EAAoCgC,EAApChC,KAAMC,EAA8B+B,EAA9B/B,SAAUC,EAAoB8B,EAApB9B,IAAKE,EAAe4B,EAAf5B,KAAMD,EAAS6B,EAAT7B,KAC3Bc,EAAOc,EAAUd,KAEnBgB,EAAS/B,EAAIgC,KAAKjB,GACtB,GAAIgB,EAAQ,OAEE,CAAEA,EAAOE,MAAOF,EAAOE,MAAQF,EAAO,GAAGG,QAF3C,mBAGHjB,EAHG,KAGIkB,EAHJ,KAIX,GAAI9B,EAAiB0B,EAAO,IAC3B,MAED,GAAa,UAAT7B,GAA6B,UAATD,EAAkB,CACzCO,EAAMa,iBADmC,MAEhB,qBAAqBW,KAAKD,EAAO,IAFjB,mBAE/BK,EAF+B,KAExBC,EAFwB,KAGzC5B,EACE6B,gBAAgBT,EAAUC,IAAKb,EAAOc,EAAO,GAAGG,QAChDK,aACAd,UAAU,CACVvB,KAAM,QACNsC,KAAM,CAAEC,IAAKJ,EAAKK,IAAKN,KAEvBO,YAAY,GACd,MAED,GAAa,WAATzC,GAA8B,SAATD,EAAiB,CACzCO,EAAMa,iBADmC,MAEhB,qBAAqBW,KAAKD,EAAO,IAFjB,mBAE/BK,EAF+B,KAExBC,EAFwB,KAGzC5B,EACE6B,gBAAgBT,EAAUC,IAAKK,EAAME,EAAIH,OAAS,EAAGG,EAAIH,OAAS,GAClEI,gBAAgBT,EAAUC,IAAKb,EAAO,GACtC2B,YAAYf,EAAUC,IAAKb,GAC3B4B,UAAUhB,EAAUC,IAAKb,EAAQmB,EAAMF,QACvCY,WAAW,CACX5C,KAAM,OACNsC,KAAM,CAAEO,KAAMV,KAEdW,YACF,MAGDvC,EACE6B,gBAAgBT,EAAUC,IAAKK,EAAMpC,EAASmC,OAAQnC,EAASmC,QAC/DI,gBAAgBT,EAAUC,IAAKb,EAAOlB,EAASmC,QAC/Ce,aAAahC,EAAOkB,EAAMpC,EAASmC,QACnCgB,QAAQpD,GACRkD,YACAG,WAAWrD,GACb,QAjDyB,yFAsDtBY,IC1FO,SAAS0C,EAAOC,EAAI5C,EAAQC,GAAO,IACzCC,EAAUF,EAAVE,MACAE,EAA0BF,EAA1BE,WAAYD,EAAcD,EAAdC,UACpB,OAAIA,EAAUE,WAAmBJ,IAE7BG,EAAWX,KAAKkB,MAAM,WAAmBV,IAK/B,OAFAG,EAAWE,KAAKC,MAAM,EAAGJ,EAAUK,MAAMC,QAAQoC,QAAQ,OAAQ,KAG9ED,EAAGhC,iBACHZ,EACEc,uBAAuBV,GACvBW,SACAC,UAAU,mBACV8B,YAAY,aACZC,SACK,GAGD9C,ICrBO,SAAS+C,EAAWJ,EAAI5C,EAAQC,GAAO,IAC7CC,EAAUF,EAAVE,MACAE,EAA0BF,EAA1BE,WACR,OADkCF,EAAdC,UACNE,WAAmBJ,KAC7BG,EAAWX,KAAKkB,MAAM,WAAmBV,KCH/B,SAASgD,EAAMlD,EAAOC,EAAQC,GAAO,IAC3CG,EAAeJ,EAAOE,MAAtBE,WAER,GAAwB,cAApBA,EAAWX,KACd,OAAOQ,IAERF,EAAMa,iBACN,IAAMsC,EAAUlD,EAAOE,MAAMiD,SAASC,mBAAmBhD,EAAWiB,KAE9DgC,EAASrD,EAAOE,MAAMiD,SAASG,UAAUlD,EAAWiB,KAEpDf,EAAOF,EAAWE,KAExB,GADAN,EAAOuD,gBAAgBnD,EAAWiB,MAC7B6B,EACJ,OAAOjD,IAER,IAAMuD,EAAYN,EAAQO,MAAMC,OAEhC,GAAI,CAAE,eAAgB,gBAAiB,aAAcC,SAASH,EAAU/D,MAAO,CAC9E,IAAMmE,EAAaC,QAAMC,OAAO,CAC/BrE,KAAM,YACNsE,OAAQ,QACRhC,KAAM,GACN0B,MAAO,CAAE,CAAEM,OAAQ,OAAQzD,KAAMA,MAElCN,EAAOgE,gBAAgBR,EAAUnC,IAAKmC,EAAUC,MAAMQ,KAAML,GAAY1B,YAAY,OAC9E,CACN,IAAM0B,EAAaC,QAAMC,OAAO,CAC/BrE,KAAM4D,EAAO5D,KACbsE,OAAQ,QACRN,MAAO,CACN,CACChE,KAAM,YACNsE,OAAQ,QACRhC,KAAM,GACN0B,MAAO,CAAE,CAAEM,OAAQ,OAAQzD,KAAMA,QAIpCN,EAAOgE,gBAAgBd,EAAQ7B,IAAK6B,EAAQO,MAAMQ,KAAML,GAAY1B,YAAY,ICvClF,IAUe,GACdrB,eAAgB,SAACb,EAAQkE,EAAcC,GAAiB,IAC/C/D,EAAeJ,EAAOE,MAAtBE,WACJgE,EAAUF,GAbG,SAAC9D,GACnB,IAMMgE,EANO,CACZ,CAAE7E,IAAK,WAAYE,KAAM,WACzB,CAAEF,IAAK,mBAAoBE,KAAM,QACjC,CAAEF,IAAK,mBAAoBE,KAAM,YACjC,CAAEF,IAAK,QAASE,KAAM,aAEF4E,MAAK,SAACC,GAAD,OAAUA,EAAK/E,IAAIgF,KAAKnE,EAAWE,KAAO,QACpE,OAAO8D,GAAWA,EAAQ3E,KAKK+E,CAAWpE,GACzC,IAAKgE,EAEJ,OAAOpE,EAER,IAAMyE,EAA6C,cAApBrE,EAAWX,KACpCiF,EACO,YAAZN,EAAwB,eAA6B,aAAZA,EAAyB,gBAAkB,YAC/ErC,EAAoB,cAAb2C,EAA2B,CAAEC,QAAqB,aAAZP,GAA0C,GAC7F,GAAIK,EAAwB,CAC3B,GAAIN,EAAa,CAChB,IAAMd,EAASrD,EAAOE,MAAMiD,SAASyB,gBAAgB5E,EAAOE,MAAME,WAAWiB,KAAK,SAACtC,GAClF,MAAkB,kBAAXA,EAAEU,MAAuC,iBAAXV,EAAEU,MAAsC,cAAXV,EAAEU,QASrE,OAPAO,EAAOiB,oBAAmB,SAACjB,GAC1BA,EAAO6E,aAAaxB,EAAOhC,IAAK,CAAE5B,KAAMiF,IACxCrB,EAAOI,MAAMtC,SAAQ,SAAC2D,GAErB9E,EAAO6E,aAAaC,EAAKzD,IAAK,CAAE5B,KAAM,YAAasC,eAG9C/B,EAGR,IAAM+E,EAAWlB,QAAMC,OAAO,CAC7BrE,KAAM,YACNsE,OAAQ,QACRN,MAAO,CACN,CACChE,KAAMiF,EACNX,OAAQ,QACRN,MAAO,CACN,CACCM,OAAQ,QACRtE,KAAM,YACNsC,KAAMA,EACN0B,MAAO,CACN,CACCM,OAAQ,OACRzD,KAAM,WASbN,EAAOuD,gBAAgBnD,EAAWiB,KAClCrB,EAAO8C,YAAYiC,OACb,CACN,IAAML,EAAuB,YAAZN,EAAwB,eAAiB,gBAC1DpE,EAAOgF,UAAUN,GACjB1E,EAAOc,uBAAuBV,GAAYW,SAASC,UAAU,CAAEvB,KAAM,YAAasC,SAEnF,OAAO/B,GAERiF,gBAAiB,SAACjF,EAAQP,GAAU,IAC3BW,EAAeJ,EAAOE,MAAtBE,WACR,MAAa,OAATX,EACIO,EAAO+C,QAAQD,YAAY,aAAa9B,UAAU,mBAE7C,SAATvB,EACIO,EAAO+C,QAAQmC,kBAEnB,CAAE,UAAW,OAAQ,WAAY,YAAavB,SAASlE,GACnDO,EAAO+C,QAAQoC,kBAAkB/E,GAAYS,eAAepB,GAAM,IAE1EO,EAAO+C,QAAQR,YAAYvB,UAAUvB,GAC9BO,KC7EMoF,EANF,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAyB,WAAe,IAAD,uBACnD,YAAoCA,EAApC,+CAAsD,CAAC,IAAD,6BAAzCC,EAAyC,KAA9BC,EAA8B,KACrD,GAAID,EAAS,WAAT,aAAqB,OAAOC,EAAM,WAAN,cAFkB,qFCoErCC,EA5DW,WAAmB,IAAlBxG,EAAiB,uDAAP,GAC9ByG,EAASC,IAAS,KAClBC,EAAaD,IAAS,KACtBE,EAAUF,IAAS,KACnBG,EAAeH,IAAS,WACxBI,EAAQJ,IAAS,OACjBK,EAAeL,IAAS,SACxBM,EAAcN,IAAS,SACvBO,EAAcP,IAAS,SACvBQ,EAAcR,IAAS,SACvBS,EAAcT,IAAS,SACvBU,EAAcV,IAAS,SACvBW,EAAcX,IAAS,SACvBY,EAAiBZ,IAAS,eAE1Ba,EAAkBb,IAAS,SAC3Bc,EAAcd,IAAS,SACvBe,EAAgBf,IAAS,SACzBgB,EAAWhB,IAAS,SACpBiB,EAAajB,IAAS,SAC5B,MAAO,CACNkB,WACAC,UAFM,SAEIC,EAAG9G,EAAQC,GAAO,IAEnBG,EADUJ,EAAVE,MACAE,WACR,OAAKA,EACDA,EAAWX,KAAKkB,MAAM,QAAgBV,IAEnC8G,EACN,CAAEtB,EAAQzG,EAAQ2D,QAAUA,GAC5B,CAAEgD,EAAY3G,EAAQgE,YAAcA,GACpC,CAAE4C,EAAS5G,EAAQc,SAAWA,GAC9B,CAAE+F,EAAc7G,EAAQc,SAAWA,GACnC,CAAEgG,EAAO9G,EAAQiE,OAASA,GAE1B,CAAE8C,EAAc,kBAAM/F,EAAOiF,gBAAgB,cAAgB6B,EAAElG,mBAC/D,CAAEoF,EAAa,kBAAMhG,EAAOiF,gBAAgB,aAAe6B,EAAElG,mBAC7D,CAAEqF,EAAa,kBAAMjG,EAAOiF,gBAAgB,aAAe6B,EAAElG,mBAC7D,CAAEsF,EAAa,kBAAMlG,EAAOiF,gBAAgB,aAAe6B,EAAElG,mBAC7D,CAAEuF,EAAa,kBAAMnG,EAAOiF,gBAAgB,aAAe6B,EAAElG,mBAC7D,CAAEwF,EAAa,kBAAMpG,EAAOiF,gBAAgB,aAAe6B,EAAElG,mBAC7D,CAAEyF,EAAa,kBAAMrG,EAAOiF,gBAAgB,aAAe6B,EAAElG,mBAC7D,CAAE8F,EAAU,kBAAM1G,EAAOiF,gBAAgB,OAAS6B,EAAElG,mBACpD,CAAE0F,EAAgB,kBAAMtG,EAAOiF,gBAAgB,YAAc6B,EAAElG,mBAC/D,CAAE2F,EAAiB,kBAAMvG,EAAOiF,gBAAgB,aAAe6B,EAAElG,mBACjE,CAAE4F,EAAa,kBAAMxG,EAAOiF,gBAAgB,SAAW6B,EAAElG,mBACzD,CAAE6F,EAAe,kBAAMzG,EAAOiF,gBAAgB,gBAAkB6B,EAAElG,mBAClE,CACC+F,EACA,WACCG,EAAElG,mBAIJ,CAAE,kBAAM,GAAM,kBAAMX,MA1Bd8G,CA2BLD,EAAG9G,EAAQC,GA9BWA,OC/BrB+G,EAAa,SAAChH,EAAQP,EAAMQ,GACjCD,EAAO0C,WAAW,QAAQsE,WAAWvH,ICHzBwH,EAAiB,SAAC1B,GAAD,OAAY,SAACtF,GAAD,OAAU,WACnD,OAAOsF,KAAYtF,OAEPiH,EAAO,aACPC,EAAQ,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAmBA,EAAWC,aAAY,SAACC,EAAKhC,GAAN,OAAoBA,EAAUgC,KAAMJ,IAEtFK,EAAW,SAACxH,GAExB,MADgC,qBAAXyH,QAA0B,uBAAuBjD,KAAKiD,OAAOC,UAAUC,UAC7E3H,EAAM4H,QAAU5H,EAAM6H,SCRzBC,EAAsB,SAACzH,EAAD,GAAoC,IAArBJ,EAAoB,EAApBA,OAAQD,EAAY,EAAZA,MACxD,MAAwB,gBAApBK,EAAWX,OAGXW,EAAWE,KAAKwH,SAAS,OAC3B9H,EACG+H,kBAAkB,GAClBhH,SACAiH,YAAY,eACZlF,YAAY,cACR,GACsB,KAApB1C,EAAWE,MAIpBP,EAAMa,iBACNZ,EAAOiI,WAAW,OACX,QALPjI,EAAOgI,YAAY,eAAehH,UAAU,eCZnCkH,EAAmB,SAAC9H,EAAD,GAAoC,IAArBJ,EAAoB,EAApBA,OAAQD,EAAY,EAAZA,MACrD,QAAIK,EAAWX,KAAKkB,MAAM,cACxBZ,EAAMa,iBACNZ,EAAO8B,aAAad,UAAU,cACvB,ICCI,SAASmH,EAAQpI,EAAOC,EAAQC,GAAO,IAC7CC,EAAUF,EAAVE,MACAE,EAA0BF,EAA1BE,WAAYD,EAAcD,EAAdC,UACpB,GAAIA,EAAUE,WAAY,OAAOJ,IACjC,IAAKG,EAAY,OAAOH,IAExB,IAAMmI,EAAYjI,EAAUuB,IAAIjB,OAEhC,GAAwB,UAApBL,EAAWX,KAEd,OADAM,EAAMa,iBACCZ,EAAO8B,WAAW,IAAId,UAAU,CACtCvB,KAAM,YACNa,KAAM,GACN+H,QAAQ,IAIV,GAAIjI,EAAWX,KAAKkB,MAAM,YAEzB,OADAZ,EAAMa,iBACFwH,EAAY,EACRpI,EAAO8B,aAAad,UAAU,aAE9BhB,EAAO8B,aAAawG,6BAA6BtH,UAAU,aAGpE,GAAwB,cAApBZ,EAAWX,MAAoE,IAA5CW,EAAWE,KAAKuC,QAAQ,IAAK,IAAIpB,OAAxE,CAgCA,IALa0F,EACZF,GAAe,kBAAMY,EAAoBzH,EAAY,CAAEJ,SAAQD,aAC/DkH,GAAe,kBAAMiB,EAAiB9H,EAAY,CAAEJ,SAAQD,aAGzDqF,GAOJ,MAHA,CAAE,OAAQ,SAAU,UAAW,aAAc,OAAQ,YAAajE,SAAQ,SAAC9B,GAC1EW,EAAO0C,WAAWrD,MAEZY,QAvCP,CAEC,IAAMsI,EAAcvI,EAAOE,MAAMiD,SAASqF,WAAWpI,EAAWiB,KAAK,SAACtC,GACrE,MAAO,CAAE,gBAAiB,eAAgB,aAAc4E,SAAS5E,EAAEU,SAG9DmE,EAAaC,QAAMC,OAAO,CAC/BrE,KAAM,YACNsE,OAAQ,QACRN,MAAO,CAAE,CAAEM,OAAQ,OAAQzD,KAAM,OAG5BmI,EAAczI,EAAOE,MAAMiD,SAASqF,WAAWD,EAAYlH,KAAK,SAACtC,GAEtE,MAAO,CAAE,gBAAiB,eAAgB,aAAc4E,SAAS5E,EAAEU,SAGhEgJ,GACHzI,EAAOuD,gBAAgBnD,EAAWiB,KAClCrB,EAAOgE,gBAAgByE,EAAYpH,IAAKoH,EAAYhF,MAAMQ,KAAML,GAAY1B,YAAY,IAExFlC,EAAOgB,UAAU,aAAagH,YAAYO,EAAY9I,OCnD1C,SAASiJ,EAAY3I,EAAOC,EAAQC,GAAO,IAChDC,EAAUF,EAAVE,MACAC,EAAcD,EAAdC,UAER,GAAIA,EAAUE,YAAyC,IAA3BF,EAAUK,MAAMC,OAC1C,OAAOR,IAL8C,IAQ/CG,EAAeF,EAAfE,WACR,GAAwB,cAApBA,EAAWX,KACb,OAAOQ,IAUT,GAFAF,EAAMa,iBACNZ,EAAOgB,UAAU,aACO,cAApBZ,EAAWX,KAAsB,CAAC,IACtBkJ,EAAezI,EAAMiD,SAASG,UAAUlD,EAAWiB,KAAzD5B,KACRO,EAAOgI,YAAYW,I,aCpBjBC,EAAqB,I,OAAIC,G,aCCzBC,EAAa,CAClBC,EAAG,YACHC,GAAI,YACJC,GAAI,gBACJC,GAAI,eACJC,WAAY,QACZC,IAAK,OACLC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,WACJC,GAAI,YAGCC,EAAY,CACjBC,OAAQ,OACRC,GAAI,SACJC,EAAG,aACHC,EAAG,gBACHC,IAAK,UACL3K,KAAM,WACN4K,KAAM,QAGDC,EAAQ,CACb,CACCC,YADD,SACaC,EAAInK,GACf,IAAMoK,EAAQvB,EAAWsB,EAAGE,QAAQC,eAEpC,GAAIF,EACH,MAAO,CACNtG,OAAQ,QACRtE,KAAM4K,EACN5G,MAAOxD,EAAKmK,EAAGI,eAKnB,CACCL,YADD,SACaC,EAAInK,GACf,IAAMZ,EAAOsK,EAAUS,EAAGE,QAAQC,eAElC,GAAIlL,EACH,MAAO,CACN0E,OAAQ,OACRtE,KAAMJ,EACNoE,MAAOxD,EAAKmK,EAAGI,eAKnB,CAECL,YAFD,SAEaC,EAAInK,GACf,GAAiC,QAA7BmK,EAAGE,QAAQC,cAAyB,CACvC,IAAMN,EAAOG,EAAGI,WAAW,GAG3B,MAAO,CACNzG,OAAQ,QACRtE,KAAM,OACNgE,MAAOxD,EALWgK,GAAuC,SAA/BA,EAAKK,QAAQC,cAA2BN,EAAKO,WAAaJ,EAAGI,gBAU3F,CAECL,YAFD,SAEaC,EAAInK,GACf,GAAiC,QAA7BmK,EAAGE,QAAQC,cACd,MAAO,CACNxG,OAAQ,QACRtE,KAAM,QACNgE,MAAOxD,EAAKmK,EAAGI,YACfzI,KAAM,CACLC,IAAKoI,EAAGK,aAAa,OACrBxI,IAAKmI,EAAGK,aAAa,WAM1B,CAECN,YAFD,SAEaC,EAAInK,GACf,GAAiC,MAA7BmK,EAAGE,QAAQC,cACd,MAAO,CACNxG,OAAQ,SACRtE,KAAM,OACNgE,MAAOxD,EAAKmK,EAAGI,YACfzI,KAAM,CACLO,KAAM8H,EAAGK,aAAa,aAQtBC,EAAa,IAAIC,IAAK,CAAEC,MAAOV,I,iBCvG9B,SAASW,EAAS7K,EAAQsC,GAChCtC,EAAOqC,WAAW,CACjB5C,KAAM,OACNsC,KAAM,CAAEO,UAGTtC,EAAOuC,YAGD,SAASuI,EAAW9K,GAC1BA,EAAO+K,aAAa,QAGd,IAAMC,EAAa,SAAChL,GAE1B,OADkBA,EAAVE,MACK+K,QAAQC,MAAK,SAACC,GAAD,MAA4B,SAAhBA,EAAO1L,SCZ/B,SAAS2L,EAAQrL,EAAOC,EAAQC,GAC9C,GAAID,EAAOE,MAAMC,UAAUkL,YAAa,OAAOpL,IAE/C,IAAMqL,EAAWC,YAAiBxL,GAC1BN,EAAe6L,EAAf7L,KAAMa,EAASgL,EAAThL,KACd,MAAa,SAATb,GAA4B,SAATA,EAAwBQ,IAC1CuL,IAAMlL,IAEP0K,EAAWhL,IACdA,EAAOyL,QAAQX,QAGhB9K,EAAOyL,QAAQZ,EAAUvK,IANAL,ICN1B,IAAMyL,EAAS,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,SAAU3L,EAA6B,EAA7BA,OAAQ4L,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACzC,OACC,kBAAC,IAAMC,SAAP,KACEH,EACAC,GACAA,EAAKnK,QACLmK,EAAKG,KAAI,SAACC,GACT,OAAQH,GAAYG,EAAIhM,Q,gNCP7B,IAiBeiM,GAjBFC,IAAMC,YAAW,WAAqBC,GAAS,IAA3BC,EAA0B,EAA1BA,KAASC,EAAiB,wBAC1D,OACC,0CACKA,EADL,CAECF,IAAKA,EACLG,UAAWC,YACV,WACAH,EACAI,YAHa,Y,2UCHjB,IA4EeC,GA5EAR,IAAMC,YAAW,WAAoCC,GAAS,IAA1CpM,EAAyC,EAAzCA,OAAQP,EAAiC,EAAjCA,KAAM8M,EAA2B,EAA3BA,UAAWF,EAAgB,EAAhBA,KAErDM,EADY3M,EAAVE,MACa0M,YAAY1B,MAAK,SAAC7L,GAAD,OAAUA,EAAKI,OAASA,KAExDoN,EAAc,SAAC9M,EAAOC,GAC3BD,EAAMa,iBADgC,IAG9BV,EAAUF,EAAVE,MAGR,GAFiB8K,EAAWhL,GAG3BA,EAAOyL,QAAQX,QACT,GAAI5K,EAAMC,UAAUE,WAAY,CACtC,IAAMiC,EAAOkF,OAAOsF,OAAO,qCAE3B,GAAY,MAARxK,EACH,OAGDtC,EAAOyL,QAAQZ,EAAUvI,OACnB,CACN,IAAMA,EAAOkF,OAAOsF,OAAO,qCAE3B,GAAY,MAARxK,EACH,OAGD,IAAMhC,EAAOkH,OAAOsF,OAAO,uDAE3B,GAAY,MAARxM,EACH,OAGDN,EAAOiI,WAAW3H,GAAMyH,kBAAkBzH,EAAKmB,QAAQgK,QAAQZ,EAAUvI,KAG3E,OACC,0BACC8J,IAAKA,EACLG,UAAWC,YACVD,EACAE,YAFa,KAGEE,EAAS,OAAS,cACvBA,EAAS,OAAS,SAU7BI,YAAa,SAAChN,GAEb,OADAA,EAAMa,iBACEnB,GACP,IAAK,QACJ,MAAO,CAAE,OAAQ,SAAU,UAAW,aAAc,OAAQ,YAAa0B,SAAQ,SAAC9B,GACjFW,EAAO0C,WAAWrD,MAEpB,IAAK,OAGL,IAAK,SACJwN,EAAY9M,EAAOC,GACnB,MACD,QACCA,EAAOgH,WAAWvH,MAIrB,kBAAC,GAAD,CAAM4M,KAAMA,Q,4hCCpEf,IAkHeW,GAlHG,SAAC,GAAyB,IAAvBhN,EAAsB,EAAtBA,OACdoM,GADoC,EAAda,QAChBC,iBAAO,OACbC,EACL3F,OAAOrE,SAASiK,eAAe,SAAW5F,OAAOrE,SAASiK,eAAe,QAAU5F,OAAOrE,SAASkK,KAC9FC,EAAOlB,EAAImB,QACjB,GAAID,EAAM,CAAC,IACFpN,EAAUF,EAAVE,MACAsN,EAAwBtN,EAAxBsN,SAAUrN,EAAcD,EAAdC,UAClB,GAAIA,EAAUsN,WAAatN,EAAUkL,aAAiC,KAAlBmC,EAASlN,KAC5DgN,EAAKI,gBAAgB,aACf,CACN,IAEMC,EAFSnG,OAAOoG,eACDC,WAAW,GACbC,wBACnBR,EAAKS,MAAMC,QAAU,EACrBV,EAAKS,MAAME,IAAX,UAAoBN,EAAKM,IAAMzG,OAAO0G,YAAcZ,EAAKa,aAAzD,MACAb,EAAKS,MAAMK,KAAX,UAAqBT,EAAKS,KAAO5G,OAAO6G,YAAcf,EAAKgB,YAAc,EAAIX,EAAKY,MAAQ,EAA1F,OAIF,OAAOC,IAASC,aACf,wBACCrC,IAAKA,EACLG,UAAWE,YAAF,OA2BT,kBAAC,IAAD,CAASiC,UAAU,SAASC,QAAS,CAAE,SAAWC,QAAS,8CAAiBC,iBAAkB,SAC7F,4BACC,kBAAC,GAAD,CAAQ7O,OAAQA,EAAQP,KAAK,OAAO4M,KAAK,uBAG3C,kBAAC,IAAD,CAASqC,UAAU,SAASC,QAAS,CAAE,SAAWC,QAAS,+CAC1D,4BACC,kBAAC,GAAD,CAAQ5O,OAAQA,EAAQP,KAAK,SAAS4M,KAAK,yBAG7C,kBAAC,IAAD,CAASqC,UAAU,SAASC,QAAS,CAAE,SAAWC,QAAS,qDAC1D,4BACC,kBAAC,GAAD,CAAQ5O,OAAQA,EAAQP,KAAK,UAAU4M,KAAK,gCAG9C,kBAAC,IAAD,CAASqC,UAAU,SAASC,QAAS,CAAE,SAAWC,QAAS,qDAC1D,4BACC,kBAAC,GAAD,CAAQ5O,OAAQA,EAAQP,KAAK,aAAa4M,KAAK,4BAGjD,kBAAC,IAAD,CAASqC,UAAU,SAASC,QAAS,CAAE,SAAWC,QAAS,2DAC1D,4BACC,kBAAC,GAAD,CAAQ5O,OAAQA,EAAQP,KAAK,OAAO4M,KAAK,gBAG3C,4BACC,0BACCE,UAAWE,YAAF,OADV,MAeAzB,EAAWhL,GACX,kBAAC,IAAD,CAAS0O,UAAU,SAASC,QAAS,CAAE,SAAWC,QAAS,2DAC1D,4BACC,kBAAC,GAAD,CAAQ5O,OAAQA,EAAQP,KAAK,SAAS4M,KAAK,yBAI7C,kBAAC,IAAD,CAASqC,UAAU,SAASC,QAAS,CAAE,SAAWC,QAAS,qDAC1D,4BACC,kBAAC,GAAD,CAAQ5O,OAAQA,EAAQP,KAAK,OAAO4M,KAAK,uBAI5C,kBAAC,IAAD,CAASqC,UAAU,SAASC,QAAS,CAAE,SAAWC,QAAS,2DAC1D,4BACC,kBAAC,GAAD,CAAQ5O,OAAQA,EAAQP,KAAK,QAAQ4M,KAAK,yBAI7Cc,I,oDCjGF,SAAS2B,GAAKlN,GACb,OAAOA,EAAImN,MAAM,IAAI,GAAGxO,MAAM,GAOhByO,OA7Bf,SAAuBpN,GAMtB,IALA,IAAMG,EAAOH,EAAImN,MAAM,KAAK,GACtBE,EAAQC,KAAKnN,GACboN,EAAS,IAAI3H,OAAO4H,YAAYH,EAAMxN,QACxC4N,EAAQ,IAAI7H,OAAO8H,WAAWH,GAEzBpQ,EAAI,EAAGA,EAAIkQ,EAAMxN,OAAQ1C,IACjCsQ,EAAMtQ,GAAKkQ,EAAMM,WAAWxQ,GAmB4B,MAAlD,IAAIyQ,KAAK,CAAE,IAAIhI,OAAO8H,WAAW,OAAQrL,OAf/CoL,EAAQF,GAGT,IAAMM,EAAO,IAAID,KAAK,CAAEH,GAAS,CAAE5P,KAAMqP,GAAKlN,KAI9C,OAFA6N,EAAKlP,MAAQkP,EAAKlP,OAASkP,EAAKC,YAEzBD,GCOOE,OAzBf,SAAsBC,EAAKC,GAC1B,IAAMC,EAAStI,OAAOrE,SAAS4M,cAAc,UACvCC,EAAMxI,OAAOrE,SAAS4M,cAAc,OAE1C,IAAKD,EAAOG,WACX,OAAOC,WAAWL,EAAU,EAAG,IAAIM,MAAM,6BAG1CH,EAAII,OAAS,WACZ,IAAMC,EAAMP,EAAOG,WAAW,MAC9BH,EAAOvB,MAAQyB,EAAIzB,MACnBuB,EAAOQ,OAASN,EAAIM,OACpBD,EAAIE,UAAUP,EAAK,EAAG,GACtB,IAAMQ,EAAUV,EAAOW,UAAU,aACjCZ,EAAS,KAAMW,IAGhBR,EAAIU,UAAY,WACfb,EAAS,IAAIM,MAAM,2BAGpBH,EAAIW,aAAa,cAAe,aAChCX,EAAIhO,IAAM4N,GCJIgB,OAdf,SAAuBhB,EAAKC,GAC3B,GAAIgB,KAAUjB,GAAM,CACnB,IAAMkB,EAAO9B,GAAcY,GAC3BM,YAAW,WACVL,EAAS,KAAMiB,WAGhBC,GAAenB,GAAK,SAACoB,EAAKpP,GACzB,IAAMkP,EAAO9B,GAAcpN,GAC3BiO,EAASmB,EAAKF,OCsQFG,OAjQf,WAA0C,IAAfjS,EAAc,uDAAJ,GAC9BkS,EAA4BlS,EAA5BkS,YAAaC,EAAenS,EAAfmS,WAUnB,GARInS,EAAQoS,iBAKXF,EAAclS,EAAQoS,iBAGlBF,EACJ,MAAM,IAAIf,MAAM,8CAUjB,SAASkB,EAAS5R,GACjB,IAAI6R,GAAW,EADQ,uBAGvB,YAAkBH,EAAlB,+CAA8B,CAAC,IAApBI,EAAmB,QACzB9R,EAAKkE,SAAS4N,KAAMD,GAAW,IAJb,kFAOvB,OAAOA,EAWR,SAASE,EAAiBC,EAAQX,GAAO,IAChC9Q,EAAWyR,EAAXzR,OAER,OAAO0R,QAAQC,QAAQT,EAAYO,EAAQX,IAAOc,MAAK,WACtD5R,EAAO6R,SAASJ,MAalB,SAASK,EAAS/R,EAAO0R,EAAQxR,GAAO,IAC/BD,EAAWyR,EAAXzR,OACFsL,EAAWC,YAAiBxL,GAE5BgS,EAAQC,YAAcjS,EAAOC,GAEnC,OAAQsL,EAAS7L,MAChB,IAAK,QACJ,OAyBH,SAAuBM,EAAO0R,EAAQxR,EAAMqL,EAAUyG,GAAQ,IACrDE,EAAU3G,EAAV2G,MADoD,uBAG5D,YAAmBA,EAAnB,+CAA0B,CAAC,IAAhBnB,EAAe,QACzB,GAAIK,EAAY,CACf,IADe,EACFL,EAAKrR,KACKsP,MAAM,KAC7B,IAAKsC,EAHU,qBAGK,SAGjBU,GACHN,EAAOS,OAAOH,GAGfP,EAAiBC,EAAQX,IAdkC,mFAzBnDqB,CAAcpS,EAAO0R,EAAQxR,EAAMqL,EAAUyG,GACrD,IAAK,OACJ,OAoDH,SAAsBhS,EAAO0R,EAAQxR,EAAMqL,EAAUyG,GAAQ,IACpD/R,EAAWyR,EAAXzR,OACAoS,EAAS9G,EAAT8G,KAIFC,GAHS,IAAIC,WACAC,gBAAgBH,EAAM,aACxB/E,KACOgF,WACxB,GAA0C,QAAtCA,EAAWG,SAASjI,cAAyB,OAAOtK,IAExD,IAAM+B,EAAMqQ,EAAWrQ,IAEvB,GAAImP,EAAY,CAEf,IAAKE,EADOoB,mBAAQzQ,GAAKzB,MAAM,IACX,OAAON,IAG5B2Q,GAAc5O,GAAK,SAACgP,EAAKF,GACpBE,GAEJhR,EAAOyR,QAAO,SAACiB,GACVX,GACHW,EAAER,OAAOH,GAGVP,EAAiBkB,EAAG5B,SA5Eb6B,CAAa5S,EAAO0R,EAAQxR,EAAMqL,EAAUyG,GACpD,IAAK,OACJ,OA0FH,SAAsBhS,EAAO0R,EAAQxR,EAAMqL,EAAUyG,GAAQ,IACpD/R,EAAWyR,EAAXzR,OACAM,EAASgL,EAAThL,KACR,IAAKkL,IAAMlL,GAAO,OAAOL,IACzB,IAAK2S,KAAQtS,GAAO,OAAOL,IAE3B2Q,GAActQ,GAAM,SAAC0Q,EAAKF,GACrBE,GAEJhR,EAAOyR,QAAO,SAACiB,GACVX,GACHW,EAAER,OAAOH,GAGVP,EAAiBkB,EAAG1S,SAxGb6S,CAAa9S,EAAO0R,EAAQxR,EAAMqL,EAAUyG,GACpD,IAAK,WAEJ,OAAIzG,EAAShL,OAASgL,EAAShL,KAAKK,MAAM,UAAkBV,SACvD,EACN,QACC,OAAOA,KA6GV,MAAO,CACN6S,OAAQhB,EACR1G,QAAS0G,EACTlL,SAAU,CACTmM,gBAAiB,SAAC/S,EAAQ8Q,GAAU,IAAD,EAC6B9Q,EAAOsM,MAA9D0G,EAD0B,EAC1BA,mBAAoBC,EADM,EACNA,YAAaC,EADP,EACOA,kBACjCC,EAAgBnU,EAAhBmU,YAKJH,GAAoBA,IAExB,IAAI3R,EAAM+R,WAAStP,SAIbuP,EAAiBC,IAAIC,gBAAgBzC,GAErChM,EAAOjB,QAAMC,OAAO,CACzBzC,MACA5B,KAAM,QACN4I,QAAQ,EACRtG,KAAM,CAAEC,IAAKqR,EAAgBpR,IARlB,GAQuBuR,SAAS,KAG5CxT,EAAO8C,YAAYgC,GAAMhC,YAAY,aAAa+O,SAAS7R,GAK3DA,EAAOyT,eAAc,SAACzT,GAGrBmT,GACCA,EAAYrC,GACVc,MAAK,SAAC5P,GACN,IAAKA,EACJ,MAAM,IAAImO,MAAM,mDAIjB,IACCnQ,EAAO6E,aAAaxD,EAAK,CACxBU,KAAM,CAAEC,MAAKC,IA7BP,GA6BYuR,SAAS,KAE3B,MAAOxC,QAIT0C,OAAM,SAAC1C,GAMP,MAJAhR,EAAOuD,gBAAgBlC,GACnB4R,GACHA,EAAY,gDAEPjC,KAEN2C,SAAQ,WACJT,GAAmBA,c,6CCnQhB,SAASU,GAActH,GAAQ,IAAD,EACpBJ,IAAM2H,SAASvH,EAAMwH,cADD,mBACpCC,EADoC,KAC/BC,EAD+B,KAGtCnC,EAAW3F,IAAM+H,aACtB,SAACnN,GACAkN,EAAOlN,EAAEoN,OAAOhU,OAChBoM,EAAMuF,SAAS/K,EAAEoN,OAAOhU,SAEzB,CAAEoM,IAGH,OAAO,2BAAOpM,MAAO6T,EAAKlC,SAAUA,EAAUsC,QAAS7H,EAAM6H,QAASpG,MAAOzB,EAAMyB,Q,ICX/DqG,G,8MACpBhI,IAAMF,IAAMmI,Y,EACZxC,SAAW,SAACjC,GAAS,IAAD,EACM,EAAKtD,MAAtBxH,EADW,EACXA,KADW,EACL9E,OACP6E,aAAaC,EAAKzD,IAAK,CAAEU,KAAM,CAAE6N,U,EAGzCuE,QAAU,SAACrN,GACVA,EAAEwN,mB,EAcHC,WAAa,WAAO,IAAD,EACU,EAAKjI,MAAzBxH,EADU,EACVA,KAAM0P,EADI,EACJA,UACR5E,EAAM9K,EAAK/C,KAAK0S,IAAI,OAEpBC,EAAe,CACpBC,SAAU,WACVC,QAASJ,EAAY,iBAAmB,QAGnCK,EAAY,CACjBC,QAASN,EAAY,OAAS,QAC9BG,SAAU,WACV1G,IAAK,IACLG,KAAM,IACNkC,OAAQ,OACR/B,MAAO,OACPwG,OAAQ,OACRC,OAAQ,GAOT,OACC,yBAAKjH,MAAO2G,GACX,yBAAK3G,MAAO8G,IACZ,4BACCI,GAAG,WACHxV,KAAK,YACL8O,MAAM,MACN+B,OAAO,MACPtO,IAAK4N,EACLsF,YAAY,IACZnH,MAdiB,CACnB+G,QAAS,SAcPK,MAAM,c,EAMVC,YAAc,WAAO,IAEdxF,EADW,EAAKtD,MAAdxH,KACS/C,KAAK0S,IAAI,OAY1B,OAAO,kBAAC,GAAD,CAAUX,aAAclE,EAAKiC,SAAU,EAAKA,SAAUsC,QAAS,EAAKA,QAASpG,MAXtE,CACbsH,UAAW,MACXC,UAAW,aACX/G,MAAO,OACPgH,WAAY,OACZC,WAAY,OACZC,SAAU,SACVb,QAAS,OACTc,MAAO,W,0EA/DC,IACDC,EAAeC,KAAKtJ,MAApBqJ,WAER,OACC,yCAASC,KAAKtJ,MAAMuJ,WAApB,CAAgCzJ,IAAKwJ,KAAKxJ,MACxCwJ,KAAKrB,aACLoB,EAAaC,KAAKR,cAAgB,U,GAjBKlJ,IAAM4J,WCFrCC,GAAqB,CACjCC,WAAY,iBACZC,GAAI,gBACJC,SAAU,gBACVC,aAAc,oBACdC,YAAa,mBACbC,SAAU,gBACVC,gBAAiB,mBACjBC,iBAAkB,oBAClBxR,SAAU,SACVyR,UAAW,QACXC,qBAAsB,yBACtBC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,cAAe,qBACfC,YAAa,mBACbC,KAAM,WACNC,KAAM,YAGMC,GAAQ,CACpBC,KAAM,iBACNC,KAAM,kB,kYCvBP,IAyBeb,GAzBJxK,IAAMC,YAAW,SAACG,EAAOF,GAAS,IAAD,EACGE,EAAtCqJ,kBADmC,SACZE,EADY,YACGvJ,EADH,gBAE3C,OACC,uCACCF,IAAKA,GACDyJ,EAFL,CAGCtJ,UAAWC,YACVC,YADa,MAUbsJ,GAAmBW,GACnBjK,YAXa,KAYIkJ,EAAa,8BAAgC,sB,+tECiInD6B,G,8MA9IdC,MAAQ,CACPxK,SAAS,G,EAEVyK,cAAgB,SAAC5Q,GAChB,GAAc,UAAVA,EAAEzF,KAA6B,cAAVyF,EAAEzF,IAAqB,CAC/CyF,EAAElG,iBAD6C,MAEtB,EAAK0L,MAAtBtM,EAFuC,EAEvCA,OAAQ8E,EAF+B,EAE/BA,KAChB,OAAO9E,EAAO2X,kBAAkB7S,GAAM8S,yBAAyB7U,U,EAIjE8U,aAAe,SAAC/Q,GACfA,EAAEwN,kBACF,IAAMrS,EAAM6E,EAAEoN,OAAOhU,MAFA,EAGI,EAAKoM,MAAtBtM,EAHa,EAGbA,OAAQ8E,EAHK,EAGLA,KACV/C,EAAO+C,EAAK/C,KAAK+V,WACvB9X,EAAO6E,aAAaC,EAAKzD,IAAK,CAAEU,KAAK,GAAD,GAAOA,EAAP,CAAaE,W,0EAGxC,IAAD,EACuC2T,KAAKtJ,MAA5CxH,EADA,EACAA,KAAM6Q,EADN,EACMA,WAAY9J,EADlB,EACkBA,SAAU7L,EAD5B,EAC4BA,OAC9B+X,EAAUjT,EAAK/C,KAAK0S,IAAI,QAAU,GAClCzS,EAAM8C,EAAK/C,KAAK0S,IAAI,OACpBuD,GAAenM,GAAYkM,EAEjC,OACC,gBAAC,WAAD,KACC,uBACCE,iBAAiB,EACjB1L,UAAWE,YAAF,OAMT,uBACCF,UAAWE,YAAF,OAQT,uBACCwL,iBAAiB,EACjB1L,UAAWE,YAAF,MAITsB,MAAO,CACNmK,OAAQvC,EAAa,wCAA0C,yBAEhE3T,IAAKA,EACLC,IAAK8V,EACL5D,QAAS,SAACrN,GAET9G,EAAO2X,kBAAkB7S,MAG3B,uBACCyH,UAAWE,YAAF,MAQTwL,iBAAiB,GAEhBD,GACDrC,GACC,yBACCpJ,UAAWE,YAAF,MAoBThN,KAAK,OACL0Y,YAAY,qEACZtR,UAAW+O,KAAK8B,cAChB7F,SAAU+D,KAAKiC,aACf/D,aAAciE,EACdE,iBAAiB,EACjBG,SAAUvM,Y,GArGCK,aCLL,SAASiL,GAAK7K,GAAQ,IAC3BuJ,EAAiDvJ,EAAjDuJ,WAAY/Q,EAAqCwH,EAArCxH,KAAM6G,EAA+BW,EAA/BX,SAAU3L,EAAqBsM,EAArBtM,OAAQ6L,EAAaS,EAAbT,SACtCwM,EAAQvT,EAAK/C,KAAK0S,IAAI,SACtBqB,EAAYhR,EAAK/C,KAAK0S,IAAI,aAC1BnS,EAAOwC,EAAK/C,KAAK0S,IAAI,QAE3B,OAAI4D,GAASvC,EACJ,gBAACA,EAAcxJ,GAItB,qCACMuJ,EADN,CAEEtJ,UAAWwJ,GAAmBoB,KAC9B7U,KAAMuJ,EAAWvJ,OAAOgW,EACxBnE,QACEtI,EACI,SAAA/E,GACM9G,EAAOsM,MAAMO,cACf/F,EAAElG,iBACFZ,EAAOsM,MAAMO,YAAYvK,UAK7BgW,EAENpE,OAAO,SACPqE,IAAI,wBAEH5M,G,qOCuBQ6M,G,YAnDd,WAAYlM,GAAQ,IAAD,+BAClB,8CAAMA,KAKPuF,SAAW,SAAC9R,GACX,IAAM4E,EAAU5E,EAAMmU,OAAOvP,QADR,EAEI,EAAK2H,MAAtBtM,EAFa,EAEbA,OAAQ8E,EAFK,EAELA,KAChB9E,EAAO6E,aAAaC,EAAKzD,IAAK,CAAEU,KAAM,CAAE4C,aACxC5E,EAAMuU,kBACN,EAAKmE,SAAS,CACb9T,SAAU,EAAK8S,MAAM9S,WAVtB,EAAK8S,MAAQ,CACZ9S,QAAU,EAAK2H,MAAMxH,MAAQ,EAAKwH,MAAMxH,KAAK/C,MAAQ,EAAKuK,MAAMxH,KAAK/C,KAAK0S,IAAI,aAAe,GAH5E,E,wEAgBT,IAAD,EACmCmB,KAAKtJ,MAAxCuJ,EADA,EACAA,WAAYlK,EADZ,EACYA,SAAUE,EADtB,EACsBA,SACtBlH,EAAYiR,KAAK6B,MAAjB9S,QACR,OACC,wCAAQkR,EAAR,CAAoBtJ,UAAWwJ,GAAmBM,WACjD,0BAAM4B,iBAAiB,GACtB,2BACCxY,KAAK,WACLkF,QAASA,EACTkN,SAAU+D,KAAK/D,SACftF,UAAWC,YAAGuJ,GAAmBQ,qBAInC,0BACC0B,iBAAkBpM,EAClB6M,gCAA8B,EAC9BnM,UAAWC,YACVC,YADa,KAED9H,EAAU,KAAQ,EACVA,EAAU,eAAiB,QAK/CoR,GAAmBO,kBAGnB3K,Q,GA7CsBO,IAAM4J,WCenB/Q,GAfEmH,IAAMC,YAAW,WAA2CC,GAAS,IAAjDT,EAAgD,EAAhDA,SAAU7G,EAAsC,EAAtCA,KAAM+Q,EAAgC,EAAhCA,WAAevJ,EAAiB,gDAEpF,YAAgBgM,IADAxT,EAAK/C,KAAK0S,IAAI,WAG5B,kBAACkE,GAAD,eAAUvM,IAAKA,EAAKtH,KAAMA,EAAM+Q,WAAYA,GAAgBvJ,GAC1DX,GAKH,sCAAIS,IAAKA,GAASyJ,EAAlB,CAA8BtJ,UAAWwJ,GAAmBhR,WAC1D4G,MCLWiN,GARE1M,IAAMC,YAAW,SAACG,EAAOF,GACzC,OACC,wBAAIA,IAAKA,EAAKG,UAAWwJ,GAAmBG,UAC1C5J,EAAMX,aCFJkN,GAAU3M,IAAMC,YAAW,SAACG,EAAOF,GAAS,IACzCT,EAAuCW,EAAvCX,SADwC,EACDW,EAA7BwM,aAD8B,MACtB,EADsB,EAChBjD,EADgB,YACDvJ,EADC,sBAGhD,OAAQwM,GACP,KAAK,EACJ,OACC,sCAAI1M,IAAKA,GAASyJ,EAAlB,CAA8BtJ,UAAWwJ,GAAmBY,KAC1DhL,GAGJ,KAAK,EACJ,OACC,sCAAIS,IAAKA,GAASyJ,EAAlB,CAA8BtJ,UAAWwJ,GAAmBa,KAC1DjL,GAGJ,KAAK,EACJ,OACC,sCAAIS,IAAKA,GAASyJ,EAAlB,CAA8BtJ,UAAWwJ,GAAmBc,KAC1DlL,GAGJ,KAAK,EACJ,OACC,sCAAIS,IAAKA,GAASyJ,EAAlB,CAA8BtJ,UAAWwJ,GAAmBe,KAC1DnL,GAGJ,KAAK,EACJ,OACC,sCAAIS,IAAKA,GAASyJ,EAAlB,CAA8BtJ,UAAWwJ,GAAmBgB,KAC1DpL,GAGJ,KAAK,EACJ,OACC,sCAAIS,IAAKA,GAASyJ,EAAlB,CAA8BtJ,UAAWwJ,GAAmBiB,KAC1DrL,GAGJ,QACC,OACC,qCAAGS,IAAKA,GAASyJ,EAAjB,CAA6BkD,aAAW,8BACtCpN,OAQOqN,GAAW9M,IAAMC,YAAW,SAACG,EAAOF,GAChD,OAAO,kBAACyM,GAAD,eAASzM,IAAKA,GAASE,EAAvB,CAA8BwM,MAAO,QAGhCG,GAAW/M,IAAMC,YAAW,SAACG,EAAOF,GAChD,OAAO,kBAACyM,GAAD,eAASzM,IAAKA,GAASE,EAAvB,CAA8BwM,MAAO,QAEhCI,GAAWhN,IAAMC,YAAW,SAACG,EAAOF,GAChD,OAAO,kBAACyM,GAAD,eAASzM,IAAKA,GAASE,EAAvB,CAA8BwM,MAAO,QAEhCK,GAAWjN,IAAMC,YAAW,SAACG,EAAOF,GAChD,OAAO,kBAACyM,GAAD,eAASzM,IAAKA,GAASE,EAAvB,CAA8BwM,MAAO,QAEhCM,GAAWlN,IAAMC,YAAW,SAACG,EAAOF,GAChD,OAAO,kBAACyM,GAAD,eAASzM,IAAKA,GAASE,EAAvB,CAA8BwM,MAAO,QAEhCO,GAAWnN,IAAMC,YAAW,SAACG,EAAOF,GAChD,OAAO,kBAACyM,GAAD,eAASzM,IAAKA,GAASE,EAAvB,CAA8BwM,MAAO,QCxD9BtC,GAXGtK,IAAMC,YAAW,WAAkDC,GAAS,IAAxDT,EAAuD,EAAvDA,SAAU2N,EAA6C,EAA7CA,mBAAuBzD,EAAsB,iDAC5F,OACC,uCACCzJ,IAAKA,GACDyJ,EAFL,CAGCtJ,UAAWC,YAAG8M,EAAqBvD,GAAmBU,qBAAuBV,GAAmBS,aAE/F7K,MCDW,SAAS4N,GAAYjN,EAAOtM,EAAQC,GAAO,IACjD4V,EAAevJ,EAAfuJ,WAKR,OAHevJ,EAAMxH,KAAK/C,KAAK0S,IAAI,YACvBoB,EAAW9H,MAAQ,CAAE+G,QAAS,SAElCxI,EAAMxH,KAAKrF,MAClB,IAAK,YAAL,IACS+U,EAAclI,EAAdkI,UACAnU,EAAeL,EAAOE,MAAMC,UAA5BE,WAER,OACC,kBAAC,GAAD,iBAAewV,EAAf,CAA2ByD,mBAAoB9E,IAAcnU,IAC3DiM,EAAMX,UAGV,IAAK,cACJ,OACC,8CAAYY,UAAWwJ,GAAmBC,YAAgBH,GACxDvJ,EAAMX,UAGV,IAAK,gBACJ,OACC,sCAAIY,UAAWwJ,GAAmBI,cAAkBN,GAClDvJ,EAAMX,UAGV,IAAK,eACJ,OACC,sCAAIY,UAAWwJ,GAAmBK,aAAiBP,GACjDvJ,EAAMX,UAGV,IAAK,YACJ,OAAO,kBAAC,GAAakK,EAAavJ,EAAMX,UACzC,IAAK,YACJ,OAAO,kBAAC,GAAaW,GACtB,IAAK,kBACJ,OAAO,kBAAC,GAAD,iBAAQuJ,EAAR,CAAoBF,WAAYrJ,EAAMqJ,cAC9C,IAAK,QACJ,OAAO,kBAAC,GAAD,iBAAWE,EAAX,CAAuBF,WAAYrJ,EAAMqJ,YAAgBrJ,IACjE,IAAK,OACJ,OAAO,kBAAC6K,GAAS7K,GAClB,IAAK,WACJ,OAAO,kBAAC0M,GAAanD,EAAavJ,EAAMX,UACzC,IAAK,WACJ,OAAO,kBAACsN,GAAapD,EAAavJ,EAAMX,UACzC,IAAK,WACJ,OAAO,kBAACuN,GAAarD,EAAavJ,EAAMX,UACzC,IAAK,WACJ,OAAO,kBAACwN,GAAatD,EAAavJ,EAAMX,UACzC,IAAK,WACJ,OAAO,kBAACyN,GAAavD,EAAavJ,EAAMX,UACzC,IAAK,WACJ,OAAO,kBAAC0N,GAAaxD,EAAavJ,EAAMX,UACzC,QACC,OAAO1L,KChEK,SAASuZ,GAAWlN,EAAOtM,EAAQC,GACjD,OAAQqM,EAAMjN,KAAKI,MAClB,IAAK,OACJ,OAAO,gCAAS6M,EAAMX,UACvB,IAAK,OACJ,OAAO,0BAAMY,UAAWwJ,GAAmBqB,MAAO9K,EAAMX,UACzD,IAAK,SACJ,OAAO,4BAAKW,EAAMX,UACnB,IAAK,aACJ,OAAO,2BAAIW,EAAMX,UAClB,IAAK,UACJ,OAAO,6BAAMW,EAAMX,UACpB,IAAK,WACJ,OAAO,8BAAOW,EAAMX,UACrB,QACC,OAAO1L,KCfK,SAASwZ,GAAanN,EAAOtM,EAAQC,GAAO,IAClD4V,EAA+BvJ,EAA/BuJ,WAAYlK,EAAmBW,EAAnBX,SAAU7G,EAASwH,EAATxH,KAE9B,OAAQA,EAAKrF,MACZ,IAAK,OAAS,IAEP6C,EADWwC,EAAT/C,KACU0S,IAAI,QACtB,OACC,qCAAGlI,UAAWwJ,GAAmBoB,MAAUtB,EAA3C,CAAuDvT,KAAMA,IAC3DqJ,GAIJ,QACC,OAAO1L,KChBV,IAqIeyZ,GArIA,CACdC,OAAQ,CACPC,SAAU,CACTnW,MAAO,CAAE,CAAE9C,MAAO,CAAEoD,OAAQ,WAE7B8V,SAAU,CACTpW,MAAO,CAAE,CAAE9C,MAAO,CAAEoD,OAAQ,WAE7B+V,SAAU,CACTrW,MAAO,CAAE,CAAE9C,MAAO,CAAEoD,OAAQ,WAE7BgW,SAAU,CACTtW,MAAO,CAAE,CAAE9C,MAAO,CAAEoD,OAAQ,WAE7BiW,SAAU,CACTvW,MAAO,CAAE,CAAE9C,MAAO,CAAEoD,OAAQ,WAE7BkW,SAAU,CACTxW,MAAO,CAAE,CAAE9C,MAAO,CAAEoD,OAAQ,WAG7B,kBAAmB,CAClBsE,QAAQ,GAET6R,MAAO,CACN7R,QAAQ,GAET8R,KAAM,CACL1W,MAAO,CAAE,CAAE9C,MAAO,CAAEoD,OAAQ,WAE7B,gBAAiB,CAChBsE,QAAQ,GAET,gBAAiB,CAChB+R,UADgB,SACNpa,EADM,GACyB,EAArBiK,KAAqB,EAAfnF,KAAe,EAATuV,QAOjC,eAAgB,CACfD,UADe,SACLpa,EADK,GAC0B,EAArBiK,KAAqB,EAAfnF,KAAe,EAATuV,QAOjC,YAAa,CACZD,UADY,SACFpa,EADE,GAC6B,EAArBiK,KAAqB,EAAfnF,KAAe,EAATuV,QAOjC,YAAa,CACZhX,OAAQ,CAAE,CAAE5D,KAAM,iBAAmB,CAAEA,KAAM,gBAAkB,CAAEA,KAAM,cACvEgE,MAAO,CACN,CACC9C,MAAO,CACN,CAAEoD,OAAQ,QACV,CAAEtE,KAAM,SAER,CAAEA,KAAM,aACR,CAAEA,KAAM,iBACR,CAAEA,KAAM,gBACR,CAAEA,KAAM,gBAIX2a,UAfY,SAeFpa,EAfE,GAe8B,IAAtBiK,EAAqB,EAArBA,KAAqB,EAAfnF,KAAe,EAATuV,MAE/B,GAAa,4BAATpQ,EAEH,OAAOjK,KAKXmD,SAAU,CACTM,MAAO,CACN,CACC9C,MAAO,CACN,CAAElB,KAAM,aACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,eACR,CAAEA,KAAM,mBACR,CAAEA,KAAM,SACR,CAAEA,KAAM,iBACR,CAAEA,KAAM,gBACR,CAAEA,KAAM,aACR,CAAEA,KAAM,iBACR,CAAEA,KAAM,SACR,CAAEA,KAAM,QACR,CAAEA,KAAM,QACR,CAAEA,KAAM,SAET6a,IAAK,IAGP5W,KAAM,CACL,CAAEjE,KAAM,aACR,CAAEA,KAAM,aACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,YACR,CAAEA,KAAM,aAET2a,UArCS,SAqCCpa,EArCD,GAqCiC,IAAtBiK,EAAqB,EAArBA,KAAMnF,EAAe,EAAfA,KAAMuV,EAAS,EAATA,MAE/B,GAAa,4BAATpQ,EAAoC,CACvC,IAAMsQ,EAAY1W,QAAMC,OAAO,aAM/B,OALA9D,EAAOgE,gBAAgBc,EAAKzD,IAAKyD,EAAKrB,MAAMQ,KAAMsW,GACb,KAAjCva,EAAOE,MAAME,WAAWE,MACvB,CAAE,gBAAiB,eAAgB,aAAcqD,SAAS0W,EAAM5a,OACnEO,EAAOe,SAASwC,gBAAgB8W,EAAMhZ,KAEjCrB,M,kBC9FIwa,GA/BF,SAAClO,GAAW,IAChBmO,EAAoCnO,EAApCmO,MAAOza,EAA6BsM,EAA7BtM,OAAQ8E,EAAqBwH,EAArBxH,KAAM4V,EAAepO,EAAfoO,WAc7B,OACC,wBAAInO,UAAU,eACZkO,EAAM1O,KAAI,SAACzH,EAAM9C,GACjB,OACC,wBAAIH,IAAKG,EAAO+K,UAAU,cAAc4H,QAAS,kBAjBhC,SAAC7P,GAGrB,OADAoW,IACmB,SAAfpW,EAAK+F,MACDrK,EAAO+C,QAAQmC,kBAEnB,CAAE,UAAW,OAAQ,WAAY,YAAavB,SAASW,EAAK+F,OAExDrK,EAAO+C,QAAQoC,kBAAkBL,GAAMjE,eAAeyD,EAAK+F,OAAO,QAG1ErK,EAAO+C,QAAQR,YAAYvB,UAAUsD,EAAK+F,OAMgBsQ,CAAarW,KACnE,0BAAMiI,UAAU,oBACf,0BAAMA,UAAWC,YAAG,mBAAoB,WAAYlI,EAAK+H,QAD1D,IACqE/H,EAAKhE,MAE1E,0BAAMiM,UAAU,aAAajI,EAAKsW,gBCrBlCC,GAAY,CACjB,CAAEva,KAAM,2BAAQ+L,KAAM,qBAAsBhC,MAAO,WAAYuQ,SAAU,YACzE,CAAEta,KAAM,2BAAQ+L,KAAM,qBAAsBhC,MAAO,WAAYuQ,SAAU,YACzE,CAAEta,KAAM,2BAAQ+L,KAAM,qBAAsBhC,MAAO,WAAYuQ,SAAU,YACzE,CAAEta,KAAM,2BAAQ+L,KAAM,qBAAsBhC,MAAO,WAAYuQ,SAAU,YACzE,CAAEta,KAAM,2BAAQ+L,KAAM,qBAAsBhC,MAAO,WAAYuQ,SAAU,YACzE,CAAEta,KAAM,2BAAQ+L,KAAM,qBAAsBhC,MAAO,WAAYuQ,SAAU,YACzE,CAAEta,KAAM,eAAM+L,KAAM,iBAAkBhC,MAAO,YAAauQ,SAAU,YACpE,CAAEta,KAAM,2BAAQ+L,KAAM,uBAAwBhC,MAAO,cAAeuQ,SAAU,YAC9E,CAAEta,KAAM,2BAAQ+L,KAAM,2BAA4BhC,MAAO,UAAWuQ,SAAU,kBAC9E,CAAEta,KAAM,2BAAQ+L,KAAM,4BAA6BhC,MAAO,WAAYuQ,SAAU,YAChF,CAAEta,KAAM,2BAAQ+L,KAAM,kBAAmBhC,MAAO,OAAQuQ,SAAU,kBAClE,CAAEta,KAAM,eAAM+L,KAAM,eAAgBhC,MAAO,OAAQuQ,SAAU,KAExDE,GAAe,SAAC,GAAoC,IAAlC7N,EAAiC,EAAjCA,QAAS8N,EAAwB,EAAxBA,QAASpP,EAAe,EAAfA,SAOzC,OANAqP,qBAAU,WAET,OAAO,eAGL,IAEF,yBAAKjN,MAAO,CAAE4G,SAAU,aACtB1H,GAAW8N,EACXpP,IAKEsP,GAAe,SAAC,GAAsB,IAApBjb,EAAmB,EAAnBA,OAAQ8E,EAAW,EAAXA,KAAW,EACV+O,oBAAS,GADC,mBAClC5G,EADkC,KACzBiO,EADyB,KAEpCC,EAAajO,iBAAO,MACtBkO,GAAe,EAKfC,EAAWR,GAAUxW,MAAK,SAACtF,GAAD,OAAOA,EAAEsL,QAAUvF,EAAKrF,QACtD,IAAK4b,EACJ,OAAQvW,EAAKrF,MACZ,IAAK,YACJ4b,EAAW,CAAEhP,KAAM,mBACnB+O,GAAe,EACf,MACD,IAAK,eACJC,EAAW,CAAEhP,KAAM,4BACnB+O,GAAe,EACf,MACD,IAAK,gBACJC,EAAW,CAAEhP,KAAM,6BACnB+O,GAAe,EAKlB,OACC,yBACCnD,iBAAiB,EACjBlK,MAAO,CACN4G,SAAU,WACVvG,KAAM,QACNH,IAAK,OACLwH,SAAU,OACV6F,QAAS,MACTvG,OAAQ,WAETZ,QAjCkB,SAACrN,GACpBA,EAAEwN,kBACFxN,EAAElG,kBAgCDwL,IAAK+O,GAEL,kBAAC,IAAD,CACClO,QAASA,EAETyB,UAAU,WACV6M,sBAAsB,EACtBC,gBAAiB,SAACC,GAAD,OAAOP,EAAWO,IACnC9M,QAAQ,QACRC,QACC,kBAAC,GAAD,CACC5O,OAAQA,EACR8E,KAAMA,EACN4V,WAAY,kBAAMQ,GAAW,IAC7BT,MACCW,EACCP,GAAUa,QAAO,SAAC3c,GAAD,MAAO,CAAE,UAAW,YAAa4E,SAAS5E,EAAEsL,UAE7DwQ,MAMJ,0BACCtO,UAAWC,YAAG,WAAa6O,GAAYA,EAAShP,MAAS,IACzD0B,MAAO,CAAE0H,SAAU,SAAUC,MAAO,a,oBChG1BiG,GADQzP,IAAM0P,cAAc,I,8kBCG3C,IAAMC,GAAU,SAACpE,EAAOlS,GACvB,OAAQA,EAAO9F,MACd,IAAK,WAEJ,OAAO,MAAKgY,EAAZ,CAAmBqE,SAAUvW,EAAOwW,UACrC,IAAK,aACJ,OAAO,MAAKtE,EAAZ,CAAmBuE,QAASzW,EAAOwW,UACpC,IAAK,QACJ,MAAO,CAAED,SAAU,KAAME,QAAS,MACnC,QAEC,OAAO,MAAKvE,KAoBAwE,GAjBG,SAAC3P,GAAW,IAAD,EACA4P,qBAAWL,GAAS,CAAEC,SAAU,KAAME,QAAS,OAD/C,mBACpBvE,EADoB,KACb0E,EADa,KAQ5B,OANAnB,qBAAU,WAET,OAAO,eAGL,IAEF,yBAAKzO,UAAU,aACd,kBAAC,GAAQ6P,SAAT,CAAkBlc,MAAO,CAAEuX,QAAO0E,aACjC,kBAACE,GAAA,EAAD,CAAaC,QAASC,MAAejQ,EAAMX,a,kmBCxB/C,IAqEe6Q,GArEF,SAAC,GAA+D,IAA7DvH,EAA4D,EAA5DA,GAAItJ,EAAwD,EAAxDA,SAAUwQ,EAA8C,EAA9CA,SAAU3a,EAAoC,EAApCA,MAAOib,EAA6B,EAA7BA,QAASzc,EAAoB,EAApBA,OAAQyX,EAAY,EAAZA,MACvDqE,EAAsBrE,EAAtBqE,SAAUE,EAAYvE,EAAZuE,QACZU,EAAWzI,uBAChB,SAAC+H,EAASF,GACT,IAAMa,EAAY3c,EAAOE,MAAMiD,SAAS9B,IACxC,GAAI2a,IAAYF,EAAhB,CACA,IAAMc,EAAa5c,EAAOE,MAAMiD,SAASM,MAAMoZ,WAAU,SAAC9d,GAAD,OAAOA,EAAEsC,MAAQya,EAAW,MACrF,OAAO9b,EAAO8c,cAAcd,EAASW,EAAWC,MAEjD,CAAE5c,IATwE,EAWjC+c,aAAQ,CACjDzY,KAAM,CAAE7E,KAAM,OAAQwV,KAAIzT,QAAOib,WACjCO,QAAS,SAACC,GAAD,MAAc,CACtBC,WAAYD,EAAQC,eAErBle,QAAS,CACRme,WAAY,QAEbC,MAAO,SAAC9Y,GACP6X,EAAS,CACR1c,KAAM,aACNsc,QAASU,KAGX/a,IAAK,SAAC2b,EAAYJ,GACjB,GAAII,EAAY,CAAC,IACCrB,EAAYqB,EAArBZ,QACRC,EAASV,EAASF,GAClB5L,YAAW,WACViM,EAAS,CACR1c,KAAM,YAEL,QAjCqE,mBAWjEyd,EAXiE,KAWjEA,WAAcI,EAXmD,KAW7CC,EAX6C,KAqCrEvP,EAAUkP,EAAa,EAAI,EAajC,OACC,yBACC9Q,IAAKmR,EACLxP,MAAK,IACJC,UACAkK,OAAQ4D,IAAaW,EAAU,oCAAsC,yBAjBpD,SAACa,EAAME,GAC1B,OAAIA,IAAUf,EACN,GAEUzc,EAAOE,MAAMiD,SAASM,MAAMoZ,WAAU,SAAC9d,GAAD,OAAOA,EAAEsC,MAAQic,EAAO,MAC7Dtd,EAAOE,MAAMiD,SAASM,MAAMoZ,WAAU,SAAC9d,GAAD,OAAOA,EAAEsC,MAAQmc,EAAQ,MAE1E,CAAEC,eAAgB,SAElB,CAAEC,kBAAmB,SASxBC,CAAY3B,EAASF,IAEzBvP,UAAWwJ,GAAmBkB,eAE9B,0BACC7K,IAAKkR,EACL/Q,UAAWC,YAAG,WAAY,YAAauJ,GAAmBmB,aAC1De,iBAAiB,IAEjBtM,I,uIChEJ,IAAMiS,G,OAAKC,IAAS,SAACvZ,EAAM2Y,EAASnY,EAAMqX,GAErB7X,EAAZmY,UACQ3X,EAAKzD,KACpB8a,EAAS,CACR1c,KAAM,WACNsc,QAASjX,EAAKzD,QAGd,IAoCYyc,GAlCC,SAAC,GAA2D,IAAzDhZ,EAAwD,EAAxDA,KAAM9E,EAAkD,EAAlDA,OAAQyX,EAA0C,EAA1CA,MAAO0E,EAAmC,EAAnCA,SAAUxQ,EAAyB,EAAzBA,SAAaW,EAAY,iEACvDyR,aAAQ,CAC1BC,OAAQ,OACRR,MAAO,SAAClZ,EAAM2Y,GACbW,GAAGtZ,EAAM2Y,EAASnY,EAAMqX,IAEzB8B,KAAM,SAACZ,EAAYJ,OALVgB,EADgE,oBAU1E,OACC,kBAAC,GAAD,iBACK3R,EADL,CAECjL,IAAKyD,EAAKzD,IACVG,MAAOsD,EAAKzD,IACZob,QAAS3X,EAAKzD,IACdrB,OAAQA,EACRiV,GAAInQ,EAAKzD,IACToW,MAAOA,EACP0E,SAAUA,IAEV,4BACC5P,UAAWC,YAAGC,YAAA,OAIdL,IAAK6R,GAEJtS,KC1BU,ICfS,WAAkB,wDACzC,MAAO,CACNuS,aAAc,SAAC5R,EAAOtM,EAAQC,GAC7B,OACC,kBAAC,GAAD,iBAAeqM,EAAf,CAAsBtM,OAAQA,IAC5BC,MAIJsZ,YAAa,SAACjN,EAAOtM,EAAQC,GAAU,IAC9B6E,EAASwH,EAATxH,KACA3B,EAAanD,EAAOE,MAApBiD,SACFwI,EAAW1L,IACjB,OAAIkD,EAASM,MAAME,SAASmB,GAE1B,kBAAC,GAAQqZ,SAAT,MACE,gBAAG1G,EAAH,EAAGA,MAAO0E,EAAV,EAAUA,SAAV,OACA,kBAAC,GAAD,CACC9a,IAAK,OAASiL,EAAMxH,KAAKzD,IACzByD,KAAMwH,EAAMxH,KACZ2S,MAAOA,EACP0E,SAAUA,EACVnc,OAAQA,GAEP2L,MAKQ,kBAAC,IAAMG,SAAP,KAAiBH,KDbjCyS,G7BHc,WAAmB,IAAlBpf,EAAiB,uDAAP,GACzB,OAAIqf,MAAMC,QAAQtf,EAAQuf,SAClB,CACNL,aAAc,SAAC5R,EAAOtM,EAAQC,GAC7B,IAAM0L,EAAW1L,IACjB,OACC,kBAAC,EAAD,CAAQD,OAAQA,EAAQ6L,SAAUS,EAAMT,SAAUD,KAAM5M,EAAQuf,SAC9D5S,IAIJP,WAGM,CACN8S,aAAc,SAAC5R,EAAOtM,EAAQC,GAC7B,IAAM0L,EAAW1L,IACjB,OAAO,kBAAC,IAAM6L,SAAP,KAAiBH,IAEzBP,W6BfFoT,CAAI,CAAED,QAAS,CAAEvR,MACjByR,cACArH,cACAsH,cLqFc,WAAmB,IAAlB1f,EAAiB,uDAAP,GAAO,EACGA,EAA3B2f,eADwB,MACd1D,GADc,EAEhC,MAAO,CACN1B,YAAa,SAACjN,EAAOtM,EAAQC,GAC5B,IAAM0L,EAAW1L,IACT6E,EAAqBwH,EAArBxH,KAAM6Q,EAAerJ,EAAfqJ,WACNtV,EAAeL,EAAOE,MAAMC,UAA5BE,WACA8C,EAAanD,EAAOE,MAApBiD,SAER,MAAa,cADI2B,EAATrF,MACoB0D,EAASM,MAAME,SAASmB,GAElD,kBAAC,GAAD,CAAcmI,QAAS0I,IAAetV,EAAY0a,QAAS,kBAAC4D,EAAD,CAAS7Z,KAAMA,EAAM9E,OAAQA,KACtF2L,GAGG,kBAAC,IAAMG,SAAP,KAAiBH,KKnG1BiT,GACAC,IvCpBqB,CACrBhY,UADqB,SACXC,EAAG9G,EAAQC,GACpB,GyCDsBF,EzCCR+G,IyCCM,qBAAXU,QACP,uBAAuBjD,KAAKiD,OAAOC,UAAUC,UAChC3H,EAAM4H,QAAU5H,EAAM6H,SzCHnB,OAAO3H,IyCDH,IAAAF,EzCEtB,OAAQ+G,EAAEzF,KACT,IAAK,IAEJ,OADAyF,EAAElG,iBACKoG,EAAWhH,EAAQ,QAC3B,IAAK,IAEJ,OADA8G,EAAElG,iBACKoG,EAAWhH,EAAQ,UAC3B,IAAK,IAEJ,OADA8G,EAAElG,iBACKoG,EAAWhH,EAAQ,cAC3B,IAAK,IAEJ,OADA8G,EAAElG,iBACKoG,EAAWhH,EAAQ,WAC3B,IAAK,IAEJ,OADA8G,EAAElG,iBACKZ,EAAO6K,SAAS,IACxB,QACC,OAAO5K,O0CpBI,WAAyC,IAAfjB,EAAc,uDAAJ,GAC5CmJ,EAAUnJ,EAAQmJ,SAAW2W,EAC7BpW,EAAc1J,EAAQ0J,aAAeqW,EAE3C,MAAO,CACNlY,UADM,SACIC,EAAG9G,EAAQC,GAOpB,GAL0C,IAAtCD,EAAOE,MAAMiD,SAAS7C,KAAKmB,QAC9B,CAAE,OAAQ,SAAU,UAAW,aAAc,OAAQ,YAAaN,SAAQ,SAAC9B,GAC1EW,EAAO0C,WAAWrD,MAGhBkI,EAAST,GAAI,OAAO7G,IAExB,OAAQ6G,EAAEzF,KACT,IAAK,SACJ,OCtBU,SAAkBtB,EAAOC,EAAQC,GAAO,IAC9CC,EAAUF,EAAVE,MACAE,EAA0BF,EAA1BE,WACR,OADkCF,EAAdC,UACNE,WAAmBJ,IAC5BG,GAELJ,EAAOgf,gBAAgB5e,GAAY8B,YAAY,GAExCjC,KAJiBA,IDkBbgf,CAASnY,EAAG9G,EAAQC,GAC5B,IAAK,QACJ,OAAOkI,EAAQrB,EAAG9G,EAAQC,GAC3B,IAAK,YACJ,OAAOyI,EAAY5B,EAAG9G,EAAQC,GAC/B,IAAK,IACJ,OE5BU,SAAgB6G,EAAG9G,EAAQC,GAAO,IACvCC,EAAUF,EAAVE,MACAE,EAA0BF,EAA1BE,WAAYD,EAAcD,EAAdC,UACpB,OAAIA,EAAUE,WAAmBJ,IAE7BG,EAAWX,KAAKkB,MAAM,WAAmBV,IAO/B,OAJAG,EAAWE,KACtBC,MAAM,EAAGJ,EAAUK,MAAMC,QACzBoC,QAAQ,OAAQ,KAGjBiE,EAAElG,iBACKZ,EACJc,uBAAuBV,GACvBW,SACAC,UACC,CACEvB,KAAM,kBACN4I,QAAQ,GAEV,CAAE+R,WAAW,IAEdtX,YAAY,aACZC,SAGE9C,IFAG0C,CAAOmE,EAAG9G,EAAQC,GAC1B,QACC,OAAOA,OHFXif,GhC8EO,CACN9T,QADM,SACErL,EAAOC,EAAQC,GACtBF,EAAMa,iBACN,IAAM0K,EAAWC,YAAiBxL,GAClC,GAAsB,SAAlBuL,EAAS7L,KAAiB,OAAOQ,IAHT,IAKpBkD,EAAauH,EAAWP,YAAYmB,EAAS8G,MAA7CjP,SACRnD,EAAOmf,eAAehc,KD5GhB,CACLiI,QADK,SACGtE,EAAG9G,EAAQC,GACjB,IAAMqL,EAAWC,YAAiBzE,GAC1BxG,EAASgL,EAAThL,KACR,GAAsB,SAAlBgL,EAAS7L,MAAqC,SAAlB6L,EAAS7L,KAAiB,OAAOQ,IAEjE,IAAMuN,EAAW5E,EAAmBuB,YAAY7J,GAAQ,IACxD,OAAKkN,EAEExN,EAAOmf,eAAe3R,EAASrK,eAFtC,IiCmBLqU,GAAM,CACLrG,WAAY,CAAE,MAAO,OAAQ,OAC7BD,YAAa,SAAClR,EAAQgC,GACrBhC,EAAO+S,gBAAgB/Q,MM9BlB,CACN0X,OAAQ,CACPC,OAAQ,CACPtB,MAAO,CACNhQ,QAAQ,KAIXkR,YAAa,SAACjN,EAAOtM,EAAQC,GAC5B,MAAwB,UAApBqM,EAAMxH,KAAKrF,KAAyB,kBAAC,GAAD,iBAAoB6M,EAApB,CAA2BtM,OAAQA,KACpEC,KAER4G,UAAW,SAAC9G,EAAOC,EAAQC,GAAU,IACnBG,EAAiBJ,EAA1BE,MAASE,WACjB,OAAIA,GAAkC,UAApBA,EAAWX,MAAkC,UAAdM,EAAMsB,IAC/CrB,EAAO8C,YAAY,aAEpB7C,MChBF,CACNsZ,eACAC,cACAC,gBACAC,YCCI0F,I,OAAeC,QAAMC,SAASC,IA6BrBC,GA5BE,SAAClT,GAAW,IAAD,EACQuH,mBAASwD,GAAMoI,OADvB,mBACnBC,EADmB,KACLC,EADK,KAE3B,OACC,kBAAC,IAAM7T,SAAP,KACC,4BACCqI,QAAS,WACRwL,EAAStI,GAAME,QAFjB,QAOA,4BACCpD,QAAS,WACRwL,EAAStI,GAAMoI,SAFjB,SAOA,kBAAC,IAAD,CACClT,UAAWC,YAAG6K,GAAMC,KAAMoI,GAC1BnB,QAASA,GACTpG,YAAY,uCACZrE,aAAcsL,OCrBEQ,QACW,cAA7BpY,OAAOqY,SAASC,UAEe,UAA7BtY,OAAOqY,SAASC,UAEhBtY,OAAOqY,SAASC,SAASnf,MACvB,2DCZN6N,IAASuR,OAAO,kBAAC,GAAD,MAAc5c,SAASiK,eAAe,SD2HhD,kBAAmB3F,WACrBA,UAAUuY,cAAcC,MAAMrO,MAAK,SAAAsO,GACjCA,EAAaC,kB","file":"static/js/main.aa5e557f.chunk.js","sourcesContent":["var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./base.less\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".any-theme-dark {\\n  --theme-color-primary: #FFF;\\n  --theme-color-primary-lighten: #EEE;\\n  --theme-color-helper: #CCC;\\n  --theme-color-helper-lighten: #f8f8f8;\\n  --theme-color-warn: #f77700;\\n  --theme-color-info: #f8f8f8;\\n  --theme-color-danger: #ff4242;\\n  --theme-color-success: #1a2;\\n  --theme-color-title: #eee;\\n  --theme-color-title-lighten: #eeeeee80;\\n  --theme-color-text-primary: #fff;\\n  --theme-color-text-lighten: #ffffff80;\\n  --theme-color-text-disabled: #BFBFBF;\\n  --theme-color-light: #666;\\n  --theme-color-white: #333;\\n  background: var(--theme-color-white, #fff);\\n}\\n/*\\n  该文件用来补偿slate-plugins项目没有考虑到的样式冲突\\n */\\n.s-table .s-table__tool {\\n  transition: all 0.3s;\\n}\\n.s-table .s-table__tool ul {\\n  padding: 0 !important;\\n  line-height: initial !important;\\n  display: flex;\\n  justify-content: flex-start;\\n}\\n.s-table .s-table__tool ul li {\\n  padding: 0 !important;\\n  flex: 0 0 25px;\\n  color: #999;\\n  font-size: 1rem;\\n}\\n.s-table .s-table__tool ul li span.icon-add_col_after,\\n.s-table .s-table__tool ul li span.icon-add_col_before {\\n  font-size: 1.1rem !important;\\n  line-height: 23px;\\n  width: 23px;\\n}\\n.s-table .s-table__tool ul li:hover {\\n  background-color: transparent;\\n}\\n.s-table .s-table__tool ul li:hover span {\\n  color: #333;\\n}\\n:root {\\n  --theme-color-primary: #2275FF;\\n  --theme-color-primary-lighten: #2275ff80;\\n  --theme-color-helper: #6C6C6C;\\n  --theme-color-helper-lighten: #6C6C6C86;\\n  --theme-color-warn: #f77700;\\n  --theme-color-info: #6C6C6C40;\\n  --theme-color-danger: #ff4242;\\n  --theme-color-success: #1a2;\\n  --theme-color-title: #333;\\n  --theme-color-title-lighten: #33333380;\\n  --theme-color-text-primary: #666;\\n  --theme-color-text-lighten: #66666680;\\n  --theme-color-text-disabled: #BFBFBF;\\n  --theme-color-light: #f5f5f5;\\n  --theme-color-white: #fff;\\n}\\nbody,\\n#root,\\n#app {\\n  position: relative;\\n  background: var(--theme-color-light, #f5f5f5);\\n  font-size: 14px;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", \\\"Roboto\\\", \\\"Oxygen\\\", \\\"Ubuntu\\\", \\\"Cantarell\\\", \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\nbody .any-theme-base,\\n#root .any-theme-base,\\n#app .any-theme-base {\\n  padding-left: 0;\\n  margin: 2rem;\\n  font-size: 16px;\\n  text-align: left;\\n  overflow: visible;\\n  background: var(--theme-color-white, #fff);\\n  position: relative;\\n}\\nbody .any-theme-base blockquote p,\\n#root .any-theme-base blockquote p,\\n#app .any-theme-base blockquote p {\\n  font-weight: 600;\\n  margin-left: 0;\\n}\\nbody .any-theme-base h1,\\n#root .any-theme-base h1,\\n#app .any-theme-base h1,\\nbody .any-theme-base h2,\\n#root .any-theme-base h2,\\n#app .any-theme-base h2,\\nbody .any-theme-base h3,\\n#root .any-theme-base h3,\\n#app .any-theme-base h3,\\nbody .any-theme-base h4,\\n#root .any-theme-base h4,\\n#app .any-theme-base h4,\\nbody .any-theme-base h5,\\n#root .any-theme-base h5,\\n#app .any-theme-base h5,\\nbody .any-theme-base h6,\\n#root .any-theme-base h6,\\n#app .any-theme-base h6 {\\n  margin: 0;\\n  padding: 0;\\n  color: var(--theme-color-title, #333);\\n}\\nbody .any-theme-base ol,\\n#root .any-theme-base ol,\\n#app .any-theme-base ol,\\nbody .any-theme-base p,\\n#root .any-theme-base p,\\n#app .any-theme-base p,\\nbody .any-theme-base ul,\\n#root .any-theme-base ul,\\n#app .any-theme-base ul {\\n  line-height: 14.4px;\\n  word-spacing: 0.05rem;\\n  color: var(--theme-color-text-primary, #666);\\n  padding: 0 12px;\\n  margin-bottom: 8px;\\n  margin-block-start: 0px;\\n  margin-block-end: 0px;\\n  margin-inline-start: 0px;\\n  margin-inline-end: 0px;\\n}\\nbody .any-theme-base ol li,\\n#root .any-theme-base ol li,\\n#app .any-theme-base ol li,\\nbody .any-theme-base p li,\\n#root .any-theme-base p li,\\n#app .any-theme-base p li,\\nbody .any-theme-base ul li,\\n#root .any-theme-base ul li,\\n#app .any-theme-base ul li {\\n  padding: 0 2px;\\n}\\nbody .any-theme-base .any-code,\\n#root .any-theme-base .any-code,\\n#app .any-theme-base .any-code,\\nbody .any-theme-base .any-code pre,\\n#root .any-theme-base .any-code pre,\\n#app .any-theme-base .any-code pre {\\n  background-color: var(--theme-color-light, #f5f5f5);\\n  font-family: source-code-pro, Roboto Mono, Monaco, courier, Consolas, \\\"Courier New\\\", monospace;\\n  border-radius: 2px;\\n  color: var(--theme-color-danger, #ff4242);\\n  font-size: 16px;\\n  margin: 0 2px;\\n  padding: 0 8px;\\n  white-space: pre-wrap;\\n}\\nbody .any-theme-base iframe,\\n#root .any-theme-base iframe,\\n#app .any-theme-base iframe {\\n  margin: 16px;\\n}\\nbody .any-theme-base em,\\n#root .any-theme-base em,\\n#app .any-theme-base em {\\n  color: var(--theme-color-title, #333);\\n}\\nbody .any-theme-base .any-bulleted-list li + li,\\n#root .any-theme-base .any-bulleted-list li + li,\\n#app .any-theme-base .any-bulleted-list li + li,\\nbody .any-theme-base .any-ordered-list li + li,\\n#root .any-theme-base .any-ordered-list li + li,\\n#app .any-theme-base .any-ordered-list li + li {\\n  margin-top: 8px;\\n}\\nbody .any-theme-base .any-bulleted-list .any-li,\\n#root .any-theme-base .any-bulleted-list .any-li,\\n#app .any-theme-base .any-bulleted-list .any-li,\\nbody .any-theme-base .any-ordered-list .any-li,\\n#root .any-theme-base .any-ordered-list .any-li,\\n#app .any-theme-base .any-ordered-list .any-li {\\n  line-height: 20px;\\n  padding-left: 4px;\\n}\\nbody .any-theme-base .any-bulleted-list .any-li .any-bulleted-list,\\n#root .any-theme-base .any-bulleted-list .any-li .any-bulleted-list,\\n#app .any-theme-base .any-bulleted-list .any-li .any-bulleted-list,\\nbody .any-theme-base .any-ordered-list .any-li .any-bulleted-list,\\n#root .any-theme-base .any-ordered-list .any-li .any-bulleted-list,\\n#app .any-theme-base .any-ordered-list .any-li .any-bulleted-list {\\n  padding-left: 16px;\\n}\\nbody .any-theme-base .any-todo-list,\\n#root .any-theme-base .any-todo-list,\\n#app .any-theme-base .any-todo-list {\\n  list-style: none;\\n}\\nbody .any-theme-base .any-todo-list li + li,\\n#root .any-theme-base .any-todo-list li + li,\\n#app .any-theme-base .any-todo-list li + li {\\n  margin-top: 8px;\\n}\\nbody .any-theme-base .any-todo-list .any-todo-checkbox,\\n#root .any-theme-base .any-todo-list .any-todo-checkbox,\\n#app .any-theme-base .any-todo-list .any-todo-checkbox {\\n  margin: 0 12px 0 8px;\\n  padding: 0;\\n  line-height: 20px;\\n  vertical-align: middle;\\n  width: 12px;\\n}\\nbody .any-theme-base .any-todo-list .any-todo-content,\\n#root .any-theme-base .any-todo-list .any-todo-content,\\n#app .any-theme-base .any-todo-list .any-todo-content {\\n  margin-right: 0;\\n  padding: 0;\\n  line-height: 20px;\\n  vertical-align: middle;\\n}\\nbody .any-theme-base .any-todo-list .any-todo-item,\\n#root .any-theme-base .any-todo-list .any-todo-item,\\n#app .any-theme-base .any-todo-list .any-todo-item {\\n  line-height: 20px;\\n  margin-left: -24px;\\n  padding-left: 0;\\n}\\nbody .any-theme-base .any-p-with-placeholder,\\n#root .any-theme-base .any-p-with-placeholder,\\n#app .any-theme-base .any-p-with-placeholder,\\nbody .any-theme-base .any-p,\\n#root .any-theme-base .any-p,\\n#app .any-theme-base .any-p {\\n  padding: 0 ;\\n  line-height: 24px;\\n  font-size: 16px;\\n}\\nbody .any-theme-base .any-p,\\n#root .any-theme-base .any-p,\\n#app .any-theme-base .any-p {\\n  color: var(--theme-color-text-primary, #666);\\n}\\nbody .any-theme-base .any-p-with-placeholder,\\n#root .any-theme-base .any-p-with-placeholder,\\n#app .any-theme-base .any-p-with-placeholder {\\n  color: var(--theme-color-title-lighten, #33333380);\\n}\\nbody .any-theme-base .any-h1,\\n#root .any-theme-base .any-h1,\\n#app .any-theme-base .any-h1 {\\n  font-size: 48px;\\n  line-height: 60px;\\n}\\nbody .any-theme-base .any-h2,\\n#root .any-theme-base .any-h2,\\n#app .any-theme-base .any-h2 {\\n  font-size: 36px;\\n  line-height: 45px;\\n}\\nbody .any-theme-base .any-h3,\\n#root .any-theme-base .any-h3,\\n#app .any-theme-base .any-h3 {\\n  font-size: 24px;\\n  line-height: 30px;\\n}\\nbody .any-theme-base .any-h4,\\n#root .any-theme-base .any-h4,\\n#app .any-theme-base .any-h4 {\\n  font-size: 16px;\\n  line-height: 20px;\\n}\\nbody .any-theme-base .any-h5,\\n#root .any-theme-base .any-h5,\\n#app .any-theme-base .any-h5 {\\n  font-size: 18px;\\n  line-height: 17.5px;\\n}\\nbody .any-theme-base .any-h6,\\n#root .any-theme-base .any-h6,\\n#app .any-theme-base .any-h6 {\\n  font-size: 16px;\\n  line-height: 18px;\\n}\\nbody .any-theme-base .any-h1,\\n#root .any-theme-base .any-h1,\\n#app .any-theme-base .any-h1,\\nbody .any-theme-base .any-h2,\\n#root .any-theme-base .any-h2,\\n#app .any-theme-base .any-h2,\\nbody .any-theme-base .any-h3,\\n#root .any-theme-base .any-h3,\\n#app .any-theme-base .any-h3,\\nbody .any-theme-base .any-h4,\\n#root .any-theme-base .any-h4,\\n#app .any-theme-base .any-h4,\\nbody .any-theme-base .any-h5,\\n#root .any-theme-base .any-h5,\\n#app .any-theme-base .any-h5,\\nbody .any-theme-base .any-h6,\\n#root .any-theme-base .any-h6,\\n#app .any-theme-base .any-h6 {\\n  font-weight: 600;\\n  height: auto;\\n  margin: 0;\\n  margin-block-start: 0;\\n  margin-block-end: 0;\\n  margin-inline-start: 0;\\n  margin-inline-end: 0;\\n}\\nbody .any-theme-base .any-drag-container,\\n#root .any-theme-base .any-drag-container,\\n#app .any-theme-base .any-drag-container {\\n  position: relative;\\n  transition: auto;\\n  padding: 0.5rem 1rem 0.5rem 1.2rem;\\n  background: transparent;\\n  opacity: 1;\\n  border: 2px solid transparent;\\n}\\nbody .any-theme-base .any-drag-container .any-drag-handler,\\n#root .any-theme-base .any-drag-container .any-drag-handler,\\n#app .any-theme-base .any-drag-container .any-drag-handler {\\n  display: none;\\n  position: absolute;\\n  font-size: 20px;\\n  color: var(--theme-color-text-primary, #666);\\n  width: 24px;\\n  height: 24px;\\n  left: -4px;\\n  top: 6px;\\n  width: 16px;\\n  cursor: move;\\n}\\nbody .any-theme-base .any-drag-container:hover .any-drag-handler,\\n#root .any-theme-base .any-drag-container:hover .any-drag-handler,\\n#app .any-theme-base .any-drag-container:hover .any-drag-handler {\\n  display: block;\\n}\\nbody .any-theme-base .any-link,\\n#root .any-theme-base .any-link,\\n#app .any-theme-base .any-link {\\n  color: var(--theme-color-primary, #2275FF);\\n  font-weight: 600;\\n}\\nbody .any-theme-base .any-blockquote,\\n#root .any-theme-base .any-blockquote,\\n#app .any-theme-base .any-blockquote {\\n  border-left: 4px solid var(--theme-color-primary, #2275FF);\\n  color: var(--theme-color-title-lighten, #33333380);\\n  margin: 0;\\n  padding: 8px 12px;\\n  background-color: var(--theme-color-light, #f5f5f5);\\n  font-style: italic;\\n  font-size: 16px;\\n  border-radius: 3px;\\n}\\nbody .any-theme-base .any-blockquote-info,\\n#root .any-theme-base .any-blockquote-info,\\n#app .any-theme-base .any-blockquote-info {\\n  border-left: 4px solid var(--theme-color-primary, #2275FF);\\n}\\nbody .any-theme-base .any-blockquote-warning,\\n#root .any-theme-base .any-blockquote-warning,\\n#app .any-theme-base .any-blockquote-warning {\\n  border-left: 4px solid var(--theme-color-warn, #f77700);\\n}\\nbody .any-theme-base .any-blockquote-danger,\\n#root .any-theme-base .any-blockquote-danger,\\n#app .any-theme-base .any-blockquote-danger {\\n  border-left: 4px solid var(--theme-color-danger, #ff4242);\\n}\\nbody .any-theme-base .any-blockquote-success,\\n#root .any-theme-base .any-blockquote-success,\\n#app .any-theme-base .any-blockquote-success {\\n  border-left: 4px solid var(--theme-color-success, #1a2);\\n}\\n\", \"\"]);\n\n","export const inlineShortcuts = [\n\t{ mark: 'bold', shortcut: '**', reg: /\\*\\*\\S+\\*\\*/ },\n\t{ mark: 'bold', shortcut: '__', reg: /__\\S+__/ },\n\t{ mark: 'italic', shortcut: '*', reg: /\\*\\S+\\*/ },\n\t{ mark: 'italic', shortcut: '_', reg: /_\\S+_/ },\n\t{ mark: 'code', shortcut: '`', reg: /`\\S*`/ },\n\t{ mark: 'inserted', shortcut: '++', reg: /\\+\\+\\S+\\+\\+/ },\n\t{ mark: 'deleted', shortcut: '~~', reg: /~~\\S+~~/ },\n\t{ wrap: 'image', type: 'block', reg: /!\\[\\S*]\\(\\S+\\)/ },\n\t{ wrap: 'link', type: 'inline', reg: /\\[\\S+\\]\\(\\S+\\)/ }\n];\n\nexport const getType = (chars) => {\n\tswitch (chars) {\n\t\tcase '*':\n\t\tcase '+':\n\t\tcase '1.':\n\t\tcase '- [ ]':\n\t\tcase '- [x]':\n\t\t\treturn 'list-item';\n\t\tcase '>':\n\t\t\treturn 'block-quote';\n\t\tcase '#':\n\t\t\treturn 'heading1';\n\t\tcase '##':\n\t\t\treturn 'heading2';\n\t\tcase '###':\n\t\t\treturn 'heading3';\n\t\tcase '####':\n\t\t\treturn 'heading4';\n\t\tcase '#####':\n\t\t\treturn 'heading5';\n\t\tcase '######':\n\t\t\treturn 'heading6';\n\t\tdefault:\n\t\t\treturn null;\n\t}\n};\n\nexport const addMark = (startBlock, editor) => {\n\tfor (const key of inlineShortcuts) {\n\t\tlet { mark, shortcut, reg } = key;\n\t\tlet inlineTags = [];\n\t\tlet result = null;\n\n\t\twhile ((result = reg.exec(startBlock.text)) !== null) {\n\t\t\tconsole.log(inlineTags);\n\t\t\tinlineTags = [ result.index, result.index + result[0].length ];\n\t\t}\n\n\t\tconst firstText = startBlock.getFirstText();\n\t\tif (inlineTags.length > 1) {\n\t\t\tconst [ start, end ] = inlineTags;\n\t\t\treturn editor\n\t\t\t\t.removeTextByKey(firstText.key, end - shortcut.length, shortcut.length)\n\t\t\t\t.removeTextByKey(firstText.key, start, shortcut.length)\n\t\t\t\t.moveAnchorTo(start, end)\n\t\t\t\t.addMark(mark)\n\t\t\t\t.moveToEnd()\n\t\t\t\t.removeMark(mark);\n\t\t}\n\t}\n\treturn false;\n};\n\nexport const isModKey = (event) => {\n\tconst inIOS = typeof window !== 'undefined' && /Mac|iPad|iPod|iPhone/.test(window.navigator.platform);\n\treturn inIOS ? event.metaKey : event.ctrlKey;\n};\n","import { getType, inlineShortcuts } from './utils';\nconst ifCodeBlockMatch = (str) => {\n\treturn str === '```';\n};\nexport default function onSpace(event, editor, next) {\n\tconst { value } = editor;\n\tconst { selection, startBlock } = value;\n\n\t//当选区非空，直接放弃操作\n\tif (selection.isExpanded) {\n\t\treturn next();\n\t}\n\n\tconst chars = startBlock.text.slice(0, selection.start.offset).trim(); //光标位置的偏移量, 去除 两侧的空格\n\tconst type = getType(chars); //计算类型\n\t//判断类型是否符合处理类型的markdown组件\n\tif (type) {\n\t\t//如果类型匹配为heading则址\n\t\tconsole.log(chars, type);\n\t\tif (type.match(/heading/) || type.match('paragraph')) {\n\t\t\tif (startBlock.type !== 'list-item') {\n\t\t\t\t// 命中如果不是列表则防止空格\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\tif (startBlock.type.match(/heading/) && !type.match(/heading/)) {\n\t\t\t\treturn next();\n\t\t\t}\n\t\t}\n\t\tif (type === 'list-item') {\n\t\t\treturn editor.insertListItem(); //不传入参数，则由正则判断，传入字符串，表示类型\t 'ordered' ｜ 'undo'｜'finished'｜ 'bulleted'\n\t\t}\n\t\tif (startBlock.type !== 'list-item') return editor.moveFocusToStartOfNode(startBlock).delete().setBlocks(type);\n\t}\n\n\teditor.withoutNormalizing((editor) => {\n\t\tconst list = startBlock.getTexts();\n\t\tlist.forEach((firstText) => {\n\t\t\tfor (const key of inlineShortcuts) {\n\t\t\t\tlet { mark, shortcut, reg, type, wrap } = key;\n\t\t\t\tconst text = firstText.text;\n\t\t\t\tlet inlineTags = [];\n\t\t\t\tlet result = reg.exec(text);\n\t\t\t\tif (result) {\n\t\t\t\t\tconsole.log(result, type);\n\t\t\t\t\tinlineTags = [ result.index, result.index + result[0].length ];\n\t\t\t\t\tconst [ start, end ] = inlineTags;\n\t\t\t\t\tif (ifCodeBlockMatch(result[0])) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (type === 'block' && wrap === 'image') {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tconst [ , label, uri ] = /\\[(\\S*)\\]\\((\\S+)\\)/.exec(result[0]);\n\t\t\t\t\t\teditor\n\t\t\t\t\t\t\t.removeTextByKey(firstText.key, start, result[0].length)\n\t\t\t\t\t\t\t.splitBlock()\n\t\t\t\t\t\t\t.setBlocks({\n\t\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\t\tdata: { src: uri, alt: label }\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.moveForward(1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (type === 'inline' && wrap === 'link') {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tconst [ , label, uri ] = /\\[(\\S+)\\]\\((\\S+)\\)/.exec(result[0]);\n\t\t\t\t\t\teditor\n\t\t\t\t\t\t\t.removeTextByKey(firstText.key, end - uri.length - 3, uri.length + 3)\n\t\t\t\t\t\t\t.removeTextByKey(firstText.key, start, 1)\n\t\t\t\t\t\t\t.moveStartTo(firstText.key, start)\n\t\t\t\t\t\t\t.moveEndTo(firstText.key, start + label.length)\n\t\t\t\t\t\t\t.wrapInline({\n\t\t\t\t\t\t\t\ttype: 'link',\n\t\t\t\t\t\t\t\tdata: { href: uri }\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.moveToEnd();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\teditor\n\t\t\t\t\t\t.removeTextByKey(firstText.key, end - shortcut.length, shortcut.length)\n\t\t\t\t\t\t.removeTextByKey(firstText.key, start, shortcut.length)\n\t\t\t\t\t\t.moveAnchorTo(start, end - shortcut.length)\n\t\t\t\t\t\t.addMark(mark)\n\t\t\t\t\t\t.moveToEnd()\n\t\t\t\t\t\t.removeMark(mark);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\treturn next();\n}\n","export default function onDash(ev, editor, next) {\n\tconst { value } = editor;\n\tconst { startBlock, selection } = value;\n\tif (selection.isExpanded) return next();\n\n\tif (startBlock.type.match(/heading/)) return next();\n\t// if (editor.isSelectionInTable()) return next();\n\n\tconst chars = startBlock.text.slice(0, selection.start.offset).replace(/\\s*/g, '');\n\n\tif (chars === '--') {\n\t\tev.preventDefault();\n\t\teditor\n\t\t\t.moveFocusToStartOfNode(startBlock)\n\t\t\t.delete()\n\t\t\t.setBlocks('horizontal-rule')\n\t\t\t.insertBlock('paragraph')\n\t\t\t.focus();\n\t\treturn true;\n\t}\n\n\treturn next();\n}\n","export default function onBacktick(ev, editor, next) {\n\tconst { value } = editor;\n\tconst { startBlock, selection } = value;\n\tif (selection.isExpanded) return next();\n\tif (startBlock.type.match(/heading/)) return next();\n\n\t// const chars = startBlock.text.slice(0, selection.start.offset).replace(/\\s*/g, '');\n\n\t// if (chars === '``') {\n\t// \tev.preventDefault();\n\t// \treturn editor.moveFocusToStartOfNode(startBlock).delete().setBlocks({ type: 'code' });\n\t// }\n\n\treturn next();\n}\n","import { Block } from 'slate';\nexport default function onTab(event, editor, next) {\n\tconst { startBlock } = editor.value;\n\n\tif (startBlock.type !== 'list-item') {\n\t\treturn next();\n\t}\n\tevent.preventDefault();\n\tconst sibling = editor.value.document.getPreviousSibling(startBlock.key);\n\tconsole.log('sibling', sibling);\n\tconst parent = editor.value.document.getParent(startBlock.key);\n\tconsole.log('TCL: onTab -> parent', parent);\n\tconst text = startBlock.text;\n\teditor.removeNodeByKey(startBlock.key);\n\tif (!sibling) {\n\t\treturn next();\n\t}\n\tconst lastChild = sibling.nodes.last();\n\tconsole.log('lastChild', lastChild);\n\tif ([ 'ordered-list', 'bulleted-list', 'todo-list' ].includes(lastChild.type)) {\n\t\tconst insertItem = Block.create({\n\t\t\ttype: 'list-item',\n\t\t\tobject: 'block',\n\t\t\tdata: {},\n\t\t\tnodes: [ { object: 'text', text: text } ]\n\t\t});\n\t\teditor.insertNodeByKey(lastChild.key, lastChild.nodes.size, insertItem).moveForward(1);\n\t} else {\n\t\tconst insertItem = Block.create({\n\t\t\ttype: parent.type,\n\t\t\tobject: 'block',\n\t\t\tnodes: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'list-item',\n\t\t\t\t\tobject: 'block',\n\t\t\t\t\tdata: {},\n\t\t\t\t\tnodes: [ { object: 'text', text: text } ]\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\teditor.insertNodeByKey(sibling.key, sibling.nodes.size, insertItem).moveForward(1);\n\t}\n}\n","import { Block } from 'slate';\nconst getSubType = (startBlock) => {\n\tconst regs = [\n\t\t{ reg: /^\\s*\\d\\./, type: 'ordered' },\n\t\t{ reg: /^\\s*-\\s*\\[ {1}\\]/, type: 'undo' },\n\t\t{ reg: /^\\s*-\\s*\\[x{1}\\]/, type: 'finished' },\n\t\t{ reg: /^\\* +/, type: 'bulleted' }\n\t];\n\tconst subType = regs.find((item) => item.reg.test(startBlock.text + ' '));\n\treturn subType && subType.type;\n};\nexport default {\n\tinsertListItem: (editor, forceSubType, forceSwitch) => {\n\t\tconst { startBlock } = editor.value;\n\t\tlet subType = forceSubType || getSubType(startBlock);\n\t\tif (!subType) {\n\t\t\tconsole.warn('this subType is not included!');\n\t\t\treturn editor;\n\t\t}\n\t\tconst isCurrentBlockListItem = startBlock.type === 'list-item';\n\t\tconst wrapType =\n\t\t\tsubType === 'ordered' ? 'ordered-list' : subType === 'bulleted' ? 'bulleted-list' : 'todo-list';\n\t\tconst data = wrapType === 'todo-list' ? { checked: subType === 'finished' ? true : false } : {};\n\t\tif (isCurrentBlockListItem) {\n\t\t\tif (forceSwitch) {\n\t\t\t\tconst parent = editor.value.document.getClosestBlock(editor.value.startBlock.key, (i) => {\n\t\t\t\t\treturn i.type === 'bulleted-list' || i.type === 'ordered-list' || i.type === 'todo-list';\n\t\t\t\t});\n\t\t\t\teditor.withoutNormalizing((editor) => {\n\t\t\t\t\teditor.setNodeByKey(parent.key, { type: wrapType });\n\t\t\t\t\tparent.nodes.forEach((node) => {\n\t\t\t\t\t\tconsole.log('in forEach', node.key);\n\t\t\t\t\t\teditor.setNodeByKey(node.key, { type: 'list-item', data });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn editor;\n\t\t\t}\n\n\t\t\tconst ListItem = Block.create({\n\t\t\t\ttype: 'list-item',\n\t\t\t\tobject: 'block',\n\t\t\t\tnodes: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: wrapType,\n\t\t\t\t\t\tobject: 'block',\n\t\t\t\t\t\tnodes: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tobject: 'block',\n\t\t\t\t\t\t\t\ttype: 'list-item',\n\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\tnodes: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tobject: 'text',\n\t\t\t\t\t\t\t\t\t\ttext: ''\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\n\t\t\teditor.removeNodeByKey(startBlock.key);\n\t\t\teditor.insertBlock(ListItem);\n\t\t} else {\n\t\t\tconst wrapType = subType === 'ordered' ? 'ordered-list' : 'bulleted-list';\n\t\t\teditor.wrapBlock(wrapType);\n\t\t\teditor.moveFocusToStartOfNode(startBlock).delete().setBlocks({ type: 'list-item', data });\n\t\t}\n\t\treturn editor;\n\t},\n\thandlerShortCut: (editor, type) => {\n\t\tconst { startBlock } = editor.value;\n\t\tif (type === 'hr') {\n\t\t\treturn editor.focus().insertBlock('paragraph').setBlocks('horizontal-rule');\n\t\t}\n\t\tif (type === 'math') {\n\t\t\treturn editor.focus().insertMathBlock();\n\t\t}\n\t\tif ([ 'ordered', 'undo', 'finished', 'bulleted' ].includes(type)) {\n\t\t\treturn editor.focus().moveToStartOfNode(startBlock).insertListItem(type, true);\n\t\t}\n\t\teditor.focus().moveToEnd().setBlocks(type);\n\t\treturn editor;\n\t}\n};\n","const flow = (...conditionActions) => (...props) => {\n\tfor (const [ condition, action ] of conditionActions) {\n\t\tif (condition(...props)) return action(...props);\n\t}\n};\n\nexport default flow;\n","import isHotkey from 'is-hotkey';\nimport onSpace from './onSpace';\nimport onDash from './onDash';\nimport onBacktick from './onBacktick';\nimport onTab from './onTab';\nimport commands from './commands';\nimport ifFlow from './utils/flow';\n// import { isModKey } from './utils/index';\nconst MarkdownShortcuts = (options = {}) => {\n\tconst isDash = isHotkey('-');\n\tconst isBacktick = isHotkey('`');\n\tconst isSpace = isHotkey(' ');\n\tconst isShiftSpace = isHotkey('shift+ ');\n\tconst isTab = isHotkey('tab');\n\tconst setParagraph = isHotkey('mod+p');\n\tconst setHeading1 = isHotkey('mod+1');\n\tconst setHeading2 = isHotkey('mod+2');\n\tconst setHeading3 = isHotkey('mod+3');\n\tconst setHeading4 = isHotkey('mod+4');\n\tconst setHeading5 = isHotkey('mod+5');\n\tconst setHeading6 = isHotkey('mod+6');\n\tconst setOrderedList = isHotkey('mod+shift+l');\n\t// const insertCode = isHotkey('mod+shift+c');\n\tconst setBulletedList = isHotkey('mod+l');\n\tconst setTodoList = isHotkey('mod+o');\n\tconst setBlockQuote = isHotkey('mod+m');\n\tconst insertHr = isHotkey('mod+h');\n\tconst saveToJson = isHotkey('mod+s');\n\treturn {\n\t\tcommands,\n\t\tonKeyDown(e, editor, next) {\n\t\t\tconst { value } = editor;\n\t\t\tconst { startBlock } = value;\n\t\t\tif (!startBlock) return next();\n\t\t\tif (startBlock.type.match(/code/)) return next();\n\t\t\t// if (!isModKey(e)) return next();\n\t\t\treturn ifFlow(\n\t\t\t\t[ isDash, options.onDash || onDash ],\n\t\t\t\t[ isBacktick, options.onBacktick || onBacktick ],\n\t\t\t\t[ isSpace, options.onSpace || onSpace ],\n\t\t\t\t[ isShiftSpace, options.onSpace || onSpace ],\n\t\t\t\t[ isTab, options.onTab || onTab ],\n\t\t\t\t// [ insertCode, () => editor.handlerShortCut('code') && e.preventDefault() ],\n\t\t\t\t[ setParagraph, () => editor.handlerShortCut('paragraph') && e.preventDefault() ],\n\t\t\t\t[ setHeading1, () => editor.handlerShortCut('heading1') && e.preventDefault() ],\n\t\t\t\t[ setHeading2, () => editor.handlerShortCut('heading2') && e.preventDefault() ],\n\t\t\t\t[ setHeading3, () => editor.handlerShortCut('heading3') && e.preventDefault() ],\n\t\t\t\t[ setHeading4, () => editor.handlerShortCut('heading4') && e.preventDefault() ],\n\t\t\t\t[ setHeading5, () => editor.handlerShortCut('heading5') && e.preventDefault() ],\n\t\t\t\t[ setHeading6, () => editor.handlerShortCut('heading6') && e.preventDefault() ],\n\t\t\t\t[ insertHr, () => editor.handlerShortCut('hr') && e.preventDefault() ],\n\t\t\t\t[ setOrderedList, () => editor.handlerShortCut('ordered') && e.preventDefault() ],\n\t\t\t\t[ setBulletedList, () => editor.handlerShortCut('bulleted') && e.preventDefault() ],\n\t\t\t\t[ setTodoList, () => editor.handlerShortCut('undo') && e.preventDefault() ],\n\t\t\t\t[ setBlockQuote, () => editor.handlerShortCut('block-quote') && e.preventDefault() ],\n\t\t\t\t[\n\t\t\t\t\tsaveToJson,\n\t\t\t\t\t() => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tconsole.log('调试用', JSON.stringify(editor.value.toJSON(editor.value.document.key)));\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t[ () => true, () => next() ]\n\t\t\t)(e, editor, next);\n\t\t}\n\t};\n};\n\nexport default MarkdownShortcuts;\n","import { isModKey } from './utils';\n\nconst toggleMark = (editor, type, next) => {\n\teditor.removeMark('code').toggleMark(type);\n};\n\nexport default () => ({\n\tonKeyDown(e, editor, next) {\n\t\tif (!isModKey(e)) return next();\n\t\tswitch (e.key) {\n\t\t\tcase 'b':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn toggleMark(editor, 'bold', next);\n\t\t\tcase 'i':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn toggleMark(editor, 'italic', next);\n\t\t\tcase 'u':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn toggleMark(editor, 'underlined', next);\n\t\t\tcase 'd':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn toggleMark(editor, 'deleted', next);\n\t\t\tcase 'k':\n\t\t\t\te.preventDefault();\n\t\t\t\treturn editor.wrapLink('');\n\t\t\tdefault:\n\t\t\t\treturn next();\n\t\t}\n\t}\n});\n","export const whenTrueOrNext = (action) => (next) => () => {\n\treturn action() || next();\n};\nexport const noop = () => {};\nexport const chain = (...conditions) => conditions.reduceRight((acc, condition) => condition(acc), noop);\n\nexport const isModKey = (event) => {\n\tconst inIOS = typeof window !== 'undefined' && /Mac|iPad|iPod|iPhone/.test(window.navigator.platform);\n\treturn inIOS ? event.metaKey : event.ctrlKey;\n};\n","export const onEnterInblockQuote = (startBlock, { editor, event }) => {\n  if (startBlock.type !== \"block-quote\") {\n    return false;\n  }\n  if (startBlock.text.endsWith(\"\\n\")) {\n    editor\n      .moveFocusBackward(1)\n      .delete()\n      .unwrapBlock(\"block-quote\")\n      .insertBlock(\"paragraph\");\n    return true;\n  } else if (startBlock.text === \"\") {\n    editor.unwrapBlock(\"block-quote\").setBlocks(\"paragraph\");\n  } else {\n    console.log(\"what?\");\n    event.preventDefault();\n    editor.insertText(\"\\n\");\n    return true;\n  }\n};\n\nexport const insertBlockQuote = (startBlock, { editor, event }) => {\n  event.preventDefault();\n  const { text, key } = startBlock.getFirstText();\n  editor\n    .setBlocks({\n      type: \"block-quote\"\n    })\n    .setTextByPath(editor.value.document.getPath(key), text.slice(2));\n  // 或者\teditor.moveFocusToStartOfNode(startBlock).delete();\n  return true;\n};\n","export const onEnterInHeading = (startBlock, { editor, event }) => {\n  if (startBlock.type.match(/^heading/)) {\n    event.preventDefault();\n    editor.splitBlock().setBlocks(\"paragraph\");\n    return true;\n  }\n  return false;\n};\n\nexport const insertHeading = (startBlock, { event, editor }, token) => {\n  event.preventDefault();\n  const { text } = token;\n  const { key } = startBlock.getFirstText();\n  editor\n    .setBlocks(\"heading\")\n    .setNodeByKey(startBlock.key, { data: { depth: token.depth } })\n    .setTextByPath(editor.value.document.getPath(key), text);\n  return true;\n};\n","import { Block } from 'slate';\nimport { whenTrueOrNext, chain } from './utils';\nimport { onEnterInblockQuote } from './services/blockQuote';\nimport { onEnterInHeading } from './services/heading';\n\nexport default function onEnter(event, editor, next) {\n\tconst { value } = editor;\n\tconst { startBlock, selection } = value;\n\tif (selection.isExpanded) return next();\n\tif (!startBlock) return next();\n\n\tconst endOffset = selection.end.offset;\n\n\tif (startBlock.type === 'image') {\n\t\tevent.preventDefault();\n\t\treturn editor.splitBlock(10).setBlocks({\n\t\t\ttype: 'paragraph',\n\t\t\ttext: '',\n\t\t\tisVoid: false\n\t\t});\n\t}\n\n\tif (startBlock.type.match(/^heading/)) {\n\t\tevent.preventDefault();\n\t\tif (endOffset > 0) {\n\t\t\treturn editor.splitBlock().setBlocks('paragraph');\n\t\t} else {\n\t\t\treturn editor.splitBlock().moveToStartOfPreviousBlock().setBlocks('paragraph');\n\t\t}\n\t}\n\tif (startBlock.type === 'list-item' && startBlock.text.replace(' ', '').length === 0) {\n\t\t//如果为空则unwrapBlock,此时需要查询它最亲近的父辈分是否 有 list类型，如果有则直接unwrap父辈\n\t\tconst startParent = editor.value.document.getClosest(startBlock.key, (i) => {\n\t\t\treturn [ 'bulleted-list', 'ordered-list', 'todo-list' ].includes(i.type);\n\t\t});\n\n\t\tconst insertItem = Block.create({\n\t\t\ttype: 'list-item',\n\t\t\tobject: 'block',\n\t\t\tnodes: [ { object: 'text', text: '' } ]\n\t\t});\n\n\t\tconst grandParent = editor.value.document.getClosest(startParent.key, (i) => {\n\t\t\tconsole.log('i==>', i);\n\t\t\treturn [ 'bulleted-list', 'ordered-list', 'todo-list' ].includes(i.type);\n\t\t});\n\n\t\tif (grandParent) {\n\t\t\teditor.removeNodeByKey(startBlock.key); //\tconsole.log('has grandpa', grandParent);\n\t\t\teditor.insertNodeByKey(grandParent.key, grandParent.nodes.size, insertItem).moveForward(1);\n\t\t} else {\n\t\t\teditor.setBlocks('paragraph').unwrapBlock(startParent.type);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tconst flow = chain(\n\t\twhenTrueOrNext(() => onEnterInblockQuote(startBlock, { editor, event })), // 在blockQuote中回车\n\t\twhenTrueOrNext(() => onEnterInHeading(startBlock, { editor, event })) // 在 heading中回车\n\t);\n\n\tif (flow()) {\n\t\treturn;\n\t}\n\t//清除样式\n\t[ 'bold', 'italic', 'deleted', 'underlined', 'code', 'inserted' ].forEach((mark) => {\n\t\teditor.removeMark(mark);\n\t});\n\treturn next();\n}\n","export default function onBackspace(event, editor, next) {\n  const { value } = editor;\n  const { selection } = value;\n\n  if (selection.isExpanded || selection.start.offset !== 0) {\n    return next();\n  }\n\n  const { startBlock } = value;\n  if (startBlock.type === \"paragraph\") {\n    return next();\n  }\n\n  // if (value.isCollapsed && value.startBlock.type === 'check-list-item' && value.selection.startOffset === 0) {\n  // \teditor.setBlocks('paragraph');\n  // \treturn;\n  // }\n\n  event.preventDefault();\n  editor.setBlocks(\"paragraph\");\n  if (startBlock.type === \"list-item\") {\n    const { type: parentType } = value.document.getParent(startBlock.key);\n    editor.unwrapBlock(parentType);\n  }\n}\n","import { getEventTransfer } from \"slate-react\";\nimport MarkdownSerializer from \"slate-md-serializer\";\nconst markdownSerializer = new MarkdownSerializer();\n\nexport default function MarkdownPaste() {\n  return {\n    onPaste(e, editor, next) {\n      const transfer = getEventTransfer(e);\n      const { text } = transfer;\n      if (transfer.type !== \"text\" && transfer.type !== \"html\") return next();\n\n      const fragment = markdownSerializer.deserialize(text || \"\");\n      if (!fragment) return;\n\n      return editor.insertFragment(fragment.document);\n    }\n  };\n}\n","import Html from 'slate-html-serializer';\nimport { getEventTransfer } from 'slate-react';\n\nconst BLOCK_TAGS = {\n\tp: 'paragraph',\n\tli: 'list-item',\n\tul: 'bulleted-list',\n\tol: 'ordered-list',\n\tblockquote: 'quote',\n\tpre: 'code',\n\th1: 'heading1',\n\th2: 'heading2',\n\th3: 'heading3',\n\th4: 'heading4',\n\th5: 'heading5',\n\th6: 'heading6'\n};\n\nconst MARK_TAGS = {\n\tstrong: 'bold',\n\tem: 'italic',\n\tu: 'underlined',\n\ts: 'strikethrough',\n\tdel: 'deleted',\n\tmark: 'inserted',\n\tcode: 'code'\n};\n\nconst RULES = [\n\t{\n\t\tdeserialize(el, next) {\n\t\t\tconst block = BLOCK_TAGS[el.tagName.toLowerCase()];\n\n\t\t\tif (block) {\n\t\t\t\treturn {\n\t\t\t\t\tobject: 'block',\n\t\t\t\t\ttype: block,\n\t\t\t\t\tnodes: next(el.childNodes)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tdeserialize(el, next) {\n\t\t\tconst mark = MARK_TAGS[el.tagName.toLowerCase()];\n\n\t\t\tif (mark) {\n\t\t\t\treturn {\n\t\t\t\t\tobject: 'mark',\n\t\t\t\t\ttype: mark,\n\t\t\t\t\tnodes: next(el.childNodes)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t// Special case for code blocks, which need to grab the nested childNodes.\n\t\tdeserialize(el, next) {\n\t\t\tif (el.tagName.toLowerCase() === 'pre') {\n\t\t\t\tconst code = el.childNodes[0];\n\t\t\t\tconst childNodes = code && code.tagName.toLowerCase() === 'code' ? code.childNodes : el.childNodes;\n\n\t\t\t\treturn {\n\t\t\t\t\tobject: 'block',\n\t\t\t\t\ttype: 'code',\n\t\t\t\t\tnodes: next(childNodes)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t// Special case for images, to grab their src.\n\t\tdeserialize(el, next) {\n\t\t\tif (el.tagName.toLowerCase() === 'img') {\n\t\t\t\treturn {\n\t\t\t\t\tobject: 'block',\n\t\t\t\t\ttype: 'image',\n\t\t\t\t\tnodes: next(el.childNodes),\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsrc: el.getAttribute('src'),\n\t\t\t\t\t\talt: el.getAttribute('alt')\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t// Special case for links, to grab their href.\n\t\tdeserialize(el, next) {\n\t\t\tif (el.tagName.toLowerCase() === 'a') {\n\t\t\t\treturn {\n\t\t\t\t\tobject: 'inline',\n\t\t\t\t\ttype: 'link',\n\t\t\t\t\tnodes: next(el.childNodes),\n\t\t\t\t\tdata: {\n\t\t\t\t\t\thref: el.getAttribute('href')\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n];\n\nconst serializer = new Html({ rules: RULES });\n\nexport default () => {\n\treturn {\n\t\tonPaste(event, editor, next) {\n\t\t\tevent.preventDefault();\n\t\t\tconst transfer = getEventTransfer(event);\n\t\t\tif (transfer.type !== 'html') return next();\n\t\t\tconsole.log('this is html');\n\t\t\tconst { document } = serializer.deserialize(transfer.html);\n\t\t\teditor.insertFragment(document);\n\t\t}\n\t};\n};\n","export function wrapLink(editor, href) {\n\teditor.wrapInline({\n\t\ttype: 'link',\n\t\tdata: { href }\n\t});\n\n\teditor.moveToEnd();\n}\n\nexport function unwrapLink(editor) {\n\teditor.unwrapInline('link');\n}\n\nexport const ifHasLinks = (editor) => {\n\tconst { value } = editor;\n\treturn value.inlines.some((inline) => inline.type === 'link');\n};\n","import { getEventTransfer } from 'slate-react';\nimport isUrl from 'is-url';\nimport { wrapLink, unwrapLink, ifHasLinks } from './link';\nexport default function onPaste(event, editor, next) {\n\tif (editor.value.selection.isCollapsed) return next();\n\n\tconst transfer = getEventTransfer(event);\n\tconst { type, text } = transfer;\n\tif (type !== 'text' && type !== 'html') return next();\n\tif (!isUrl(text)) return next();\n\n\tif (ifHasLinks(editor)) {\n\t\teditor.command(unwrapLink);\n\t}\n\n\teditor.command(wrapLink, text);\n}\n","import React from 'react';\n\nimport onPaste from './onPaste';\nconst Editor = ({ children, editor, hocs, readOnly }) => {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{children}\n\t\t\t{hocs &&\n\t\t\t\thocs.length &&\n\t\t\t\thocs.map((hoc) => {\n\t\t\t\t\treturn !readOnly && hoc(editor);\n\t\t\t\t})}\n\t\t</React.Fragment>\n\t);\n};\n\n//要求options.HOC = [(editor,readOnly)=>HighOrderComponent] ,HighOrderComponent为一个接受editor为参数的方法，输出为React.component\nexport default (options = {}) => {\n\tif (Array.isArray(options.plugins)) {\n\t\treturn {\n\t\t\trenderEditor: (props, editor, next) => {\n\t\t\t\tconst children = next();\n\t\t\t\treturn (\n\t\t\t\t\t<Editor editor={editor} readOnly={props.readOnly} hocs={options.plugins}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Editor>\n\t\t\t\t);\n\t\t\t},\n\t\t\tonPaste\n\t\t};\n\t} else\n\t\treturn {\n\t\t\trenderEditor: (props, editor, next) => {\n\t\t\t\tconst children = next();\n\t\t\t\treturn <React.Fragment>{children}</React.Fragment>;\n\t\t\t},\n\t\t\tonPaste\n\t\t};\n};\n","import React from 'react';\nimport { cx, css } from 'emotion';\n\nconst Icon = React.forwardRef(({ icon, ...props }, ref) => {\n\treturn (\n\t\t<span\n\t\t\t{...props}\n\t\t\tref={ref}\n\t\t\tclassName={cx(\n\t\t\t\t'iconfont',\n\t\t\t\ticon,\n\t\t\t\tcss`\n\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tvertical-align: text-bottom;\n\t\t\t\t`\n\t\t\t)}\n\t\t/>\n\t);\n});\nexport default Icon;\n","import React from 'react';\nimport { cx, css } from 'emotion';\nimport Icon from './Icon';\nimport { wrapLink, unwrapLink, ifHasLinks } from '../link';\n\nconst Button = React.forwardRef(({ editor, type, className, icon }, ref) => {\n\tconst { value } = editor;\n\tconst active = value.activeMarks.some((mark) => mark.type === type);\n\n\tconst onClickLink = (event, editor) => {\n\t\tevent.preventDefault();\n\n\t\tconst { value } = editor;\n\t\tconst hasLinks = ifHasLinks(editor);\n\n\t\tif (hasLinks) {\n\t\t\teditor.command(unwrapLink);\n\t\t} else if (value.selection.isExpanded) {\n\t\t\tconst href = window.prompt('请输入URL地址');\n\n\t\t\tif (href == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.command(wrapLink, href);\n\t\t} else {\n\t\t\tconst href = window.prompt('请输入URL地址');\n\n\t\t\tif (href == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst text = window.prompt('请输入URL对应的文本');\n\n\t\t\tif (text == null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.insertText(text).moveFocusBackward(text.length).command(wrapLink, href);\n\t\t}\n\t};\n\treturn (\n\t\t<span\n\t\t\tref={ref}\n\t\t\tclassName={cx(\n\t\t\t\tclassName,\n\t\t\t\tcss`\n\t\t\t\t\tbackground: ${active ? '#eee' : 'transparent'};\n\t\t\t\t\tcolor: ${active ? '#333' : '#eee'};\n\t\t\t\t\tflex: 1;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t`\n\t\t\t)}\n\t\t\tonMouseDown={(event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'clean':\n\t\t\t\t\t\treturn [ 'bold', 'italic', 'deleted', 'underlined', 'code', 'inserted' ].forEach((mark) => {\n\t\t\t\t\t\t\teditor.removeMark(mark);\n\t\t\t\t\t\t});\n\t\t\t\t\tcase 'link':\n\t\t\t\t\t\tonClickLink(event, editor);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'unlink':\n\t\t\t\t\t\tonClickLink(event, editor);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\teditor.toggleMark(type);\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<Icon icon={icon} />\n\t\t</span>\n\t);\n});\n\nexport default Button;\n","import React, { useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { css } from 'emotion';\nimport Tooltip from 'rc-tooltip';\nimport Button from './components/Button';\n\nimport { ifHasLinks } from './link';\n\nconst HoverMenu = ({ editor, visible }) => {\n\tconst ref = useRef(null);\n\tconst root =\n\t\twindow.document.getElementById('root') || window.document.getElementById('app') || window.document.body;\n\tconst menu = ref.current;\n\tif (menu) {\n\t\tconst { value } = editor;\n\t\tconst { fragment, selection } = value;\n\t\tif (selection.isBlurred || selection.isCollapsed || fragment.text === '') {\n\t\t\tmenu.removeAttribute('style');\n\t\t} else {\n\t\t\tconst native = window.getSelection();\n\t\t\tconst range = native.getRangeAt(0);\n\t\t\tconst rect = range.getBoundingClientRect();\n\t\t\tmenu.style.opacity = 1;\n\t\t\tmenu.style.top = `${rect.top + window.pageYOffset - menu.offsetHeight}px`;\n\t\t\tmenu.style.left = `${rect.left + window.pageXOffset - menu.offsetWidth / 2 + rect.width / 2}px`;\n\t\t}\n\t}\n\n\treturn ReactDOM.createPortal(\n\t\t<ul\n\t\t\tref={ref}\n\t\t\tclassName={css`\n\t\t\t\tpadding: 6px 8px;\n\t\t\t\tposition: absolute;\n\t\t\t\tz-index: 1;\n\t\t\t\ttop: -10000px;\n\t\t\t\tleft: -10000px;\n\t\t\t\tmargin-top: -6px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\tmin-width: 350px;\n\t\t\t\tjustify-content: space-around;\n\t\t\t\topacity: 0;\n\t\t\t\tbackground-color: #222;\n\t\t\t\tcolor: #fff;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\ttransition: opacity 0.75s;\n\t\t\t\t& > li {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\theight: 35px;\n\t\t\t\t\twidth: 35px;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t}\n\t\t\t`}\n\t\t>\n\t\t\t<Tooltip placement=\"bottom\" trigger={[ 'hover' ]} overlay={<span>粗体</span>} overlayClassName={'hello'}>\n\t\t\t\t<li>\n\t\t\t\t\t<Button editor={editor} type=\"bold\" icon=\"icon-editor-bold\" />\n\t\t\t\t</li>\n\t\t\t</Tooltip>\n\t\t\t<Tooltip placement=\"bottom\" trigger={[ 'hover' ]} overlay={<span>斜体</span>}>\n\t\t\t\t<li>\n\t\t\t\t\t<Button editor={editor} type=\"italic\" icon=\"icon-editor-italic\" />\n\t\t\t\t</li>\n\t\t\t</Tooltip>\n\t\t\t<Tooltip placement=\"bottom\" trigger={[ 'hover' ]} overlay={<span>删除线</span>}>\n\t\t\t\t<li>\n\t\t\t\t\t<Button editor={editor} type=\"deleted\" icon=\"icon-editor-strikethrough\" />\n\t\t\t\t</li>\n\t\t\t</Tooltip>\n\t\t\t<Tooltip placement=\"bottom\" trigger={[ 'hover' ]} overlay={<span>下划线</span>}>\n\t\t\t\t<li>\n\t\t\t\t\t<Button editor={editor} type=\"underlined\" icon=\"icon-editor-underline\" />\n\t\t\t\t</li>\n\t\t\t</Tooltip>\n\t\t\t<Tooltip placement=\"bottom\" trigger={[ 'hover' ]} overlay={<span>行内代码</span>}>\n\t\t\t\t<li>\n\t\t\t\t\t<Button editor={editor} type=\"code\" icon=\"icon-code\" />\n\t\t\t\t</li>\n\t\t\t</Tooltip>\n\t\t\t<li>\n\t\t\t\t<span\n\t\t\t\t\tclassName={css`\n\t\t\t\t\t\tline-height: 35px;\n\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\theight: 35px;\n\t\t\t\t\t\twidth: 35px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t|\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t\t{ifHasLinks(editor) ? (\n\t\t\t\t<Tooltip placement=\"bottom\" trigger={[ 'hover' ]} overlay={<span>取消链接</span>}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Button editor={editor} type=\"unlink\" icon=\"icon-editor-unlink\" />\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t) : (\n\t\t\t\t<Tooltip placement=\"bottom\" trigger={[ 'hover' ]} overlay={<span>超链接</span>}>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Button editor={editor} type=\"link\" icon=\"icon-editor-link\" />\n\t\t\t\t\t</li>\n\t\t\t\t</Tooltip>\n\t\t\t)}\n\t\t\t<Tooltip placement=\"bottom\" trigger={[ 'hover' ]} overlay={<span>清除格式</span>}>\n\t\t\t\t<li>\n\t\t\t\t\t<Button editor={editor} type=\"clean\" icon=\"icon-editor-clean\" />\n\t\t\t\t</li>\n\t\t\t</Tooltip>\n\t\t</ul>,\n\t\troot\n\t);\n};\n\nexport default HoverMenu;\n","function dataUriToBlob(uri) {\n\tconst data = uri.split(',')[1];\n\tconst bytes = atob(data);\n\tconst buffer = new window.ArrayBuffer(bytes.length);\n\tlet array = new window.Uint8Array(buffer);\n\n\tfor (let i = 0; i < bytes.length; i++) {\n\t\tarray[i] = bytes.charCodeAt(i);\n\t}\n\n\tif (!hasArrayBufferView()) {\n\t\tarray = buffer;\n\t}\n\n\tconst blob = new Blob([ array ], { type: mime(uri) });\n\n\tblob.slice = blob.slice || blob.webkitSlice;\n\n\treturn blob;\n}\n\nfunction mime(uri) {\n\treturn uri.split('')[0].slice(5);\n}\n\nfunction hasArrayBufferView() {\n\treturn new Blob([ new window.Uint8Array(100) ]).size === 100;\n}\n\nexport default dataUriToBlob;\n","function srcToDataUri(url, callback) {\n\tconst canvas = window.document.createElement('canvas');\n\tconst img = window.document.createElement('img');\n\n\tif (!canvas.getContext) {\n\t\treturn setTimeout(callback, 0, new Error('Canvas is not supported.'));\n\t}\n\n\timg.onload = () => {\n\t\tconst ctx = canvas.getContext('2d');\n\t\tcanvas.width = img.width;\n\t\tcanvas.height = img.height;\n\t\tctx.drawImage(img, 0, 0);\n\t\tconst dataUri = canvas.toDataURL('image/png');\n\t\tcallback(null, dataUri);\n\t};\n\n\timg.ononerror = () => {\n\t\tcallback(new Error('Failed to load image.'));\n\t};\n\n\timg.setAttribute('crossOrigin', 'anonymous');\n\timg.src = url;\n}\n\nexport default srcToDataUri;\n","import isDataUri from 'is-data-uri';\nimport dataUriToBlob from './data-uri-to-blob';\nimport imageToDataUri from './image-to-data-uri';\n\nfunction loadImageFile(url, callback) {\n\tif (isDataUri(url)) {\n\t\tconst file = dataUriToBlob(url);\n\t\tsetTimeout(() => {\n\t\t\tcallback(null, file);\n\t\t});\n\t} else {\n\t\timageToDataUri(url, (err, uri) => {\n\t\t\tconst file = dataUriToBlob(uri);\n\t\t\tcallback(err, file);\n\t\t});\n\t}\n}\n\nexport default loadImageFile;\n","// copied from https://github.com/ianstormtaylor/slate-plugins ,for some reasons ，it updated 1years ago, i may need to diy it ,so copied .\nimport isImage from 'is-image';\nimport isUrl from 'is-url';\n// import logger from 'slate-dev-logger';\nimport { Block, KeyUtils } from 'slate';\nimport { extname } from 'path';\nimport { getEventTransfer, getEventRange } from 'slate-react';\nimport loadImageFile from './load-image-file';\n\n/**\n * Insert images on drop or paste.\n *\n * @param {Object} options\n * @property {Function} insertImage\n * @property {Array} extensions (optional)\n * @return {Object} plugin\n */\n\nfunction DropOrPasteImages(options = {}) {\n\tlet { insertImage, extensions } = options;\n\n\tif (options.applyTransform) {\n\t\tconsole.warn(\n\t\t\t'0.6.0',\n\t\t\t'The `applyTransform` argument to `slate-drop-or-paste-images` has been renamed to `insertImage` instead.'\n\t\t);\n\t\tinsertImage = options.applyTransform;\n\t}\n\n\tif (!insertImage) {\n\t\tthrow new Error('You must supply an `insertImage` function.');\n\t}\n\n\t/**\n   * Check file extension against user-defined options.\n   *\n   * @param {Type} string\n   * @return {Boolean}\n   */\n\n\tfunction matchExt(type) {\n\t\tlet accepted = false;\n\n\t\tfor (const ext of extensions) {\n\t\t\tif (type.includes(ext)) accepted = true;\n\t\t}\n\n\t\treturn accepted;\n\t}\n\n\t/**\n   * Apply the change for a given file and update the editor with the result.\n   *\n   * @param {Change} change\n   * @param {Blob} file\n   * @return {Promise}\n   */\n\n\tfunction asyncApplyChange(change, file) {\n\t\tconst { editor } = change;\n\n\t\treturn Promise.resolve(insertImage(change, file)).then(() => {\n\t\t\teditor.onChange(change);\n\t\t});\n\t}\n\n\t/**\n   * On drop or paste.\n   *\n   * @param {Event} event\n   * @param {Change} change\n   * @param {Function} next\n   * @return {State}\n   */\n\n\tfunction onInsert(event, change, next) {\n\t\tconst { editor } = change;\n\t\tconst transfer = getEventTransfer(event);\n\t\tconsole.log('TCL: onInsert -> transfer', transfer);\n\t\tconst range = getEventRange(event, editor);\n\n\t\tswitch (transfer.type) {\n\t\t\tcase 'files':\n\t\t\t\treturn onInsertFiles(event, change, next, transfer, range);\n\t\t\tcase 'html':\n\t\t\t\treturn onInsertHtml(event, change, next, transfer, range);\n\t\t\tcase 'text':\n\t\t\t\treturn onInsertText(event, change, next, transfer, range);\n\t\t\tcase 'fragment':\n\t\t\t\tconsole.log('fragment');\n\t\t\t\tif (transfer.text && !transfer.text.match(/\\.svg$/)) return next();\n\t\t\t\telse return;\n\t\t\tdefault:\n\t\t\t\treturn next();\n\t\t}\n\t}\n\n\t/**\n   * On drop or paste files.\n   *\n   * @param {Event} event\n   * @param {Change} change\n   * @param {Function} next\n   * @param {Object} transfer\n   * @param {Range} range\n   * @return {Boolean}\n   */\n\n\tfunction onInsertFiles(event, change, next, transfer, range) {\n\t\tconst { files } = transfer;\n\n\t\tfor (const file of files) {\n\t\t\tif (extensions) {\n\t\t\t\tconst type = file.type;\n\t\t\t\tconst [ , ext ] = type.split('/');\n\t\t\t\tif (!matchExt(ext)) continue;\n\t\t\t}\n\n\t\t\tif (range) {\n\t\t\t\tchange.select(range);\n\t\t\t}\n\n\t\t\tasyncApplyChange(change, file);\n\t\t}\n\t}\n\n\t/**\n   * On drop or paste html.\n   *\n   * @param {Event} event\n   * @param {Change} change\n   * @param {Function} next\n   * @param {Object} transfer\n   * @param {Range} range\n   * @return {Boolean}\n   */\n\n\tfunction onInsertHtml(event, change, next, transfer, range) {\n\t\tconst { editor } = change;\n\t\tconst { html } = transfer;\n\t\tconst parser = new DOMParser();\n\t\tconst doc = parser.parseFromString(html, 'text/html');\n\t\tconst body = doc.body;\n\t\tconst firstChild = body.firstChild;\n\t\tif (firstChild.nodeName.toLowerCase() !== 'img') return next();\n\n\t\tconst src = firstChild.src;\n\n\t\tif (extensions) {\n\t\t\tconst ext = extname(src).slice(1);\n\t\t\tif (!matchExt(ext)) return next();\n\t\t}\n\n\t\tloadImageFile(src, (err, file) => {\n\t\t\tif (err) return;\n\n\t\t\teditor.change((c) => {\n\t\t\t\tif (range) {\n\t\t\t\t\tc.select(range);\n\t\t\t\t}\n\n\t\t\t\tasyncApplyChange(c, file);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n   * On drop or paste text.\n   *\n   * @param {Event} event\n   * @param {Change} change\n   * @param {Function} next\n   * @param {Object} transfer\n   * @param {Range} range\n   * @return {Boolean}\n   */\n\n\tfunction onInsertText(event, change, next, transfer, range) {\n\t\tconst { editor } = change;\n\t\tconst { text } = transfer;\n\t\tif (!isUrl(text)) return next();\n\t\tif (!isImage(text)) return next();\n\n\t\tloadImageFile(text, (err, file) => {\n\t\t\tif (err) return;\n\t\t\tconsole.log('loadImageFile');\n\t\t\teditor.change((c) => {\n\t\t\t\tif (range) {\n\t\t\t\t\tc.select(range);\n\t\t\t\t}\n\n\t\t\t\tasyncApplyChange(c, editor, file);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n   * Return the plugin.\n   *\n   * @type {Object}\n   */\n\n\treturn {\n\t\tonDrop: onInsert,\n\t\tonPaste: onInsert,\n\t\tcommands: {\n\t\t\tinsertImageFile: (editor, file) => {\n\t\t\t\tconst { onImageUploadStart, onShowToast, onImageUploadStop } = editor.props;\n\t\t\t\tconst { uploadImage } = options;\n\t\t\t\tif (!uploadImage) {\n\t\t\t\t\tconsole.error('uploadImage callback must be defined to handle image uploads.');\n\t\t\t\t}\n\n\t\t\t\tif (onImageUploadStart) onImageUploadStart();\n\n\t\t\t\tlet key = KeyUtils.create();\n\n\t\t\t\tconst alt = '';\n\t\t\t\t// load the file as a data URL\n\t\t\t\tconst placeholderSrc = URL.createObjectURL(file);\n\n\t\t\t\tconst node = Block.create({\n\t\t\t\t\tkey,\n\t\t\t\t\ttype: 'image',\n\t\t\t\t\tisVoid: true,\n\t\t\t\t\tdata: { src: placeholderSrc, alt, loading: true }\n\t\t\t\t});\n\n\t\t\t\teditor.insertBlock(node).insertBlock('paragraph').onChange(editor);\n\n\t\t\t\t// withoutSaving prevents this op from being added to the history, so you can't\n\t\t\t\t// undo back to showing the upload placeholder. 'onChange' addition is a hack\n\t\t\t\t// to get around a bug in slate-drop-or-paste-images\n\t\t\t\teditor.withoutSaving((editor) => {\n\t\t\t\t\t// now we have a placeholder, start the image upload. This could be very fast\n\t\t\t\t\t// or take multiple seconds. The user may further edit the content during this time.\n\t\t\t\t\tuploadImage &&\n\t\t\t\t\t\tuploadImage(file)\n\t\t\t\t\t\t\t.then((src) => {\n\t\t\t\t\t\t\t\tif (!src) {\n\t\t\t\t\t\t\t\t\tthrow new Error('No image url returned from uploadImage callback');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// replace the placeholder with the final image if we can. The user may have\n\t\t\t\t\t\t\t\t// removed it during upload so we need to take that into account.\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\teditor.setNodeByKey(key, {\n\t\t\t\t\t\t\t\t\t\tdata: { src, alt, loading: false }\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t\tconsole.warn('Image placeholder could not be found', err);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\t// if there was an error during upload, remove the placeholder image\n\t\t\t\t\t\t\t\teditor.removeNodeByKey(key);\n\t\t\t\t\t\t\t\tif (onShowToast) {\n\t\t\t\t\t\t\t\t\tonShowToast('Sorry, an error occurred uploading the image');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\t\t\tif (onImageUploadStop) onImageUploadStop();\n\t\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * Export.\n *\n * @type {Function}\n */\n\nexport default DropOrPasteImages;\n","import React from 'react';\n\nexport default function VideoUrlInput(props) {\n\tconst [ val, setVal ] = React.useState(props.defaultValue);\n\n\tconst onChange = React.useCallback(\n\t\t(e) => {\n\t\t\tsetVal(e.target.value);\n\t\t\tprops.onChange(e.target.value);\n\t\t},\n\t\t[ props ]\n\t);\n\n\treturn <input value={val} onChange={onChange} onClick={props.onClick} style={props.style} />;\n}\n","import React from 'react';\nimport UrlInput from './UrlInput';\nexport default class EmbedComponent extends React.Component {\n\tref = React.createRef();\n\tonChange = (url) => {\n\t\tconst { node, editor } = this.props;\n\t\teditor.setNodeByKey(node.key, { data: { url } });\n\t};\n\n\tonClick = (e) => {\n\t\te.stopPropagation();\n\t};\n\n\trender() {\n\t\tconst { isSelected } = this.props;\n\n\t\treturn (\n\t\t\t<div {...this.props.attributes} ref={this.ref}>\n\t\t\t\t{this.renderView()}\n\t\t\t\t{isSelected ? this.renderInput() : null}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderView = () => {\n\t\tconst { node, isFocused } = this.props;\n\t\tconst url = node.data.get('url');\n\n\t\tconst wrapperStyle = {\n\t\t\tposition: 'relative',\n\t\t\toutline: isFocused ? '2px solid blue' : 'none'\n\t\t};\n\n\t\tconst maskStyle = {\n\t\t\tdisplay: isFocused ? 'none' : 'block',\n\t\t\tposition: 'absolute',\n\t\t\ttop: '0',\n\t\t\tleft: '0',\n\t\t\theight: '100%',\n\t\t\twidth: '100%',\n\t\t\tcursor: 'cell',\n\t\t\tzIndex: 1\n\t\t};\n\n\t\tconst iframeStyle = {\n\t\t\tdisplay: 'block'\n\t\t};\n\n\t\treturn (\n\t\t\t<div style={wrapperStyle}>\n\t\t\t\t<div style={maskStyle} />\n\t\t\t\t<iframe\n\t\t\t\t\tid=\"ytplayer\"\n\t\t\t\t\ttype=\"text/html\"\n\t\t\t\t\twidth=\"640\"\n\t\t\t\t\theight=\"476\"\n\t\t\t\t\tsrc={url}\n\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\tstyle={iframeStyle}\n\t\t\t\t\ttitle=\"website\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderInput = () => {\n\t\tconst { node } = this.props;\n\t\tconst url = node.data.get('url');\n\t\tconst style = {\n\t\t\tmarginTop: '5px',\n\t\t\tboxSizing: 'border-box',\n\t\t\twidth: '100%',\n\t\t\tbackground: '#eee',\n\t\t\tlineHeight: '2rem',\n\t\t\tfontSize: '1.5rem',\n\t\t\toutline: 'none',\n\t\t\tcolor: '#333'\n\t\t};\n\n\t\treturn <UrlInput defaultValue={url} onChange={this.onChange} onClick={this.onClick} style={style} />;\n\t};\n}\n","export const componentClassName = {\n\tBlockquote: 'any-blockquote',\n\tOL: 'any-todo-list',\n\tToDoList: 'any-todo-list',\n\tBulletedList: 'any-bulleted-list',\n\tOrderedList: 'any-ordered-list',\n\tToDoItem: 'any-todo-item',\n\tToDoItemContent: 'any-todo-content',\n\tToDoItemCheckbox: 'any-todo-checkbox',\n\tListItem: 'any-li',\n\tParagraph: 'any-p',\n\tParagraphPlaceHolder: 'any-p-with-placeholder',\n\tHr: 'any-hr',\n\tH1: 'any-h1',\n\tH2: 'any-h2',\n\tH3: 'any-h3',\n\tH4: 'any-h4',\n\tH5: 'any-h5',\n\tH6: 'any-h6',\n\tDragContainer: 'any-drag-container',\n\tDragHandler: 'any-drag-handler',\n\tLink: 'any-link',\n\tCode: 'any-code'\n};\n\nexport const theme = {\n\tbase: 'any-theme-base',\n\tdark: 'any-theme-dark'\n};\n","import React from 'react';\nimport { cx, css } from 'emotion';\nimport { componentClassName } from '../theme';\n// 因为组件内部不存在文本，需要在schema中增加 hr为 isVoid为true，以防止该节点在backspace时无法删除。\nconst Hr = React.forwardRef((props, ref) => {\n\tconst { isSelected = false, ...attributes } = props;\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\t{...attributes}\n\t\t\tclassName={cx(\n\t\t\t\tcss`\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 2px;\n\t\t\t\t\tmargin: 1rem 0;\n\t\t\t\t\tbackground: #eee;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tborder-style: solid;\n\t\t\t\t\tborder-width: 1px;\n\t\t\t\t`,\n\t\t\t\tcomponentClassName.Hr,\n\t\t\t\tcss`\n\t\t\t\t\tborder-color: ${isSelected ? 'var(--theme-color, #42b983)' : 'transparent'};\n\t\t\t\t`\n\t\t\t)}\n\t\t/>\n\t);\n});\n\nexport default Hr;\n","import * as React from 'react';\nimport { css } from 'emotion';\n// import Portal from './Portal';\n\n// const Viewer = ({ children, visible }) => {\n// \treturn <Portal visible={visible}>{children}</Portal>;\n// };\n\nclass Image extends React.Component {\n\tstate = {\n\t\tvisible: false\n\t};\n\thandleKeyDown = (e) => {\n\t\tif (e.key === 'Enter' || e.key === 'ArrowDown') {\n\t\t\te.preventDefault();\n\t\t\tconst { editor, node } = this.props;\n\t\t\treturn editor.moveToRangeOfNode(node).moveToStartOfNextBlock().focus();\n\t\t}\n\t};\n\n\thandleChange = (e) => {\n\t\te.stopPropagation();\n\t\tconst alt = e.target.value;\n\t\tconst { editor, node } = this.props;\n\t\tconst data = node.data.toObject();\n\t\teditor.setNodeByKey(node.key, { data: { ...data, alt } });\n\t};\n\n\trender() {\n\t\tconst { node, isSelected, readOnly, editor } = this.props;\n\t\tconst caption = node.data.get('alt') || '';\n\t\tconst src = node.data.get('src');\n\t\tconst showCaption = !readOnly || caption;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tclassName={css`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={css`\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t// onClick={() => this.setState({ visible: !this.state.visible })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\t\t\tclassName={css`\n\t\t\t\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\t\t\t\tmax-height: 100%;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborder: isSelected ? '2px solid var(--theme-color, #42b983)' : '2px solid transparent'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\talt={caption}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\teditor.moveToRangeOfNode(node);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={css`\n\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\tbottom: 1rem;\n\t\t\t\t\t\t\t\tleft: calc(50% - 100px);\n\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\tmargin-top: 0.5rem;\n\t\t\t\t\t\t\t\twidth: 200px;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{showCaption &&\n\t\t\t\t\t\t\tisSelected && (\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName={css`\n\t\t\t\t\t\t\t\t\t\tborder: 0;\n\t\t\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\t\t\tcolor: var(--theme-color, #1a2);\n\t\t\t\t\t\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\t\t\t\t\t\tpadding: 0.25rem 0.5rem;\n\t\t\t\t\t\t\t\t\t\tline-height: 1.5rem;\n\t\t\t\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\t\t\twidth: 200px;\n\t\t\t\t\t\t\t\t\t\tmin-width: 200px;\n\t\t\t\t\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\t\t\t\t\tborder: 1px solid #eee;\n\t\t\t\t\t\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\t\t\t\t\tresize: none;\n\t\t\t\t\t\t\t\t\t\t&::placeholder {\n\t\t\t\t\t\t\t\t\t\t\tcolor: var(--theme-color-text-lighten, #eee);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"可以在这里添加图片题注\"\n\t\t\t\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tdefaultValue={caption}\n\t\t\t\t\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\t\t\t\t\tdisabled={readOnly}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/* <Viewer visible={this.state.visible}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={css`\n\t\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\t\twidth: 100vw;\n\t\t\t\t\t\t\theight: 100vh;\n\t\t\t\t\t\t\tbackground: rgba(0, 0, 0, .7);\n\t\t\t\t\t\t\tz-index: 100;\n\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\ttransition: background-color .2s ease-in-out;\n\t\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t`}\n\t\t\t\t\t\tonClick={() => this.setState({ visible: !this.state.visible })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\t\t\tclassName={css`\n\t\t\t\t\t\t\t\tmax-width: 150%;\n\t\t\t\t\t\t\t\tmax-height: 150%;\n\t\t\t\t\t\t\t\twidth: 75%;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\talt={caption}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Viewer> */}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default Image;\n","import * as React from \"react\";\nimport { componentClassName } from \"../theme\";\n\nexport default function Link(props) {\n  const { attributes, node, children, editor, readOnly } = props;\n  const embed = node.data.get(\"embed\");\n  const Component = node.data.get(\"component\");\n  const href = node.data.get(\"href\");\n\n  if (embed && Component) {\n    return <Component {...props} />;\n  }\n\n  return (\n    <a\n      {...attributes}\n      className={componentClassName.Link}\n      href={readOnly ? href : undefined}\n      onClick={\n        readOnly\n          ? e => {\n              if (editor.props.onClickLink) {\n                e.preventDefault();\n                editor.props.onClickLink(href);\n              } else {\n                console.warn(\"please implement onCliclLink prop\");\n              }\n            }\n          : undefined\n      }\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {children}\n    </a>\n  );\n}\n","import React from 'react';\nimport { cx, css } from 'emotion';\nimport { componentClassName } from '../theme';\n\nclass CheckListItem extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tchecked: (this.props.node && this.props.node.data && this.props.node.data.get('checked')) || false\n\t\t};\n\t}\n\tonChange = (event) => {\n\t\tconst checked = event.target.checked;\n\t\tconst { editor, node } = this.props;\n\t\teditor.setNodeByKey(node.key, { data: { checked } });\n\t\tevent.stopPropagation();\n\t\tthis.setState({\n\t\t\tchecked: !this.state.checked\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { attributes, children, readOnly } = this.props;\n\t\tconst { checked } = this.state;\n\t\treturn (\n\t\t\t<li {...attributes} className={componentClassName.ToDoItem}>\n\t\t\t\t<span contentEditable={false}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tchecked={checked}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\tclassName={cx(componentClassName.ToDoItemCheckbox)}\n\t\t\t\t\t\t// style={{ margin: '2px 18px 0 -10px', fontSize: '18px', height: '18px' }}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tcontentEditable={!readOnly}\n\t\t\t\t\tsuppressContentEditableWarning\n\t\t\t\t\tclassName={cx(\n\t\t\t\t\t\tcss`\n\t\t\t\t\t\t\topacity: ${checked ? 0.666 : 1};\n\t\t\t\t\t\t\ttext-decoration: ${checked ? 'line-through' : 'none'};\n\t\t\t\t\t\t\t&:focus {\n\t\t\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`,\n\t\t\t\t\t\tcomponentClassName.ToDoItemContent\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nexport default CheckListItem;\n","import React from 'react';\nimport TodoItem from './TodoItem';\n// import { cx, css } from 'emotion';\nimport { componentClassName } from '../theme';\nconst ListItem = React.forwardRef(({ children, node, attributes, ...props }, ref) => {\n\tconst checked = node.data.get('checked');\n\tif (checked !== undefined) {\n\t\treturn (\n\t\t\t<TodoItem ref={ref} node={node} attributes={attributes} {...props}>\n\t\t\t\t{children}\n\t\t\t</TodoItem>\n\t\t);\n\t}\n\treturn (\n\t\t<li ref={ref} {...attributes} className={componentClassName.ListItem}>\n\t\t\t{children}\n\t\t</li>\n\t);\n});\nexport default ListItem;\n","import React from 'react';\nimport { componentClassName } from '../theme';\nconst TodoList = React.forwardRef((props, ref) => {\n\treturn (\n\t\t<ul ref={ref} className={componentClassName.ToDoList}>\n\t\t\t{props.children}\n\t\t</ul>\n\t);\n});\n\nexport default TodoList;\n","import React from 'react';\nimport { componentClassName } from '../theme';\n\nconst Heading = React.forwardRef((props, ref) => {\n\tconst { children, depth = 3, ...attributes } = props;\n\n\tswitch (depth) {\n\t\tcase 1:\n\t\t\treturn (\n\t\t\t\t<h1 ref={ref} {...attributes} className={componentClassName.H1}>\n\t\t\t\t\t{children}\n\t\t\t\t</h1>\n\t\t\t);\n\t\tcase 2:\n\t\t\treturn (\n\t\t\t\t<h2 ref={ref} {...attributes} className={componentClassName.H2}>\n\t\t\t\t\t{children}\n\t\t\t\t</h2>\n\t\t\t);\n\t\tcase 3:\n\t\t\treturn (\n\t\t\t\t<h3 ref={ref} {...attributes} className={componentClassName.H3}>\n\t\t\t\t\t{children}\n\t\t\t\t</h3>\n\t\t\t);\n\t\tcase 4:\n\t\t\treturn (\n\t\t\t\t<h4 ref={ref} {...attributes} className={componentClassName.H4}>\n\t\t\t\t\t{children}\n\t\t\t\t</h4>\n\t\t\t);\n\t\tcase 5:\n\t\t\treturn (\n\t\t\t\t<h5 ref={ref} {...attributes} className={componentClassName.H5}>\n\t\t\t\t\t{children}\n\t\t\t\t</h5>\n\t\t\t);\n\t\tcase 6:\n\t\t\treturn (\n\t\t\t\t<h6 ref={ref} {...attributes} className={componentClassName.H6}>\n\t\t\t\t\t{children}\n\t\t\t\t</h6>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<p ref={ref} {...attributes} data-error=\"there is no such heading \">\n\t\t\t\t\t{children}\n\t\t\t\t</p>\n\t\t\t);\n\t}\n});\n\nexport default Heading;\n\nexport const Heading1 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={1} />;\n});\n\nexport const Heading2 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={2} />;\n});\nexport const Heading3 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={3} />;\n});\nexport const Heading4 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={4} />;\n});\nexport const Heading5 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={5} />;\n});\nexport const Heading6 = React.forwardRef((props, ref) => {\n\treturn <Heading ref={ref} {...props} depth={6} />;\n});\n","import React from 'react';\n\nimport { cx } from 'emotion';\nimport { componentClassName } from '../theme';\nconst Paragraph = React.forwardRef(({ children, placeholderVisible, ...attributes }, ref) => {\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\t{...attributes}\n\t\t\tclassName={cx(placeholderVisible ? componentClassName.ParagraphPlaceHolder : componentClassName.Paragraph)}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n});\nexport default Paragraph;\n","import React from 'react';\nimport Hr from '../../components/Hr';\nimport Image from '../../components/Image';\nimport Link from '../../components/Link';\nimport ListItem from '../../components/ListItem';\nimport TodoList from '../../components/TodoList';\nimport { Heading1, Heading2, Heading3, Heading4, Heading5, Heading6 } from '../../components/Heading';\nimport Paragraph from '../../components/Paragraph';\nimport { componentClassName } from '../../theme';\n\nexport default function renderBlock(props, editor, next) {\n\tconst { attributes } = props;\n\n\tconst hidden = props.node.data.get('hidden');\n\tif (hidden) attributes.style = { display: 'none' };\n\n\tswitch (props.node.type) {\n\t\tcase 'paragraph':\n\t\t\tconst { isFocused } = props;\n\t\t\tconst { isExpanded } = editor.value.selection;\n\t\t\t// 通过添加一个placeholderVisible的状态，控制是否增加一个css样式（当文本没有内容[slate中是不存在的，通过attr的相关属性模拟]来显示placeholder）\n\t\t\treturn (\n\t\t\t\t<Paragraph {...attributes} placeholderVisible={isFocused && !isExpanded}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</Paragraph>\n\t\t\t);\n\t\tcase 'block-quote':\n\t\t\treturn (\n\t\t\t\t<blockquote className={componentClassName.Blockquote} {...attributes}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</blockquote>\n\t\t\t);\n\t\tcase 'bulleted-list':\n\t\t\treturn (\n\t\t\t\t<ul className={componentClassName.BulletedList} {...attributes}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</ul>\n\t\t\t);\n\t\tcase 'ordered-list':\n\t\t\treturn (\n\t\t\t\t<ol className={componentClassName.OrderedList} {...attributes}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</ol>\n\t\t\t);\n\t\tcase 'todo-list':\n\t\t\treturn <TodoList {...attributes}>{props.children}</TodoList>;\n\t\tcase 'list-item':\n\t\t\treturn <ListItem {...props} />;\n\t\tcase 'horizontal-rule':\n\t\t\treturn <Hr {...attributes} isSelected={props.isSelected} />;\n\t\tcase 'image':\n\t\t\treturn <Image {...attributes} isSelected={props.isSelected} {...props} />;\n\t\tcase 'link':\n\t\t\treturn <Link {...props} />;\n\t\tcase 'heading1':\n\t\t\treturn <Heading1 {...attributes}>{props.children}</Heading1>;\n\t\tcase 'heading2':\n\t\t\treturn <Heading2 {...attributes}>{props.children}</Heading2>;\n\t\tcase 'heading3':\n\t\t\treturn <Heading3 {...attributes}>{props.children}</Heading3>;\n\t\tcase 'heading4':\n\t\t\treturn <Heading4 {...attributes}>{props.children}</Heading4>;\n\t\tcase 'heading5':\n\t\t\treturn <Heading5 {...attributes}>{props.children}</Heading5>;\n\t\tcase 'heading6':\n\t\t\treturn <Heading6 {...attributes}>{props.children}</Heading6>;\n\t\tdefault:\n\t\t\treturn next();\n\t}\n}\n","import React from 'react';\nimport { componentClassName } from '../../theme';\n\nexport default function renderMark(props, editor, next) {\n\tswitch (props.mark.type) {\n\t\tcase 'bold':\n\t\t\treturn <strong>{props.children}</strong>;\n\t\tcase 'code':\n\t\t\treturn <code className={componentClassName.Code}>{props.children}</code>;\n\t\tcase 'italic':\n\t\t\treturn <em>{props.children}</em>;\n\t\tcase 'underlined':\n\t\t\treturn <u>{props.children}</u>;\n\t\tcase 'deleted':\n\t\t\treturn <del>{props.children}</del>;\n\t\tcase 'inserted':\n\t\t\treturn <mark>{props.children}</mark>;\n\t\tdefault:\n\t\t\treturn next();\n\t}\n}\n","import React from 'react';\nimport { componentClassName } from '../../theme';\n\nexport default function renderInline(props, editor, next) {\n\tconst { attributes, children, node } = props;\n\n\tswitch (node.type) {\n\t\tcase 'link': {\n\t\t\tconst { data } = node;\n\t\t\tconst href = data.get('href');\n\t\t\treturn (\n\t\t\t\t<a className={componentClassName.Link} {...attributes} href={href}>\n\t\t\t\t\t{children}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\t\tdefault: {\n\t\t\treturn next();\n\t\t}\n\t}\n}\n","import { Block } from 'slate';\nconst schema = {\n\tblocks: {\n\t\theading1: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading2: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading3: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading4: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading5: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\theading6: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\n\t\t'horizontal-rule': {\n\t\t\tisVoid: true\n\t\t},\n\t\timage: {\n\t\t\tisVoid: true\n\t\t},\n\t\tlink: {\n\t\t\tnodes: [ { match: { object: 'text' } } ]\n\t\t},\n\t\t'block-toolbar': {\n\t\t\tisVoid: true\n\t\t},\n\t\t'bulleted-list': {\n\t\t\tnormalize(editor, { code, node, child }) {\n\t\t\t\tconsole.log('bulleted-list', 0);\n\t\t\t\tif (code === 'child_type_invalid') {\n\t\t\t\t\tconsole.log('bulleted-list child_type_invalid');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'ordered-list': {\n\t\t\tnormalize(editor, { code, node, child }) {\n\t\t\t\tconsole.log('ordered-list', 123);\n\t\t\t\tif (code === 'child_type_invalid') {\n\t\t\t\t\tconsole.log('ordered-list child_type_invalid');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'todo-list': {\n\t\t\tnormalize(editor, { code, node, child }) {\n\t\t\t\tconsole.log('todo-list', 456);\n\t\t\t\tif (code) {\n\t\t\t\t\tconsole.log('error', code);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'list-item': {\n\t\t\tparent: [ { type: 'bulleted-list' }, { type: 'ordered-list' }, { type: 'todo-list' } ],\n\t\t\tnodes: [\n\t\t\t\t{\n\t\t\t\t\tmatch: [\n\t\t\t\t\t\t{ object: 'text' },\n\t\t\t\t\t\t{ type: 'image' },\n\t\t\t\t\t\t// { type: 'list-item' },\n\t\t\t\t\t\t{ type: 'paragraph' },\n\t\t\t\t\t\t{ type: 'bulleted-list' },\n\t\t\t\t\t\t{ type: 'ordered-list' },\n\t\t\t\t\t\t{ type: 'todo-list' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tnormalize(editor, { code, node, child }) {\n\t\t\t\tconsole.log('TCL: normalize -> code', code, child);\n\t\t\t\tif (code === 'last_child_type_invalid') {\n\t\t\t\t\tconsole.log('last_child_type_invalid');\n\t\t\t\t\treturn editor;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tdocument: {\n\t\tnodes: [\n\t\t\t{\n\t\t\t\tmatch: [\n\t\t\t\t\t{ type: 'paragraph' },\n\t\t\t\t\t{ type: 'heading1' },\n\t\t\t\t\t{ type: 'heading2' },\n\t\t\t\t\t{ type: 'heading3' },\n\t\t\t\t\t{ type: 'heading4' },\n\t\t\t\t\t{ type: 'heading5' },\n\t\t\t\t\t{ type: 'heading6' },\n\t\t\t\t\t{ type: 'block-quote' },\n\t\t\t\t\t{ type: 'horizontal-rule' },\n\t\t\t\t\t{ type: 'image' },\n\t\t\t\t\t{ type: 'bulleted-list' },\n\t\t\t\t\t{ type: 'ordered-list' },\n\t\t\t\t\t{ type: 'todo-list' },\n\t\t\t\t\t{ type: 'block-toolbar' },\n\t\t\t\t\t{ type: 'table' },\n\t\t\t\t\t{ type: 'link' },\n\t\t\t\t\t{ type: 'math' },\n\t\t\t\t\t{ type: 'code' }\n\t\t\t\t],\n\t\t\t\tmin: 1\n\t\t\t}\n\t\t],\n\t\tlast: [\n\t\t\t{ type: 'paragraph' },\n\t\t\t{ type: 'list-item' },\n\t\t\t{ type: 'heading1' },\n\t\t\t{ type: 'heading1' },\n\t\t\t{ type: 'heading2' },\n\t\t\t{ type: 'heading3' },\n\t\t\t{ type: 'heading4' },\n\t\t\t{ type: 'heading5' },\n\t\t\t{ type: 'heading6' }\n\t\t],\n\t\tnormalize(editor, { code, node, child }) {\n\t\t\tconsole.log('TCL: normalize -> code', code, child);\n\t\t\tif (code === 'last_child_type_invalid') {\n\t\t\t\tconst paragraph = Block.create('paragraph');\n\t\t\t\teditor.insertNodeByKey(node.key, node.nodes.size, paragraph);\n\t\t\t\tif (editor.value.startBlock.text === '') {\n\t\t\t\t\tif ([ 'bulleted-list', 'ordered-list', 'todo-list' ].includes(child.type))\n\t\t\t\t\t\teditor.delete().removeNodeByKey(child.key);\n\t\t\t\t}\n\t\t\t\treturn editor;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport default schema;\n","import React from 'react';\nimport { cx } from 'emotion';\nimport './list.css';\nconst List = (props) => {\n\tconst { items, editor, node, hiddenMenu } = props;\n\tconst clickHandler = (item) => {\n\t\tconsole.log('clickHandler', editor, node);\n\t\thiddenMenu();\n\t\tif (item.block === 'math') {\n\t\t\treturn editor.focus().insertMathBlock();\n\t\t}\n\t\tif ([ 'ordered', 'undo', 'finished', 'bulleted' ].includes(item.block)) {\n\t\t\tconsole.log(item.block);\n\t\t\treturn editor.focus().moveToStartOfNode(node).insertListItem(item.block, true);\n\t\t}\n\n\t\teditor.focus().moveToEnd().setBlocks(item.block);\n\t};\n\treturn (\n\t\t<ul className=\"a-menu-list\">\n\t\t\t{items.map((item, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={index} className=\"a-menu-item\" onClick={() => clickHandler(item)}>\n\t\t\t\t\t\t<span className=\"a-menu-item-text\">\n\t\t\t\t\t\t\t<span className={cx('a-menu-item-icon', 'iconfont', item.icon)} /> {item.text}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"short-cut\">{item.shortCut}</span>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n\nexport default List;\n","import React, { useEffect, useRef, useState } from 'react';\nimport Tooltip from 'rc-tooltip';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport List from './components/List';\nimport { cx } from 'emotion';\nconst iconItems = [\n\t{ text: '一级标题', icon: 'icon-formatheader1', block: 'heading1', shortCut: '⌘+1' },\n\t{ text: '二级标题', icon: 'icon-formatheader2', block: 'heading2', shortCut: '⌘+2' },\n\t{ text: '三级标题', icon: 'icon-formatheader3', block: 'heading3', shortCut: '⌘+3' },\n\t{ text: '四级标题', icon: 'icon-formatheader4', block: 'heading4', shortCut: '⌘+4' },\n\t{ text: '五级标题', icon: 'icon-formatheader5', block: 'heading5', shortCut: '⌘+5' },\n\t{ text: '六级标题', icon: 'icon-formatheader6', block: 'heading6', shortCut: '⌘+6' },\n\t{ text: '段落', icon: 'icon-paragraph', block: 'paragraph', shortCut: '⌘+p' },\n\t{ text: '引用段落', icon: 'icon-double-quotes-l', block: 'block-quote', shortCut: '⌘+>' },\n\t{ text: '有序列表', icon: 'icon-editor-list-numbers', block: 'ordered', shortCut: '⌘+shift+l' },\n\t{ text: '无序列表', icon: 'icon-editor-list-bulleted', block: 'bulleted', shortCut: '⌘+l' },\n\t{ text: '任务列表', icon: 'icon--Todo-List', block: 'undo', shortCut: '⌘+shift+o' },\n\t{ text: '公式', icon: 'icon-formula', block: 'math', shortCut: '' }\n];\nconst WrapperBlock = ({ visible, wrapper, children }) => {\n\tuseEffect(() => {\n\t\tconsole.log('init');\n\t\treturn () => {\n\t\t\tconsole.log('clean');\n\t\t};\n\t}, []);\n\treturn (\n\t\t<div style={{ position: 'relative' }}>\n\t\t\t{visible && wrapper}\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nconst DemoWrapper2 = ({ editor, node }) => {\n\tconst [ visible, setVisible ] = useState(false);\n\tconst triggerRef = useRef(null);\n\tlet listItemMark = false;\n\tconst handleClick = (e) => {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t};\n\tlet iconItem = iconItems.find((i) => i.block === node.type);\n\tif (!iconItem) {\n\t\tswitch (node.type) {\n\t\t\tcase 'todo-list':\n\t\t\t\ticonItem = { icon: 'icon--Todo-List' };\n\t\t\t\tlistItemMark = true;\n\t\t\t\tbreak;\n\t\t\tcase 'ordered-list':\n\t\t\t\ticonItem = { icon: 'icon-editor-list-numbers' };\n\t\t\t\tlistItemMark = true;\n\t\t\t\tbreak;\n\t\t\tcase 'bulleted-list':\n\t\t\t\ticonItem = { icon: 'icon-editor-list-bulleted' };\n\t\t\t\tlistItemMark = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t}\n\treturn (\n\t\t<div\n\t\t\tcontentEditable={false}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '-50px',\n\t\t\t\ttop: '-5px',\n\t\t\t\tfontSize: '16px',\n\t\t\t\tpadding: '4px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t}}\n\t\t\tonClick={handleClick}\n\t\t\tref={triggerRef}\n\t\t>\n\t\t\t<Tooltip\n\t\t\t\tvisible={visible}\n\t\t\t\t// animation=\"zoom\"\n\t\t\t\tplacement=\"rightTop\"\n\t\t\t\tdestroyTooltipOnHide={true}\n\t\t\t\tonVisibleChange={(v) => setVisible(v)}\n\t\t\t\ttrigger=\"click\"\n\t\t\t\toverlay={\n\t\t\t\t\t<List\n\t\t\t\t\t\teditor={editor}\n\t\t\t\t\t\tnode={node}\n\t\t\t\t\t\thiddenMenu={() => setVisible(false)}\n\t\t\t\t\t\titems={\n\t\t\t\t\t\t\tlistItemMark ? (\n\t\t\t\t\t\t\t\ticonItems.filter((i) => [ 'ordered', 'bulleted' ].includes(i.block))\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\ticonItems\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<span\n\t\t\t\t\tclassName={cx('iconfont', (iconItem && iconItem.icon) || '')}\n\t\t\t\t\tstyle={{ fontSize: '1.2rem', color: '#666' }}\n\t\t\t\t/>\n\t\t\t</Tooltip>\n\t\t</div>\n\t);\n};\n\n/**\n * options需要传入一个Wrapper的组件，wrapper组件会被自动 inject 一个 {editor}的props以支持后续自定义操作\n * 例子见demoWrapper\n */\nexport default (options = {}) => {\n\tconst { Wrapper = DemoWrapper2 } = options;\n\treturn {\n\t\trenderBlock: (props, editor, next) => {\n\t\t\tconst children = next();\n\t\t\tconst { node, isSelected } = props; // isFocused,\n\t\t\tconst { isExpanded } = editor.value.selection; //选区未展开\n\t\t\tconst { document } = editor.value;\n\t\t\tconst { type } = node;\n\t\t\tif (type !== 'list-item' && document.nodes.includes(node))\n\t\t\t\treturn (\n\t\t\t\t\t<WrapperBlock visible={isSelected && !isExpanded} wrapper={<Wrapper node={node} editor={editor} />}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</WrapperBlock>\n\t\t\t\t);\n\t\t\treturn <React.Fragment>{children}</React.Fragment>;\n\t\t}\n\t};\n};\n","import React from 'react';\nexport const Context = React.createContext({});\nexport default Context;\n","import React, { useEffect, useReducer } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport Context from './Context';\nconst reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'setHover':\n\t\t\tconsole.log('setHover fired');\n\t\t\treturn { ...state, hoverKey: action.payload };\n\t\tcase 'setDragKey':\n\t\t\treturn { ...state, dragKey: action.payload };\n\t\tcase 'clean':\n\t\t\treturn { hoverKey: null, dragKey: null };\n\t\tdefault:\n\t\t\tconsole.warn('NONE REDUCER HITTED!');\n\t\t\treturn { ...state };\n\t}\n};\nconst Container = (props) => {\n\tconst [ state, dispatch ] = useReducer(reducer, { hoverKey: null, dragKey: null });\n\tuseEffect(() => {\n\t\tconsole.log('init container');\n\t\treturn () => {\n\t\t\tconsole.log('clean container');\n\t\t};\n\t}, []);\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Context.Provider value={{ state, dispatch }}>\n\t\t\t\t<DndProvider backend={HTML5Backend}>{props.children}</DndProvider>\n\t\t\t</Context.Provider>\n\t\t</div>\n\t);\n};\n\nexport default Container;\n","import React, { useCallback } from 'react';\nimport { useDrag } from 'react-dnd';\nimport { componentClassName } from '../../theme';\nimport { cx } from 'emotion';\n\nconst Card = ({ id, children, dispatch, index, nodeKey, editor, state }) => {\n\tconst { hoverKey, dragKey } = state;\n\tconst moveCard = useCallback(\n\t\t(dragKey, hoverKey) => {\n\t\t\tconst parentKey = editor.value.document.key;\n\t\t\tif (dragKey === hoverKey) return;\n\t\t\tconst hoverIndex = editor.value.document.nodes.findIndex((i) => i.key === hoverKey + ''); //hoverKey > dragKey ? hoverKey - 1 : hoverKey\n\t\t\treturn editor.moveNodeByKey(dragKey, parentKey, hoverIndex);\n\t\t},\n\t\t[ editor ]\n\t);\n\tconst [ { isDragging }, drag, preview ] = useDrag({\n\t\titem: { type: 'card', id, index, nodeKey },\n\t\tcollect: (monitor) => ({\n\t\t\tisDragging: monitor.isDragging()\n\t\t}),\n\t\toptions: {\n\t\t\tdropEffect: 'move'\n\t\t},\n\t\tbegin: (item) => {\n\t\t\tdispatch({\n\t\t\t\ttype: 'setDragKey',\n\t\t\t\tpayload: nodeKey\n\t\t\t});\n\t\t},\n\t\tend: (dropResult, monitor) => {\n\t\t\tif (dropResult) {\n\t\t\t\tconst { nodeKey: dragKey } = dropResult;\n\t\t\t\tmoveCard(dragKey, hoverKey);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: 'clean'\n\t\t\t\t\t});\n\t\t\t\t}, 55);\n\t\t\t}\n\t\t}\n\t});\n\tconst opacity = isDragging ? 0 : 1;\n\tconst borderExtra = (drag, hover) => {\n\t\tif (hover !== nodeKey) {\n\t\t\treturn {};\n\t\t}\n\t\tconst dragIndex = editor.value.document.nodes.findIndex((i) => i.key === drag + '');\n\t\tconst hoverIndex = editor.value.document.nodes.findIndex((i) => i.key === hover + '');\n\t\tif (dragIndex > hoverIndex) {\n\t\t\treturn { borderTopColor: 'green' };\n\t\t} else {\n\t\t\treturn { borderBottomColor: 'green' };\n\t\t}\n\t};\n\treturn (\n\t\t<div\n\t\t\tref={preview}\n\t\t\tstyle={{\n\t\t\t\topacity,\n\t\t\t\tborder: hoverKey === nodeKey ? '2px solid var(--theme-color,#eee)' : '2px solid transparent',\n\t\t\t\t...borderExtra(dragKey, hoverKey)\n\t\t\t}}\n\t\t\tclassName={componentClassName.DragContainer}\n\t\t>\n\t\t\t<span\n\t\t\t\tref={drag}\n\t\t\t\tclassName={cx('iconfont', 'icon-drag', componentClassName.DragHandler)}\n\t\t\t\tcontentEditable={false}\n\t\t\t/>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\nexport default Card;\n","import React from 'react';\nimport { useDrop } from 'react-dnd';\nimport Card from './Card';\nimport throttle from 'lodash/throttle';\nimport { cx, css } from 'emotion';\n// import Context from './Context';\nconst th = throttle((item, monitor, node, dispatch) => {\n\tconsole.log('before setHover', item, monitor, node.key);\n\tconst { nodeKey } = item;\n\tif (nodeKey !== node.key) {\n\t\tdispatch({\n\t\t\ttype: 'setHover',\n\t\t\tpayload: node.key\n\t\t});\n\t}\n}, 50);\n\nconst CardHOC = ({ node, editor, state, dispatch, children, ...props }) => {\n\tconst [ , drop ] = useDrop({\n\t\taccept: 'card',\n\t\thover: (item, monitor) => {\n\t\t\tth(item, monitor, node, dispatch);\n\t\t},\n\t\tdrop: (dropResult, monitor) => {\n\t\t\tconsole.log('drop!!!!!! enddrop', dropResult);\n\t\t}\n\t});\n\treturn (\n\t\t<Card\n\t\t\t{...props}\n\t\t\tkey={node.key}\n\t\t\tindex={node.key}\n\t\t\tnodeKey={node.key}\n\t\t\teditor={editor}\n\t\t\tid={node.key}\n\t\t\tstate={state}\n\t\t\tdispatch={dispatch}\n\t\t>\n\t\t\t<figure\n\t\t\t\tclassName={cx(css`\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t`)}\n\t\t\t\tref={drop}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</figure>\n\t\t</Card>\n\t);\n};\n\nexport default CardHOC;\n","import Code from '@zhujianshi/slate-code-base';\nimport MathCode from '@zhujianshi/slate-code-math';\nimport Table from '@zhujianshi/slate-table';\nimport '@zhujianshi/slate-code-base/lib/index.css';\nimport '@zhujianshi/slate-code-math/lib/index.css';\nimport '@zhujianshi/slate-table/lib/index.css';\nimport MarkDownShortcuts from './plugins/MarkDownShortcuts';\nimport KeyboardShortcuts from './plugins/KeyboardShortcuts';\nimport OnKeyDown from './plugins/OnKeyDown';\nimport MarkDownPaste from './plugins/Paste/MarkDownPaste';\nimport HtmlPaste from './plugins/Paste/HtmlPaste';\nimport HOC from './plugins/HOC/index';\nimport HoverMenu from './plugins/HOC/HoverMenu';\nimport Image from './plugins/Image';\nimport Embed from './plugins/Embed';\nimport AnyLateRender from './plugins/AnyLateRender';\nimport SideIcon from './plugins/Toolbar/SideIcon';\nimport Draggable from './plugins/Draggable';\n\nexport default [\n\tDraggable(),\n\tHOC({ plugins: [ HoverMenu ] }),\n\tMathCode(),\n\tCode(),\n\tTable(),\n\tSideIcon(),\n\tMarkDownShortcuts(),\n\tKeyboardShortcuts(),\n\tOnKeyDown(),\n\tHtmlPaste(),\n\tMarkDownPaste(),\n\tImage({\n\t\textensions: [ 'png', 'jpeg', 'jpg' ],\n\t\tinsertImage: (editor, src) => {\n\t\t\teditor.insertImageFile(src);\n\t\t}\n\t}),\n\tEmbed(),\n\tAnyLateRender()\n];\n","import React from 'react';\nimport Container from './Container';\nimport CardHOC from './CardHOC';\nimport Context from './Context';\nconst DraggablePlugin = (options = {}) => {\n\treturn {\n\t\trenderEditor: (props, editor, next) => {\n\t\t\treturn (\n\t\t\t\t<Container {...props} editor={editor}>\n\t\t\t\t\t{next()}\n\t\t\t\t</Container>\n\t\t\t);\n\t\t},\n\t\trenderBlock: (props, editor, next) => {\n\t\t\tconst { node } = props;\n\t\t\tconst { document } = editor.value;\n\t\t\tconst children = next();\n\t\t\tif (document.nodes.includes(node)) {\n\t\t\t\treturn (\n\t\t\t\t\t<Context.Consumer>\n\t\t\t\t\t\t{({ state, dispatch }) => (\n\t\t\t\t\t\t\t<CardHOC\n\t\t\t\t\t\t\t\tkey={'hoc-' + props.node.key}\n\t\t\t\t\t\t\t\tnode={props.node}\n\t\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\teditor={editor}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</CardHOC>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Context.Consumer>\n\t\t\t\t);\n\t\t\t} else return <React.Fragment>{children}</React.Fragment>;\n\t\t}\n\t};\n};\n\nexport default DraggablePlugin;\n","export const whenTrueOrNext = action => next => () => {\n  return action() || next();\n};\nexport const noop = () => {};\nexport const chain = (...conditions) =>\n  conditions.reduceRight((acc, condition) => condition(acc), noop);\n\nexport const isModKey = event => {\n  const inIOS =\n    typeof window !== \"undefined\" &&\n    /Mac|iPad|iPod|iPhone/.test(window.navigator.platform);\n  return inIOS ? event.metaKey : event.ctrlKey;\n};\n","import { isModKey } from './utils';\nimport onEnterHandler from './onEnter';\nimport onBackspaceHandler from './onBackspace';\nimport onDash from './onDash';\nimport onEscape from './onEscape';\n\nexport default function KeyboardBehavior(options = {}) {\n\tconst onEnter = options.onEnter || onEnterHandler;\n\tconst onBackspace = options.onBackspace || onBackspaceHandler;\n\n\treturn {\n\t\tonKeyDown(e, editor, next) {\n\t\t\t// 当文本被全选或者清空时 ， 去除任何mark样式并设置为段落\n\t\t\tif (editor.value.document.text.length === 0) {\n\t\t\t\t[ 'bold', 'italic', 'deleted', 'underlined', 'code', 'inserted' ].forEach((mark) => {\n\t\t\t\t\teditor.removeMark(mark);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (isModKey(e)) return next();\n\n\t\t\tswitch (e.key) {\n\t\t\t\tcase 'Escape':\n\t\t\t\t\treturn onEscape(e, editor, next);\n\t\t\t\tcase 'Enter':\n\t\t\t\t\treturn onEnter(e, editor, next);\n\t\t\t\tcase 'Backspace':\n\t\t\t\t\treturn onBackspace(e, editor, next);\n\t\t\t\tcase '-':\n\t\t\t\t\treturn onDash(e, editor, next);\n\t\t\t\tdefault:\n\t\t\t\t\treturn next();\n\t\t\t}\n\t\t}\n\t};\n}\n","export default function onEscape(event, editor, next) {\n\tconst { value } = editor;\n\tconst { startBlock, selection } = value;\n\tif (selection.isExpanded) return next();\n\tif (!startBlock) return next();\n\n\teditor.moveToEndOfNode(startBlock).moveForward(1);\n\n\treturn next();\n}\n","export default function onDash(e, editor, next) {\n  const { value } = editor;\n  const { startBlock, selection } = value;\n  if (selection.isExpanded) return next();\n\n  if (startBlock.type.match(/heading/)) return next();\n  // if (editor.isSelectionInTable()) return next();\n\n  const chars = startBlock.text\n    .slice(0, selection.start.offset)\n    .replace(/\\s*/g, \"\");\n\n  if (chars === \"--\") {\n    e.preventDefault();\n    return editor\n      .moveFocusToStartOfNode(startBlock)\n      .delete()\n      .setBlocks(\n        {\n          type: \"horizontal-rule\",\n          isVoid: true\n        },\n        { normalize: false }\n      )\n      .insertBlock(\"paragraph\")\n      .focus();\n  }\n\n  return next();\n}\n","import React from 'react';\nimport EmbedComponent from './EmbedComponent';\n\nexport default (options) => {\n\treturn {\n\t\tschema: {\n\t\t\tblocks: {\n\t\t\t\tembed: {\n\t\t\t\t\tisVoid: true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trenderBlock: (props, editor, next) => {\n\t\t\tif (props.node.type === 'embed') return <EmbedComponent {...props} editor={editor} />;\n\t\t\treturn next();\n\t\t},\n\t\tonKeyDown: (event, editor, next) => {\n\t\t\tconst { value: { startBlock } } = editor;\n\t\t\tif (startBlock && startBlock.type === 'embed' && event.key === 'Enter') {\n\t\t\t\treturn editor.insertBlock('paragraph');\n\t\t\t}\n\t\t\treturn next();\n\t\t}\n\t};\n};\n","import renderBlock from './renderBlock';\nimport renderMark from './renderMark';\nimport renderInline from './renderInline';\nimport schema from './schema';\nexport default function AnyLateRender() {\n\treturn {\n\t\trenderBlock,\n\t\trenderMark,\n\t\trenderInline,\n\t\tschema\n\t};\n}\n","import { Editor } from 'slate-react';\nimport { Value } from 'slate';\n\nimport React, { useState } from 'react';\nimport initialValueAsJson from './value.json';\nimport plugins from './plugins';\nimport './themes/base.less';\nimport { theme } from './theme.js';\nimport { cx } from 'emotion';\n\nconst initialValue = Value.fromJSON(initialValueAsJson);\nconst AnySlate = (props) => {\n\tconst [ currentTheme, setTheme ] = useState(theme.light);\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetTheme(theme.dark);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tdark\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetTheme(theme.light);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tlight\n\t\t\t</button>\n\t\t\t<Editor\n\t\t\t\tclassName={cx(theme.base, currentTheme)}\n\t\t\t\tplugins={plugins}\n\t\t\t\tplaceholder=\"Write the code , change the world...\"\n\t\t\t\tdefaultValue={initialValue}\n\t\t\t/>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default AnySlate;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport AnySlate from './editor/index';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<AnySlate />, document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}